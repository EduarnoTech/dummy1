{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AEPL\\\\Desktop\\\\Git Clones\\\\Dummy_project\\\\Backend\\\\dummy1\\\\src\\\\pages\\\\messenger\\\\Messenger.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './messenger.css';\nimport ReactLoading from 'react-loading';\nimport Conversation from '../../components/conversations/Conversation';\nimport Message from '../../components/message/Message';\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport { msgUrl, sendMsgUrl, sendFileUrl, templateMsgUrl, sendtemplateMsgUrl, addContactUrl, addLabelUrl, quickReplyUrl, contactUrl, addAgentUrl } from '../../serviceUrls/Message-Services';\nimport { getCustomersUrl } from '../../serviceUrls/Customer-Services';\nimport ForwardMsg from '../../components/forwardConv/ForwardMsg';\nimport chatDemo from '../../assets/openChat2.png';\nimport SendIcon from '@material-ui/icons/Send';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MicIcon from '@material-ui/icons/Mic';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes';\nimport PersonAddAltOutlinedIcon from '@mui/icons-material/PersonAddAltOutlined';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport { storeFilesUrl } from '../../serviceUrls/StoreFiles-Service';\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\nimport MoreMenu from '../../components/dropDown/MoreMenu';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport ReplayIcon from '@mui/icons-material/Replay';\nimport DropFile from '../../components/drag_dropFile/DropFile';\nimport SaveIcon from '@mui/icons-material/Save';\nimport TutorContact from '../../components/tutorContacts/TutorContact';\nimport Pagination from '@mui/material/Pagination';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport RightSec from '../../components/rightComponent/RightSec';\nimport DynamicFormIcon from '@mui/icons-material/DynamicForm';\nimport FormCreation from '../../components/forms/FormCreation';\nimport AutorenewRoundedIcon from '@mui/icons-material/AutorenewRounded';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport NoteAddIcon from '@mui/icons-material/NoteAdd';\nimport ToggleOffIcon from '@mui/icons-material/ToggleOff';\nimport ToggleOnIcon from '@mui/icons-material/ToggleOn';\nimport NoteHistory from '../../components/notes/NoteHistory';\nimport IconButton from '@mui/material/IconButton';\nimport { NAME_SPACE } from '../../utils/variables';\nimport SpeedDial from '@mui/material/SpeedDial';\nimport SpeedDialIcon from '@mui/material/SpeedDialIcon';\nimport SpeedDialAction from '@mui/material/SpeedDialAction';\nimport FileCopyIcon from '@mui/icons-material/FileCopyOutlined';\nimport PrintIcon from '@mui/icons-material/Print';\nimport ShareIcon from '@mui/icons-material/Share';\nimport EditIcon from '@mui/icons-material/Edit';\nimport PriorityHighIcon from '@mui/icons-material/PriorityHigh';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Alert;\n\nconst Messenger = _ref => {\n  _s();\n\n  let {\n    apiUrl,\n    apiKey\n  } = _ref;\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [msgResponse, setMsgResponse] = useState();\n  const [messages, setMessages] = useState([]);\n  const [newMsgRec, setNewMsgRec] = useState([]);\n  const [finalMessage, setFinalMessage] = useState([]);\n  const [textMsg, setTextMsg] = useState([]);\n  const [messageId, setMessageId] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const [arrivalMessage, setArrivalMessage] = useState([]);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [forward, setForward] = useState({});\n  const [forwarded, setForwarded] = useState(false);\n  const socket = useRef();\n  const [userId, setUserId] = useState(null);\n  const [visible, setVisible] = useState();\n  const [search, setSearch] = useState('');\n  const [highlighted, setHighlighted] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [alert, setAlert] = useState(0);\n  const [alertMsg, setAlertMsg] = useState([]);\n  const [myFiles, setMyFiles] = useState([]);\n  const [showFile, setShowFile] = useState();\n  const [file, setFile] = useState();\n  const [fileSent, setFileSent] = useState(0);\n  const [openTooltip, setOpenTooltip] = useState(false);\n  const [openTooltipForm, setOpenTooltipForm] = useState(false);\n  const [templateMessage, setTemplateMessage] = useState();\n  const [showTemplateMsg, setShowTemplateMsg] = useState(false);\n  const [caption, setCaption] = useState('');\n  const [saved, setSaved] = useState();\n  const [updated, setUpdated] = useState();\n  const [newNotification, setNewNotification] = useState();\n  const [addNewContact, setAddNewContact] = useState(false);\n  const [addName, setAddName] = useState();\n  const [addNumber, setAddNumber] = useState();\n  const [status, setStatus] = useState([]);\n  const [msgId, setMsgId] = useState();\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(20);\n  const [taglabel, setTaglabel] = useState();\n  const [tagUpdated, setTagUpdated] = useState();\n  const [msgCountUpdated, setMsgCountUpdated] = useState(false);\n  const [scrollView, setScrollView] = useState(true);\n  const [scrollView_, setScrollView_] = useState(true);\n  const [pinned, setPinned] = useState();\n  const [markChat, setMarkChat] = useState();\n  const [loading, setLoading] = useState(false);\n  const [showSelector, setShowSelector] = useState(false);\n  const [mulForward, setMulForward] = useState([]);\n  const [errMsg, setErrMsg] = useState();\n  const [scrollPosition, setScrollPosition] = useState();\n  const [forwardMsg, setForwardMsg] = useState();\n  const [msgLoad, setMsgLoad] = useState(false);\n  const [alertUpdate, setAlertUpdate] = useState();\n  const [quickReplyText, setQuickReplyText] = useState([]);\n  const [addingContact, setAddingContact] = useState(false);\n  const [confirmationText, setConfirmationText] = useState();\n  const [tutorList, setTutorList] = useState([]);\n  const [tutorTagUpdated, setTutorTagUpdated] = useState();\n  const [tutorRatingUpdated, setTutorRatingUpdated] = useState();\n  const [searchTutor, setSearchTutor] = useState('');\n  const [agentUpdated, setAgentUpdated] = useState();\n  const [agentlabel, setAgentlabel] = useState(localStorage.getItem('agent'));\n  const [agentStatus, setAgentStatus] = useState();\n  const [tutorCount, setTutorCount] = useState(0);\n  const [tutorPage, setTutorPage] = useState(1);\n  const [tutorListLoading, setTutorListLoading] = useState(false);\n  const [convCount, setConvCount] = useState(0);\n  const [contactPage, setContactPage] = useState(1);\n  const [contactListLoading, setContactListLoading] = useState(false);\n  const [searchContacts, setSearchContacts] = useState();\n  const [interestedTutors, setInterestedTutors] = useState();\n  const [newSessions, setNewSessions] = useState();\n  const [clientPayment, setClientPayment] = useState();\n  const [tutorPayout, setTutorPayout] = useState();\n  const scrollRef = useRef();\n  const listInnerRef = useRef();\n  const uniqueValuesSet = new Set();\n  const [chatLabels, setChatLabels] = useState();\n  const [loadingMsg, setLoadingMsg] = useState(false);\n  const snackBarPos = {\n    vertical: 'top',\n    horizontal: 'center'\n  };\n  const {\n    vertical,\n    horizontal\n  } = snackBarPos;\n  const [alertText, setAlertText] = useState('');\n  const [openSnackBar, setOpenSnackBar] = useState(false);\n\n  const handleCloseSnackBar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenSnackBar(false);\n  };\n\n  const handleLoadMoreMsgClick = async () => {\n    setLoadingMsg(true);\n\n    try {\n      const res = await axios.get(msgUrl + `/${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`, {\n        params: {\n          page: page,\n          limit: limit\n        }\n      }, {\n        headers: ''\n      });\n\n      if (res.data.length === 0) {\n        setOpenSnackBar(true);\n        setAlertText('No more messages');\n      } else {\n        setMsgResponse(res.data); // setMessages(() =>\n        //   res?.data?.messages?.items\n        //     .filter((f) => f.eventType === 'message')\n        //     .reverse()\n        // );\n\n        setMessages([...(res === null || res === void 0 ? void 0 : res.data), ...messages]);\n        setLoadingMsg(false);\n        setPage(page + 1);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }; // for label\n\n\n  const handleLabelChange = async e => {\n    setTaglabel(e.target.value);\n    const payload = {\n      tags: e.target.value\n    };\n    await axios.put(addLabelUrl + `/${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`, payload, {\n      headers: ''\n    });\n    setTagUpdated(payload.tags);\n  }; // agent assign\n\n\n  const handleAgentChange = async e => {\n    setAgentlabel(e.target.value);\n    const payload = {\n      agent: e.target.value\n    };\n    await axios.put(addAgentUrl + `/${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`, payload, {\n      headers: ''\n    });\n    setAgentUpdated(payload.agent);\n  }; //desktop notification alert\n\n\n  const showNotification = () => {\n    const notification_ = new Notification('hey', {\n      body: 'A new message received',\n      icon: 'https://cdn2.iconfinder.com/data/icons/ios7-inspired-mac-icon-set/1024/messages_5122x.png'\n    });\n\n    notification_.onClick = e => {\n      window.location.href = 'http://google.com';\n    };\n  }; // connection with socket\n\n\n  useEffect(() => {\n    socket.current = io('/'); // socket.current.on('connection', () => {\n    //   console.log(\"Socket connected\");\n    // });\n    // socket.current.on('new_msg', (data) => {\n    //   setMsg((draft) => {\n    //     draft.res.push(data);\n    //   });\n    // });\n\n    let api = localStorage.getItem('api');\n    let device = localStorage.getItem('device');\n    socket.current.emit('user', {\n      api: api,\n      device: device\n    });\n    let agent = localStorage.getItem('agent');\n    socket.current.emit('agent', agent);\n    socket.current.on('getAlert', msg => {\n      // storeFiles(msg); //store incoming files data to excel\n      setAlertMsg([msg]);\n\n      if (Notification.permission === 'granted' && msg !== null && msg !== void 0 && msg.contacts) {\n        showNotification();\n      }\n    }); // fetching msg from user through webhook\n    // socket.current.emit(\"addUser\", 'userId');\n\n    socket.current.on('getUsers', msgs => {\n      console.log(msgs, 'webhook');\n      let startInd = msgs.length > 19 ? msgs.length - 19 : 0;\n      setArrivalMessage(msgs.slice(startInd, msgs.length)); // let upcomingMsg = msgs?.filter((i) => i.contacts);\n      // let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\n    });\n    socket.current.on('save', saved => {\n      console.log(saved);\n      setSaved(saved);\n    });\n    socket.current.on('update', update => {\n      console.log('count', update);\n      setUpdated(update);\n    }); // socket.current.on('notification', (newNoti) => {\n    //   console.log(newNoti);\n    //   setNewNotification(newNoti);\n    // });\n\n    socket.current.on('statusChanged', filtered => {\n      console.log(filtered);\n      setStatus(() => filtered); // setMsgId(id);\n    }); // razorpay notification\n\n    socket.current.on('rpayNoti', payments => {\n      console.log(payments, 'rpayWebhook');\n      setClientPayment(payments);\n    }); // razorpayX notification\n\n    socket.current.on('rpayXNoti', payX => {\n      console.log(payX, 'rpayXWebhook');\n      setTutorPayout(payX);\n    }); // interested tutor notification\n\n    socket.current.on('interestedTutors', interestedTutor => {\n      console.log(interestedTutor, 'interestedTutors');\n      setInterestedTutors(interestedTutor);\n    }); // new session notification\n\n    socket.current.on('newSession', newSession => {\n      console.log(newSession, 'newSessions');\n      setNewSessions(newSession);\n    }); //agent status fetch\n\n    const getAgentStatus = async () => {\n      try {\n        const res = await axios.get(`${localStorage.getItem('api')}/api/agent/getAgentStatus/${localStorage.getItem('agent')}`);\n        setAgentStatus(res.data.status);\n        setChatLabels(res.data.labels);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getAgentStatus(); // socket.current.on('getAlert', (msg) => {\n    //   console.log(msg);\n    //   setAlertMsg([msg]);\n    // });\n  }, []);\n  console.log(arrivalMessage);\n  useEffect(() => {\n    var _arrivalMessage;\n\n    console.log(currentChat);\n    ((_arrivalMessage = arrivalMessage[arrivalMessage.length - 1]) === null || _arrivalMessage === void 0 ? void 0 : _arrivalMessage.contacts) && setNewMsgRec(() => arrivalMessage === null || arrivalMessage === void 0 ? void 0 : arrivalMessage.filter(i => {\n      var _i$contacts$;\n\n      return i.contacts && (i === null || i === void 0 ? void 0 : (_i$contacts$ = i.contacts[0]) === null || _i$contacts$ === void 0 ? void 0 : _i$contacts$.wa_id) == (currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id);\n    }));\n  }, [arrivalMessage, currentChat]);\n  console.log(newMsgRec); //fetching all messages of a particular selected user\n\n  useEffect(() => {\n    // setMsgLoad(true);\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(msgUrl + `/${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`, {\n          params: {\n            page: 0,\n            limit: limit\n          }\n        }, {\n          headers: ''\n        });\n        console.log(res.data);\n        setMsgResponse(res.data); // setMessages(() =>\n        //   res?.data?.messages?.items\n        //     .filter((f) => f.eventType === 'message')\n        //     .reverse()\n        // );\n\n        setMessages([...(res === null || res === void 0 ? void 0 : res.data)]);\n        setMsgLoad(false);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getMessages();\n    return () => {\n      setNewMsgRec([]);\n    };\n  }, [currentChat, forwarded, sent]); //sending files\n\n  const handleFiles = e => {\n    let files = e;\n    setFile(e);\n    let fileData = [];\n    let reader = new FileReader();\n    let myfiles = files;\n    reader.readAsDataURL(myfiles);\n\n    reader.onload = e => {\n      let formData = {\n        fileList: e.target.result\n      };\n      console.log(formData);\n      setMyFiles([formData]); // setFile(formData);\n    };\n\n    console.log(files);\n  };\n\n  console.log(myFiles);\n  console.log(file);\n\n  const closeFileModal = () => {\n    // show.current.style.display = 'none'\n    setMyFiles([]);\n    setFile(null);\n    setLoading(false);\n    setErrMsg(''); // setShowFile(false);\n  }; // // fetching msg from user through webhook\n  // useEffect(() => {\n  //   // socket.current.emit(\"addUser\", 'userId');\n  //   socket.current.on('getUsers', (msgs) => {\n  //     console.log(msgs);\n  //     setArrivalMessage(msgs);\n  //     // let upcomingMsg = msgs?.filter((i) => i.contacts);\n  //     let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\n  //     setNewMsgRec(filteredMsg.reverse());\n  //     console.log(currentChat);\n  //   });\n  //   // socket.current.on('getAlert', (msg) => {\n  //   //   console.log(msg);\n  //   //   setAlertMsg([msg]);\n  //   // });\n  // }, []);\n\n\n  console.log(newMsgRec);\n  console.log(currentChat); // fetching contacts list\n\n  useEffect(() => {\n    let agent = localStorage.getItem('agent');\n\n    const getConversations = async () => {\n      try {\n        var _res$data, _res$data2;\n\n        const res = await axios.get(getCustomersUrl + `/${agent}`, {\n          params: {\n            page: 1,\n            limit: 20\n          }\n        }, {\n          headers: ''\n        });\n        console.log(res.status); // const filteredData = res?.data?.filter((i) => i.agent == agent);\n        // let pinnedChat = res?.data?.filter((el) => el.pinContact === true);\n        // let unPinnedChat = res?.data\n        //   ?.filter((el) => el.pinContact === false)\n        //   ?.sort((a, b) => {\n        //     return b.timestamp - a.timestamp;\n        //   });\n\n        setConversations(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.result);\n        setConvCount(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.length);\n        setSaved(null);\n        setUpdated(null);\n      } catch (err) {\n        console.log(err.Error);\n      }\n    };\n\n    getConversations();\n  }, [// arrivalMessage,\n  saved, updated, tagUpdated, agentUpdated, pinned, markChat, alertUpdate, sent]);\n  console.log(conversations); // //fetching tutors list\n  // useEffect(() => {\n  //   const getTutors = async () => {\n  //     try {\n  //       const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\n  //       {\n  //         params: {\n  //           page: 1,\n  //           limit: 10,\n  //         },\n  //       },\n  //       {\n  //         headers: '',\n  //       });\n  //       setTutorList(res.data.result);\n  //       setTutorCount(res.data.length);\n  //     } catch (err) {\n  //       console.log(err.Error);\n  //     }\n  //   }\n  //   getTutors();\n  // }, [tutorTagUpdated, tutorRatingUpdated])\n\n  useEffect(() => {\n    setFinalMessage([]);\n    setMsgLoad(true);\n    setPage(1);\n  }, [currentChat]);\n  console.log(forwarded);\n  console.log(messages);\n  console.log([...messages, ...newMsgRec]);\n  console.log(newMsgRec); // var ur = [{n: [{id: '123'}]}, {n: [{id: '123'}]}, {id: '123'}, {n: [{id: '13'}]}];\n\n  function filteredArr(data, key) {\n    return [...new Map(data.map(x => [key(x), x])).values()];\n  } // filtering duplicate messages\n\n\n  useEffect(() => {\n    // let newArr = [...messages, ...newMsgRec];\n    let newArr = [...messages, ...newMsgRec]; // .filter(\n    //   (f) => f.eventType === 'message' || f.eventType === 'broadcastMessage'\n    // );\n\n    console.log('newArr', newArr);\n    setFinalMessage(() => filteredArr(newArr, it => it.messages ? it.messages[0].id : it.id));\n  }, [messages, newMsgRec]); //quick reply\n\n  const typeMsg = async e => {\n    if (e.target.value === '/') {\n      try {\n        const response = await axios.get(quickReplyUrl);\n        setQuickReplyText(response === null || response === void 0 ? void 0 : response.data); // setQuickReplyText(quickReplies);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const filteredQuickReplyText = newMessage.length > 0 && quickReplyText.length > 0 ? quickReplyText === null || quickReplyText === void 0 ? void 0 : quickReplyText.filter(f => {\n    return f.shortcut.toLowerCase().indexOf(newMessage.toLowerCase()) !== -1;\n  }) : null;\n  console.log(quickReplyText); // sending messages\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const payload = {\n      recipient_type: 'individual',\n      to: currentChat.wa_id,\n      conversationId: '',\n      name: currentChat.name,\n      from: currentChat.wa_id,\n      wa_id: currentChat.wa_id,\n      text: {\n        body: newMessage\n      },\n      type: 'text',\n      data: '',\n      isOwner: true\n    };\n    const timeStamp = {\n      timestamp: Math.floor(new Date().getTime() / 1000.0)\n    };\n\n    if (newMessage) {\n      try {\n        setNewMessage('');\n        const res = await axios.post(sendMsgUrl, payload, {\n          headers: { ...headerKey\n          }\n        }); //setMessages([...messages, res.data.message]);\n        // setFinalMessage([...finalMessage, res?.data]);\n\n        console.log('sendm', res);\n        await axios.put(`${contactUrl}/${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`, timeStamp, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        setTimeout(() => {\n          console.log('This will run after 1 second!');\n          setSent(!sent);\n        }, 0);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  console.log('fmsg', finalMessage); // sending files\n\n  const handleFileSubmit = async e => {\n    e.preventDefault();\n    setErrMsg('');\n    setLoading(true);\n    console.log(file.name);\n\n    try {\n      const res_ = await axios.post('https://waba.360dialog.io/v1/media', file, {\n        headers: {\n          'Content-Type': file.type == 'application/x-zip-compressed' ? 'application/zip' : file.type,\n          'D360-API-KEY': apiKey || localStorage.getItem('api_key')\n        }\n      });\n      const payload = {\n        recipient_type: 'individual',\n        to: currentChat.wa_id,\n        type: file.type.includes('image/') ? 'image' : file.type.includes('video/') ? 'video' : file.type.includes('audio/') ? 'audio' : 'document',\n        data: {\n          id: res_.data.media[0].id,\n          caption: caption,\n          filename: file.name\n        },\n        name: '',\n        from: '',\n        wa_id: currentChat.wa_id,\n        timestamp: '',\n        operatorName: '',\n        isOwner: true,\n        status: '',\n        ticketId: '',\n        eventType: ''\n      };\n      const res = await axios.post(sendFileUrl, payload, {\n        headers: { ...headerKey\n        }\n      }); //setMessages([...messages, res.data.message]);\n      // setFinalMessage([...finalMessage, res.data.message]);\n\n      console.log(res); // setUserId(currentChat?.wAid);\n      // setMessageId(res.data.message.whatsappMessageId);\n\n      setNewMessage(''); // setInterval(() => {\n      //   console.log('This will run every second!');\n      // }, 2000);\n\n      setTimeout(() => {\n        console.log('This will run after 0.5 second!');\n        setSent(!sent);\n        setFileSent(+fileSent + 1);\n      }, 500);\n      setMyFiles([]);\n      setLoading(false);\n      setCaption('');\n    } catch (err) {\n      setLoading(false);\n      setErrMsg('Something went wrong!');\n      console.log(err);\n    }\n  }; // fetching template messages\n  // const getTemplateMsg = async () => {\n  //   try {\n  //     const res = await axios.get(templateMsgUrl, {\n  //       headers: { ...headerKey },\n  //     });\n  //     console.log({templateMsg:res.data.waba_templates});\n  //     setTemplateMessage(res.data.waba_templates);\n  //     setShowTemplateMsg(true);\n  //   } catch (err) {\n  //     console.log(err);\n  //   }\n  // };\n\n\n  console.log(showTemplateMsg);\n\n  const closeTemplateTab = () => {\n    setShowTemplateMsg(false);\n  }; // // send template message\n  // const handleSendTemplate = async (val) => {\n  //   const payload = {\n  //     name: currentChat.name,\n  //     from: '',\n  //     wa_id: currentChat.wa_id,\n  //     templateName: val?.name,\n  //     templateText: val?.components?.filter((j) => j?.type === 'BODY')[0]?.text,\n  //     template: {\n  //       namespace: val.namespace,\n  //       language: val.language,\n  //     },\n  //     button: '',\n  //     timestamp: '',\n  //     operatorName: '',\n  //     isOwner: true,\n  //     status: '',\n  //     ticketId: '',\n  //     eventType: 'template',\n  //   };\n  //   try {\n  //     const res = await axios.post(sendtemplateMsgUrl, payload, {\n  //       headers: { ...headerKey },\n  //     });\n  //     console.log(res);\n  //     setTimeout(() => {\n  //       console.log('This will run after 1 second!');\n  //       setSent(!sent);\n  //     }, 100);\n  //     setShowTemplateMsg(false);\n  //   } catch (err) {\n  //     console.log(err);\n  //   }\n  // };\n  // send template message\n\n\n  const handleSendTemplate = async () => {\n    const payload = {\n      name: currentChat.name,\n      from: '',\n      wa_id: currentChat.wa_id,\n      templateName: \"conversation_initiate\",\n      templateText: `Hi ${currentChat.name}, This is Tutorpoint.We want to start a conversation with you. Please reply as soon as you see this message.`,\n      template: {\n        namespace: NAME_SPACE,\n        language: \"en\"\n      },\n      button: '',\n      timestamp: '',\n      operatorName: '',\n      isOwner: true,\n      status: '',\n      ticketId: '',\n      eventType: 'template'\n    };\n\n    try {\n      const res = await axios.post(sendtemplateMsgUrl, payload, {\n        headers: { ...headerKey\n        }\n      });\n      console.log(res);\n      setTimeout(() => {\n        console.log('This will run after 1 second!');\n        setSent(!sent);\n      }, 100);\n      setShowTemplateMsg(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }; // adding note b/w messages\n\n\n  const handleSendNote = async val => {\n    const payload = {\n      name: currentChat.name,\n      from: '',\n      wa_id: currentChat.wa_id,\n      clientNotes: {\n        noteText: newMessage,\n        priority: val\n      },\n      button: '',\n      timestamp: '',\n      operatorName: '',\n      isOwner: true,\n      status: '',\n      ticketId: '',\n      eventType: 'note'\n    };\n\n    try {\n      const res = await axios.post(`${localStorage.getItem('api')}/api/messages/addChatNote`, payload, {\n        headers: { ...headerKey\n        }\n      });\n      console.log(res);\n      setNewMessage('');\n      setTimeout(() => {\n        console.log('This will run after 1 second!');\n        setSent(!sent);\n      }, 100); // setShowTemplateMsg(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }; //Add contact\n\n\n  const addContact = async () => {\n    setAddingContact(true);\n    const payload = {\n      name: addName,\n      wa_id: `+${addNumber}`\n    };\n\n    try {\n      const res = await axios.post(addContactUrl, payload, {\n        headers: {}\n      });\n      setConversations([...conversations, res.data]);\n      setAddNewContact(false);\n      setAddName('');\n      setAddNumber('');\n      setAddingContact(false);\n    } catch (err) {\n      setConfirmationText('Failed to add this contact!');\n      setAddingContact(false);\n    }\n  };\n\n  useEffect(() => {\n    if (scrollView_ && scrollView || finalMessage.length <= 20) {\n      var _scrollRef$current;\n\n      (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollIntoView();\n    }\n  }, [finalMessage, fileSent, currentChat]);\n\n  const handleSearch = e => {\n    setSearch(e.target.value);\n  };\n\n  const filteredCoversation = conversations; // filtered tutor list\n  // const filteredTutorList = tutorList?.filter((f) => {\n  //   let subject = f?.subjects?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\n  //   let tag = f?.tags?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\n  //   return (\n  //     f.name.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\n  //     f.wa_id.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\n  //     f?.subjects?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\n  //     f?.tags?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1\n  //   );\n  // });\n\n  console.log(currentChat);\n\n  const handleCloseTooltip = () => {\n    setOpenTooltip(false);\n  };\n\n  const handleOpenTooltip = () => {\n    setOpenTooltip(true);\n  };\n\n  const handleCloseTooltipForm = () => {\n    setOpenTooltipForm(false);\n  };\n\n  const handleOpenTooltipForm = () => {\n    setOpenTooltipForm(true);\n  };\n\n  const handleKeyPress = e => {\n    if (e.key == 'Enter' && e.shiftKey) {\n      handleSubmit(e);\n    }\n  };\n\n  const fetchMoreData = async e => {\n    // console.log(e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight)\n    setScrollPosition(e.target.scrollTop);\n    const bottom = e.target.scrollTop;\n\n    if (bottom === 0) {\n      // TO SOMETHING HERE\n      console.log('Reached bottom'); // setPage(page + 1);\n      // try {\n      //   const res = await axios.get(\n      //     msgUrl + `/${currentChat?.wa_id}`,\n      //     {\n      //       params: {\n      //         page: page,\n      //         limit: limit,\n      //       },\n      //     },\n      //     {\n      //       headers: '',\n      //     }\n      //   );\n      //   console.log(res.data);\n      //   setMsgResponse(res.data);\n      //   // setMessages(() =>\n      //   //   res?.data?.messages?.items\n      //   //     .filter((f) => f.eventType === 'message')\n      //   //     .reverse()\n      //   // );\n      //   setMessages([...res?.data, ...messages]);\n      // } catch (err) {\n      //   console.log(err);\n      //  }\n    } else if (e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight < 260) {\n      setScrollView(true);\n    } else if (e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight >= 260) {\n      setScrollView(false);\n    }\n  }; // const handleTutorList = async (event, value) => {\n  //   setTutorListLoading(true);\n  //   setTutorPage(value);\n  //   try {\n  //     const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\n  //       {\n  //         params: {\n  //           page: value,\n  //           limit: 10,\n  //         },\n  //       },\n  //       {\n  //         headers: '',\n  //       }\n  //     );\n  //     console.log(res.data);\n  //     setTutorList(res.data.result);\n  //     setTutorListLoading(false);\n  //     // setLoadingMsg(false);\n  //     // setPage(page + 1);\n  //   } catch (err) {\n  //     console.log(err);\n  //   }\n  // };\n  // const handleSearchTutors = async (e) => {\n  //   // setSearchTutor(e.target.value);\n  //   if (e.key == 'Enter') {\n  //     try {\n  //       const res = await axios.get(`${localStorage.getItem('api')}/api/tutor/getTutors/${e.target.value}`,\n  //         {\n  //           params: {\n  //             page: 1,\n  //             limit: 10,\n  //           },\n  //         },\n  //         {\n  //           headers: '',\n  //         }\n  //       );\n  //       console.log(res.data);\n  //       setTutorList(res.data.result);\n  //       setTutorCount(res.data.length);\n  //       // setTutorListLoading(false);\n  //       // setLoadingMsg(false);\n  //       // setPage(page + 1);\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   }\n  // };\n\n\n  const handleContactList = async (event, value) => {\n    let agent = localStorage.getItem('agent');\n\n    if (searchContacts) {\n      setContactListLoading(true);\n      setContactPage(value);\n\n      try {\n        var _res$data3;\n\n        const res = await axios.get(getCustomersUrl + `/${agent}/${searchContacts}`, {\n          params: {\n            page: value,\n            limit: 20\n          }\n        }, {\n          headers: ''\n        });\n        console.log(res.data);\n        setConversations(res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.result);\n        setContactListLoading(false); // setLoadingMsg(false);\n        // setPage(page + 1);\n\n        setSaved(null);\n        setUpdated(null);\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      setContactListLoading(true);\n      setContactPage(value);\n\n      try {\n        var _res$data4;\n\n        const res = await axios.get(getCustomersUrl + `/${agent}`, {\n          params: {\n            page: value,\n            limit: 20\n          }\n        }, {\n          headers: ''\n        });\n        console.log(res.data);\n        setConversations(res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.result);\n        setContactListLoading(false); // setLoadingMsg(false);\n        // setPage(page + 1);\n\n        setSaved(null);\n        setUpdated(null);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const handleSearchContacts = async e => {\n    let agent = localStorage.getItem('agent');\n    setSearchContacts(e.target.value);\n\n    if (e.key == 'Enter') {\n      setContactListLoading(true);\n\n      try {\n        var _res$data5, _res$data6;\n\n        const res = await axios.get(getCustomersUrl + `/${agent}/${e.target.value}`, {\n          params: {\n            page: 1,\n            limit: 20\n          }\n        }, {\n          headers: ''\n        });\n        console.log(res.data);\n        setContactListLoading(false);\n        setConversations(res === null || res === void 0 ? void 0 : (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.result);\n        setConvCount(res === null || res === void 0 ? void 0 : (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.length);\n        setContactPage(1); // setTutorListLoading(false);\n        // setLoadingMsg(false);\n        // setPage(page + 1);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const handleContactValidate = async () => {\n    let payload = {\n      wa_id: `+${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id}`\n    };\n\n    try {\n      const res = await axios.post(`${localStorage.getItem('api')}/api/conversations/contactValidation`, payload);\n      setOpenSnackBar(true);\n      setAlertText(res.data.contacts[0].status + ' contact');\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleAgentStatus = async status => {\n    let payload = {\n      status: status\n    };\n\n    try {\n      const res = await axios.put(`${localStorage.getItem('api')}/api/agent/updateAgentStatus/${localStorage.getItem('agent')}`, payload);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const logOutFunc = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  const actions = [{\n    icon: /*#__PURE__*/_jsxDEV(PriorityHighIcon, {\n      color: \"success\",\n      onClick: () => handleSendNote('low')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1099,\n      columnNumber: 13\n    }, this),\n    name: 'Low priority'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(PriorityHighIcon, {\n      color: \"primary\",\n      onClick: () => handleSendNote('medium')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1100,\n      columnNumber: 13\n    }, this),\n    name: 'Medium priority'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(PriorityHighIcon, {\n      color: \"error\",\n      onClick: () => handleSendNote('high')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1101,\n      columnNumber: 13\n    }, this),\n    name: 'High priority'\n  }];\n  let deviceNo = localStorage.getItem('device');\n  let agentName = localStorage.getItem('agent'); // agent field update in all contacts\n  // const [convag, setConvag] = useState([]);\n  // useEffect(() => {\n  //   const getAgg = async () => {\n  //     try {\n  //       const res = await axios.get(\n  //         '${localStorage.getItem('api')}/api/conversations3/getContacts',\n  //         {\n  //           headers: '',\n  //         }\n  //       );\n  //       setConvag(res?.data)\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   };\n  //   getAgg();\n  // }, [])\n  // const agentUpdate = async () => {\n  //   let count = '200100';\n  //   for(let i = 0; i<convag.length; i++){\n  //     let pay = {\n  //       uid: count\n  //     }\n  //     await axios.put(`${localStorage.getItem('api')}/api/conversations3/customer/${convag[i].wa_id}`, pay);\n  //     count = +count + 1;\n  // }\n  // }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messenger\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatMenu\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"chat_header\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"profilePic\",\n            src: \"/assets/person/noAvatar.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: '1',\n              fontSize: '16px',\n              fontWeight: '600',\n              height: '22px',\n              lineHeight: '4px'\n            } // onClick={agentUpdate}\n            ,\n            children: [\"Device-\", deviceNo, ' ', deviceNo == 1 ? '(7761093194)' : deviceNo == 2 ? '(7091489698)' : deviceNo == 3 ? '(7761814102)' : deviceNo == 4 ? '(8777592248)' : deviceNo == 5 ? '(9065650479)' : null, /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#585858'\n              },\n              children: agentName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 13\n          }, this), localStorage.getItem('agent') != 'Admin' && agentStatus == 'inactive' ? /*#__PURE__*/_jsxDEV(ToggleOffIcon, {\n            style: {\n              fontSize: '32px',\n              color: '#50585C',\n              cursor: 'pointer',\n              marginRight: '10px'\n            },\n            onClick: () => handleAgentStatus('active')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 86\n          }, this) : localStorage.getItem('agent') != 'Admin' && agentStatus == 'active' ? /*#__PURE__*/_jsxDEV(ToggleOnIcon, {\n            style: {\n              fontSize: '32px',\n              color: '#00EC64',\n              cursor: 'pointer',\n              marginRight: '10px'\n            },\n            onClick: () => handleAgentStatus('inactive')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 13\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginRight: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(NoteHistory, {\n              setCurrentChat: setCurrentChat,\n              setFinalMessage: setMessages,\n              scrollRef: scrollRef,\n              setScrollView_: setScrollView_,\n              setPage: setPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PersonAddAltOutlinedIcon, {\n            style: {\n              fontSize: '32px',\n              color: addNewContact ? '#337DDD' : '#50585C',\n              cursor: 'pointer',\n              marginRight: '10px'\n            },\n            onClick: () => setAddNewContact(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LogoutIcon, {\n            style: {\n              cursor: 'pointer',\n              marginLeft: '5px'\n            },\n            onClick: logOutFunc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '2.3rem',\n            padding: '6px 0px 6px 17px',\n            backgroundColor: '#9DE1FE'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Search for users\",\n            className: \"chatMenuInput\",\n            onChange: e => handleSearch(e),\n            onKeyPress: handleSearchContacts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1219,\n          columnNumber: 11\n        }, this), addNewContact && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '8.4rem',\n            padding: '20px 0px 20px 17px',\n            backgroundColor: '#fff',\n            border: '1px solid #b3b0b0',\n            borderRadius: '3px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"addContactInput\",\n            placeholder: \"Name\",\n            value: addName,\n            onChange: e => setAddName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"addContactInput\",\n            placeholder: \"WhatsApp Number (with country code)*\",\n            value: addNumber,\n            onChange: e => setAddNumber(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 2,\n            children: [addName && addNumber && !addingContact ? /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: \"contained\",\n              color: \"error\",\n              onClick: () => addContact(),\n              children: \"save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 19\n            }, this) : addingContact ? /*#__PURE__*/_jsxDEV(LoadingButton, {\n              size: \"small\",\n              loading: true,\n              loadingPosition: \"start\",\n              startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 32\n              }, this),\n              variant: \"contained\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: \"contained\",\n              color: \"error\",\n              disabled: true,\n              children: \"save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: \"outlined\",\n              color: \"error\",\n              onClick: () => {\n                setAddNewContact(false);\n                setAddingContact(false);\n                setConfirmationText('');\n              },\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                alignSelf: 'center',\n                color: 'red',\n                fontSize: '13px'\n              },\n              children: confirmationText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 13\n        }, this), contactListLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            marginTop: '100px'\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1322,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatMenuWrapper\",\n          children: [filteredCoversation === null || filteredCoversation === void 0 ? void 0 : filteredCoversation.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              setCurrentChat(c);\n              setHighlighted(true);\n              setShowTemplateMsg(false);\n              setTaglabel('');\n              setTagUpdated('');\n            },\n            children: /*#__PURE__*/_jsxDEV(Conversation, {\n              conversation: c,\n              currentChat: currentChat,\n              finalMessage: finalMessage,\n              alertMsg: alertMsg,\n              arrivalMessage: arrivalMessage,\n              alert: alert // newNotification={newNotification}\n              ,\n              setAlert: setAlert,\n              msgCountUpdated: msgCountUpdated,\n              setMsgCountUpdated: setMsgCountUpdated,\n              setPinned: setPinned,\n              setMarkChat: setMarkChat,\n              setAlertUpdate: setAlertUpdate,\n              apiUrl: apiUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1336,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1327,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(Pagination, {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: '15px'\n            },\n            count: Math.ceil(convCount / 20),\n            page: contactPage,\n            onChange: handleContactList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1325,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatBox\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatBoxWrapper\",\n          children: currentChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"header\", {\n              className: \"currentChatHeader\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"profilePic\",\n                src: \"/assets/person/noAvatar.png\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: `${currentChat === null || currentChat === void 0 ? void 0 : currentChat.name}${currentChat === null || currentChat === void 0 ? void 0 : currentChat.wa_id.slice(0, 3)}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1377,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginLeft: \"5px\",\n                  cursor: 'pointer'\n                },\n                children: [/*#__PURE__*/_jsxDEV(AutorenewRoundedIcon, {\n                  fontSize: \"small\",\n                  onClick: handleContactValidate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n                  open: openSnackBar,\n                  autoHideDuration: 2000,\n                  onClose: handleCloseSnackBar,\n                  anchorOrigin: {\n                    vertical,\n                    horizontal\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Alert, {\n                    onClose: handleCloseSnackBar,\n                    severity: \"info\",\n                    sx: {\n                      width: '100%'\n                    },\n                    children: alertText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1386,\n                    columnNumber: 23\n                  }, this)\n                }, vertical + horizontal, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1383,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"select-list\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"taglabel\",\n                  id: \"taglabel\",\n                  value: taglabel,\n                  onChange: handleLabelChange,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    selected: true,\n                    value: \"\",\n                    children: \"Labels\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1398,\n                    columnNumber: 23\n                  }, this), chatLabels === null || chatLabels === void 0 ? void 0 : chatLabels.map(l => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: l,\n                    children: l\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1401,\n                    columnNumber: 47\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1392,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '14px',\n                  fontWeight: '600'\n                },\n                children: [\"Label: \", currentChat.tags || taglabel || '--']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  flex: '10%',\n                  justifyContent: 'flex-end',\n                  marginRight: '15px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Assign to:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"select-list\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"agentlabel\",\n                    id: \"agentlabel\",\n                    value: agentlabel,\n                    className: \"select-list2\",\n                    onChange: handleAgentChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Admin\",\n                      children: \"Admin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1473,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Chaitanya\",\n                      children: \"Chaitanya\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1474,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Nityananda\",\n                      children: \"Nityananda\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1475,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Advaita\",\n                      children: \"Advaita\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1476,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Abhay\",\n                      children: \"Abhay\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1477,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1466,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1465,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1455,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1371,\n              columnNumber: 17\n            }, this), (finalMessage === null || finalMessage === void 0 ? void 0 : finalMessage.length) == 0 || msgLoad ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chatBoxTop\",\n              children: [/*#__PURE__*/_jsxDEV(ReactLoading, {\n                type: \"spinningBubbles\",\n                color: \"#2ca6d6\",\n                className: \"loadingIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1484,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no_message\",\n                children: (finalMessage === null || finalMessage === void 0 ? void 0 : finalMessage.length) == 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"no_messageText\",\n                  children: \"You have not started conversation with this person!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1491,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1489,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1483,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chatBoxTop\" // style={{display: 'flex', flexDirection: 'column-reverse'}}\n                ,\n                onScroll: fetchMoreData,\n                ref: listInnerRef,\n                children: [finalMessage.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center',\n                    textAlign: '-webkit-center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    children: /*#__PURE__*/_jsxDEV(ReplayIcon, {\n                      onClick: handleLoadMoreMsgClick\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1521,\n                      columnNumber: 39\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1521,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1506,\n                  columnNumber: 25\n                }, this), finalMessage.map((m, i, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: scrollRef,\n                  children: /*#__PURE__*/_jsxDEV(Message, {\n                    message: m,\n                    msgArr: j,\n                    own: m.owner,\n                    ownAlt: m.isOwner,\n                    setForward: setForward,\n                    mulForward: mulForward,\n                    setMulForward: setMulForward,\n                    setVisible: setVisible,\n                    setShowSelector: setShowSelector,\n                    showSelector: showSelector,\n                    apiUrl: apiUrl,\n                    status: status,\n                    msgId: msgId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1526,\n                    columnNumber: 27\n                  }, this)\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1525,\n                  columnNumber: 25\n                }, this)), visible && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(ForwardMsg, {\n                    conversations: conversations,\n                    visible: visible,\n                    setVisible: setVisible,\n                    forward: forward,\n                    forwarded: forwarded,\n                    setForwarded: setForwarded,\n                    mulForward: mulForward,\n                    setMulForward: setMulForward,\n                    setForwardMsg: setForwardMsg,\n                    apiKey: apiKey,\n                    convCount: convCount,\n                    contactPage: contactPage,\n                    handleContactList: handleContactList,\n                    contactListLoading: contactListLoading,\n                    getCustomersUrl: getCustomersUrl\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1546,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1545,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1499,\n                columnNumber: 21\n              }, this)\n            }, void 0, false), myFiles.length > 0 && file ? /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"id01\",\n              className: \"modal_\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"modal-content_\",\n                children: /*#__PURE__*/_jsxDEV(\"header\", {\n                  style: {\n                    height: '148px',\n                    backgroundColor: '#0B1929',\n                    position: 'absolute',\n                    width: '450px',\n                    borderRadius: '5px',\n                    padding: '12px 12px 0px 12px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(CloseIcon, {\n                    fontSize: \"medium\",\n                    style: {\n                      color: '#f2efef',\n                      margin: '12px 10px -5px 10px',\n                      cursor: 'pointer'\n                    },\n                    onClick: closeFileModal\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1581,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '18px',\n                      margin: '0px 0px 0px 10px',\n                      fontWeight: '400',\n                      color: '#ffff'\n                    },\n                    children: \"Send the file\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1590,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: '15px',\n                      color: 'rgb(219 218 218)'\n                    },\n                    children: file === null || file === void 0 ? void 0 : file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chatMessageInput\",\n                    placeholder: \"Add a caption...\",\n                    value: caption,\n                    onChange: e => setCaption(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SendIcon, {\n                    style: {\n                      color: '#ffff',\n                      cursor: 'pointer',\n                      float: 'right',\n                      padding: '5px 10px',\n                      fontSize: '30px'\n                    },\n                    onClick: handleFileSubmit\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 25\n                  }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      paddingTop: '10px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1624,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1623,\n                    columnNumber: 27\n                  }, this), errMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"errMsgText\",\n                    children: errMsg\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1627,\n                    columnNumber: 36\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1571,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1570,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1569,\n              columnNumber: 19\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"footer\", {\n              className: \"chatBoxBottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '-webkit-fill-available',\n                  overflowY: 'scroll',\n                  overflowX: 'hidden',\n                  maxHeight: '199px'\n                },\n                children: filteredQuickReplyText && (filteredQuickReplyText === null || filteredQuickReplyText === void 0 ? void 0 : filteredQuickReplyText.map(i => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'row',\n                      justifyContent: 'flex-start',\n                      backgroundColor: 'rgb(223 223 223)',\n                      padding: '15px 20px',\n                      borderBottom: '1px solid rgb(209 209 209)',\n                      cursor: 'pointer'\n                    },\n                    onClick: () => setNewMessage(i.message),\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontWeight: '600',\n                        marginRight: '5px'\n                      },\n                      children: i.shortcut\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1735,\n                      columnNumber: 29\n                    }, this), i.message]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1723,\n                    columnNumber: 27\n                  }, this);\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1712,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'row',\n                  width: '-webkit-fill-available',\n                  height: '4.3rem',\n                  justifyContent: 'space-evenly',\n                  alignItems: 'center'\n                },\n                children: showSelector ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flex: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(CloseIcon, {\n                    style: {\n                      flex: '5%',\n                      cursor: 'pointer',\n                      fontSize: '30px',\n                      marginLeft: '5px'\n                    },\n                    onClick: () => {\n                      setShowSelector(false);\n                      setMulForward([]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1757,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: '90%'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1769,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(ReplyIcon, {\n                    style: {\n                      flex: '5%'\n                    },\n                    className: \"forward_final\",\n                    onClick: () => {\n                      setVisible(true);\n                      setShowSelector(false);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1770,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1756,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"attachFile\",\n                    children: [/*#__PURE__*/_jsxDEV(AttachFileIcon, {\n                      fontSize: \"medium\",\n                      className: \"attachButton\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1782,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"myFile\",\n                      name: \"myFile\",\n                      type: \"file\",\n                      className: \"attachInput\",\n                      onChange: e => handleFiles(e.target.files[0])\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1786,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1781,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    open: openTooltipForm,\n                    onClose: handleCloseTooltipForm,\n                    onOpen: handleOpenTooltipForm,\n                    title: \"CREATE FORM\",\n                    children: /*#__PURE__*/_jsxDEV(FormCreation, {\n                      clientId: currentChat.uid,\n                      clientWaId: currentChat.wa_id,\n                      clientName: currentChat.name,\n                      agent: currentChat.agent\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1800,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1794,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    open: openTooltip,\n                    onClose: handleCloseTooltip,\n                    onOpen: handleOpenTooltip // title='SEND TEMPLATE'\n                    ,\n                    title: \"INITIATE CONVERSATION\",\n                    children: /*#__PURE__*/_jsxDEV(SpeakerNotesIcon, {\n                      className: \"templateMsg\" // onClick={getTemplateMsg}\n                      ,\n                      onClick: handleSendTemplate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1809,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1802,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"chatMessageInput\",\n                    placeholder: \"Type a message...\",\n                    value: newMessage,\n                    onChange: e => {\n                      setNewMessage(e.target.value);\n                      typeMsg(e);\n                    },\n                    onKeyPress: handleKeyPress\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1815,\n                    columnNumber: 25\n                  }, this), newMessage.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(SendIcon, {\n                      fontSize: \"medium\",\n                      style: {\n                        fontSize: '29px'\n                      },\n                      className: \"chatSubmitButton\",\n                      onClick: handleSubmit\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1828,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"chatSubmitButton\",\n                      children: \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1840,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SpeedDial, {\n                      ariaLabel: \"SpeedDial openIcon example\",\n                      style: {\n                        left: '97%',\n                        height: '29px'\n                      },\n                      sx: {\n                        position: 'absolute',\n                        bottom: 16,\n                        right: 16\n                      },\n                      icon: /*#__PURE__*/_jsxDEV(NoteAddIcon, {\n                        fontSize: \"medium\",\n                        style: {\n                          fontSize: '26px',\n                          color: '#9B9B9B'\n                        },\n                        openIcon: /*#__PURE__*/_jsxDEV(SendIcon, {\n                          fontSize: \"medium\",\n                          style: {\n                            fontSize: '26px',\n                            color: '#1977f2'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1845,\n                          columnNumber: 120\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1845,\n                        columnNumber: 35\n                      }, this),\n                      children: actions.map(action => /*#__PURE__*/_jsxDEV(SpeedDialAction, {\n                        icon: action.icon,\n                        tooltipTitle: action.name\n                      }, action.name, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1848,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1841,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(MicIcon, {\n                    fontSize: \"large\",\n                    className: \"micButton\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1857,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1745,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1632,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: chatDemo // height='600'\n            // width='600'\n            ,\n            style: {\n              alignSelf: 'center',\n              marginTop: '130px',\n              height: '60vh'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1865,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RightSec, {\n        newSessions: newSessions,\n        interestedTutors: interestedTutors,\n        clientPayment: clientPayment,\n        tutorPayout: tutorPayout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1878,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Messenger, \"2cMEsPlaNjuaQfXuKYPyxLqq+oo=\");\n\n_c3 = Messenger;\nexport default Messenger;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"Messenger\");","map":{"version":3,"names":["React","ReactLoading","Conversation","Message","useContext","useEffect","useRef","useState","axios","io","msgUrl","sendMsgUrl","sendFileUrl","templateMsgUrl","sendtemplateMsgUrl","addContactUrl","addLabelUrl","quickReplyUrl","contactUrl","addAgentUrl","getCustomersUrl","ForwardMsg","chatDemo","SendIcon","AttachFileIcon","MicIcon","MoreVertIcon","CloseIcon","Tooltip","SpeakerNotesIcon","PersonAddAltOutlinedIcon","Stack","Button","storeFilesUrl","headerKey","MoreMenu","InfiniteScroll","Menu","MenuItem","LinearProgress","ReplyIcon","LoadingButton","ReplayIcon","DropFile","SaveIcon","TutorContact","Pagination","CircularProgress","LogoutIcon","RightSec","DynamicFormIcon","FormCreation","AutorenewRoundedIcon","Snackbar","MuiAlert","NoteAddIcon","ToggleOffIcon","ToggleOnIcon","NoteHistory","IconButton","NAME_SPACE","SpeedDial","SpeedDialIcon","SpeedDialAction","FileCopyIcon","PrintIcon","ShareIcon","EditIcon","PriorityHighIcon","Alert","forwardRef","props","ref","Messenger","apiUrl","apiKey","conversations","setConversations","currentChat","setCurrentChat","msgResponse","setMsgResponse","messages","setMessages","newMsgRec","setNewMsgRec","finalMessage","setFinalMessage","textMsg","setTextMsg","messageId","setMessageId","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","onlineUsers","setOnlineUsers","forward","setForward","forwarded","setForwarded","socket","userId","setUserId","visible","setVisible","search","setSearch","highlighted","setHighlighted","sent","setSent","alert","setAlert","alertMsg","setAlertMsg","myFiles","setMyFiles","showFile","setShowFile","file","setFile","fileSent","setFileSent","openTooltip","setOpenTooltip","openTooltipForm","setOpenTooltipForm","templateMessage","setTemplateMessage","showTemplateMsg","setShowTemplateMsg","caption","setCaption","saved","setSaved","updated","setUpdated","newNotification","setNewNotification","addNewContact","setAddNewContact","addName","setAddName","addNumber","setAddNumber","status","setStatus","msgId","setMsgId","page","setPage","limit","setLimit","taglabel","setTaglabel","tagUpdated","setTagUpdated","msgCountUpdated","setMsgCountUpdated","scrollView","setScrollView","scrollView_","setScrollView_","pinned","setPinned","markChat","setMarkChat","loading","setLoading","showSelector","setShowSelector","mulForward","setMulForward","errMsg","setErrMsg","scrollPosition","setScrollPosition","forwardMsg","setForwardMsg","msgLoad","setMsgLoad","alertUpdate","setAlertUpdate","quickReplyText","setQuickReplyText","addingContact","setAddingContact","confirmationText","setConfirmationText","tutorList","setTutorList","tutorTagUpdated","setTutorTagUpdated","tutorRatingUpdated","setTutorRatingUpdated","searchTutor","setSearchTutor","agentUpdated","setAgentUpdated","agentlabel","setAgentlabel","localStorage","getItem","agentStatus","setAgentStatus","tutorCount","setTutorCount","tutorPage","setTutorPage","tutorListLoading","setTutorListLoading","convCount","setConvCount","contactPage","setContactPage","contactListLoading","setContactListLoading","searchContacts","setSearchContacts","interestedTutors","setInterestedTutors","newSessions","setNewSessions","clientPayment","setClientPayment","tutorPayout","setTutorPayout","scrollRef","listInnerRef","uniqueValuesSet","Set","chatLabels","setChatLabels","loadingMsg","setLoadingMsg","snackBarPos","vertical","horizontal","alertText","setAlertText","openSnackBar","setOpenSnackBar","handleCloseSnackBar","event","reason","handleLoadMoreMsgClick","res","get","wa_id","params","headers","data","length","err","console","log","handleLabelChange","e","target","value","payload","tags","put","handleAgentChange","agent","showNotification","notification_","Notification","body","icon","onClick","window","location","href","current","api","device","emit","on","msg","permission","contacts","msgs","startInd","slice","update","filtered","payments","payX","interestedTutor","newSession","getAgentStatus","labels","filter","i","getMessages","handleFiles","files","fileData","reader","FileReader","myfiles","readAsDataURL","onload","formData","fileList","result","closeFileModal","getConversations","Error","filteredArr","key","Map","map","x","values","newArr","it","id","typeMsg","response","filteredQuickReplyText","f","shortcut","toLowerCase","indexOf","handleSubmit","preventDefault","recipient_type","to","conversationId","name","from","text","type","isOwner","timeStamp","timestamp","Math","floor","Date","getTime","post","setTimeout","handleFileSubmit","res_","includes","media","filename","operatorName","ticketId","eventType","closeTemplateTab","handleSendTemplate","templateName","templateText","template","namespace","language","button","handleSendNote","val","clientNotes","noteText","priority","addContact","scrollIntoView","handleSearch","filteredCoversation","handleCloseTooltip","handleOpenTooltip","handleCloseTooltipForm","handleOpenTooltipForm","handleKeyPress","shiftKey","fetchMoreData","scrollTop","bottom","scrollHeight","clientHeight","handleContactList","handleSearchContacts","handleContactValidate","handleAgentStatus","reload","logOutFunc","clear","actions","deviceNo","agentName","flex","fontSize","fontWeight","height","lineHeight","color","cursor","marginRight","marginLeft","padding","backgroundColor","border","borderRadius","alignSelf","display","justifyContent","marginTop","c","ceil","width","l","alignItems","textAlign","m","j","owner","position","margin","float","paddingTop","overflowY","overflowX","maxHeight","flexDirection","borderBottom","message","uid","left","right","action"],"sources":["C:/Users/AEPL/Desktop/Git Clones/Dummy_project/Backend/dummy1/src/pages/messenger/Messenger.jsx"],"sourcesContent":["import React from 'react';\r\nimport './messenger.css';\r\nimport ReactLoading from 'react-loading';\r\nimport Conversation from '../../components/conversations/Conversation';\r\nimport Message from '../../components/message/Message';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\nimport {\r\n  msgUrl,\r\n  sendMsgUrl,\r\n  sendFileUrl,\r\n  templateMsgUrl,\r\n  sendtemplateMsgUrl,\r\n  addContactUrl,\r\n  addLabelUrl,\r\n  quickReplyUrl,\r\n  contactUrl,\r\n  addAgentUrl,\r\n} from '../../serviceUrls/Message-Services';\r\nimport { getCustomersUrl } from '../../serviceUrls/Customer-Services';\r\nimport ForwardMsg from '../../components/forwardConv/ForwardMsg';\r\nimport chatDemo from '../../assets/openChat2.png';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes';\r\nimport PersonAddAltOutlinedIcon from '@mui/icons-material/PersonAddAltOutlined';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport { storeFilesUrl } from '../../serviceUrls/StoreFiles-Service';\r\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\r\nimport MoreMenu from '../../components/dropDown/MoreMenu';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport ReplayIcon from '@mui/icons-material/Replay';\r\nimport DropFile from '../../components/drag_dropFile/DropFile';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport TutorContact from '../../components/tutorContacts/TutorContact';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport RightSec from '../../components/rightComponent/RightSec';\r\nimport DynamicFormIcon from '@mui/icons-material/DynamicForm';\r\nimport FormCreation from '../../components/forms/FormCreation';\r\nimport AutorenewRoundedIcon from '@mui/icons-material/AutorenewRounded';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport NoteAddIcon from '@mui/icons-material/NoteAdd';\r\nimport ToggleOffIcon from '@mui/icons-material/ToggleOff';\r\nimport ToggleOnIcon from '@mui/icons-material/ToggleOn';\r\nimport NoteHistory from '../../components/notes/NoteHistory';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { NAME_SPACE } from '../../utils/variables';\r\n\r\nimport SpeedDial from '@mui/material/SpeedDial';\r\nimport SpeedDialIcon from '@mui/material/SpeedDialIcon';\r\nimport SpeedDialAction from '@mui/material/SpeedDialAction';\r\nimport FileCopyIcon from '@mui/icons-material/FileCopyOutlined';\r\nimport PrintIcon from '@mui/icons-material/Print';\r\nimport ShareIcon from '@mui/icons-material/Share';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport PriorityHighIcon from '@mui/icons-material/PriorityHigh';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\n\r\nconst Messenger = ({ apiUrl, apiKey }) => {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [msgResponse, setMsgResponse] = useState();\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMsgRec, setNewMsgRec] = useState([]);\r\n  const [finalMessage, setFinalMessage] = useState([]);\r\n  const [textMsg, setTextMsg] = useState([]);\r\n  const [messageId, setMessageId] = useState(null);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [arrivalMessage, setArrivalMessage] = useState([]);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [forward, setForward] = useState({});\r\n  const [forwarded, setForwarded] = useState(false);\r\n  const socket = useRef();\r\n  const [userId, setUserId] = useState(null);\r\n  const [visible, setVisible] = useState();\r\n  const [search, setSearch] = useState('');\r\n  const [highlighted, setHighlighted] = useState(false);\r\n  const [sent, setSent] = useState(false);\r\n  const [alert, setAlert] = useState(0);\r\n  const [alertMsg, setAlertMsg] = useState([]);\r\n  const [myFiles, setMyFiles] = useState([]);\r\n  const [showFile, setShowFile] = useState();\r\n  const [file, setFile] = useState();\r\n  const [fileSent, setFileSent] = useState(0);\r\n  const [openTooltip, setOpenTooltip] = useState(false);\r\n  const [openTooltipForm, setOpenTooltipForm] = useState(false);\r\n  const [templateMessage, setTemplateMessage] = useState();\r\n  const [showTemplateMsg, setShowTemplateMsg] = useState(false);\r\n  const [caption, setCaption] = useState('');\r\n  const [saved, setSaved] = useState();\r\n  const [updated, setUpdated] = useState();\r\n  const [newNotification, setNewNotification] = useState();\r\n  const [addNewContact, setAddNewContact] = useState(false);\r\n  const [addName, setAddName] = useState();\r\n  const [addNumber, setAddNumber] = useState();\r\n  const [status, setStatus] = useState([]);\r\n  const [msgId, setMsgId] = useState();\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const [taglabel, setTaglabel] = useState();\r\n  const [tagUpdated, setTagUpdated] = useState();\r\n  const [msgCountUpdated, setMsgCountUpdated] = useState(false);\r\n  const [scrollView, setScrollView] = useState(true);\r\n  const [scrollView_, setScrollView_] = useState(true);\r\n  const [pinned, setPinned] = useState();\r\n  const [markChat, setMarkChat] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSelector, setShowSelector] = useState(false);\r\n  const [mulForward, setMulForward] = useState([]);\r\n  const [errMsg, setErrMsg] = useState();\r\n  const [scrollPosition, setScrollPosition] = useState();\r\n  const [forwardMsg, setForwardMsg] = useState();\r\n  const [msgLoad, setMsgLoad] = useState(false);\r\n  const [alertUpdate, setAlertUpdate] = useState();\r\n  const [quickReplyText, setQuickReplyText] = useState([]);\r\n  const [addingContact, setAddingContact] = useState(false);\r\n  const [confirmationText, setConfirmationText] = useState();\r\n  const [tutorList, setTutorList] = useState([]);\r\n  const [tutorTagUpdated, setTutorTagUpdated] = useState();\r\n  const [tutorRatingUpdated, setTutorRatingUpdated] = useState();\r\n  const [searchTutor, setSearchTutor] = useState('');\r\n  const [agentUpdated, setAgentUpdated] = useState();\r\n  const [agentlabel, setAgentlabel] = useState(localStorage.getItem('agent'));\r\n  const [agentStatus, setAgentStatus] = useState();\r\n  const [tutorCount, setTutorCount] = useState(0);\r\n  const [tutorPage, setTutorPage] = useState(1);\r\n  const [tutorListLoading, setTutorListLoading] = useState(false);\r\n  const [convCount, setConvCount] = useState(0);\r\n  const [contactPage, setContactPage] = useState(1);\r\n  const [contactListLoading, setContactListLoading] = useState(false);\r\n  const [searchContacts, setSearchContacts] = useState();\r\n  const [interestedTutors, setInterestedTutors] = useState();\r\n  const [newSessions, setNewSessions] = useState();\r\n  const [clientPayment, setClientPayment] = useState();\r\n  const [tutorPayout, setTutorPayout] = useState();\r\n  const scrollRef = useRef();\r\n  const listInnerRef = useRef();\r\n  const uniqueValuesSet = new Set();\r\n  const [chatLabels, setChatLabels] = useState();\r\n\r\n  const [loadingMsg, setLoadingMsg] = useState(false);\r\n\r\n  const snackBarPos = {\r\n    vertical: 'top',\r\n    horizontal: 'center'\r\n  }\r\n  const { vertical, horizontal } = snackBarPos;\r\n\r\n  const [alertText, setAlertText] = useState('')\r\n  const [openSnackBar, setOpenSnackBar] = useState(false);\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  const handleLoadMoreMsgClick = async () => {\r\n    setLoadingMsg(true);\r\n    try {\r\n      const res = await axios.get(\r\n        msgUrl + `/${currentChat?.wa_id}`,\r\n        {\r\n          params: {\r\n            page: page,\r\n            limit: limit,\r\n          },\r\n        },\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      if(res.data.length === 0) {\r\n        setOpenSnackBar(true);\r\n        setAlertText('No more messages');\r\n      }\r\n      else {\r\n        setMsgResponse(res.data);\r\n        // setMessages(() =>\r\n        //   res?.data?.messages?.items\r\n        //     .filter((f) => f.eventType === 'message')\r\n        //     .reverse()\r\n        // );\r\n        setMessages([...res?.data, ...messages]);\r\n        setLoadingMsg(false);\r\n        setPage(page + 1);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // for label\r\n  const handleLabelChange = async (e) => {\r\n    setTaglabel(e.target.value);\r\n    const payload = {\r\n      tags: e.target.value,\r\n    };\r\n    await axios.put(addLabelUrl + `/${currentChat?.wa_id}`, payload, {\r\n      headers: '',\r\n    });\r\n    setTagUpdated(payload.tags);\r\n  };\r\n\r\n  // agent assign\r\n  const handleAgentChange = async (e) => {\r\n    setAgentlabel(e.target.value);\r\n    const payload = {\r\n      agent: e.target.value,\r\n    };\r\n    await axios.put(addAgentUrl + `/${currentChat?.wa_id}`, payload, {\r\n      headers: '',\r\n    });\r\n    setAgentUpdated(payload.agent);\r\n  };\r\n\r\n  //desktop notification alert\r\n  const showNotification = () => {\r\n    const notification_ = new Notification('hey', {\r\n      body: 'A new message received',\r\n      icon: 'https://cdn2.iconfinder.com/data/icons/ios7-inspired-mac-icon-set/1024/messages_5122x.png',\r\n    });\r\n\r\n    notification_.onClick = (e) => {\r\n      window.location.href = 'http://google.com';\r\n    };\r\n  };\r\n\r\n  // connection with socket\r\n  useEffect(() => {\r\n    socket.current = io('/');\r\n    // socket.current.on('connection', () => {\r\n    //   console.log(\"Socket connected\");\r\n    // });\r\n    // socket.current.on('new_msg', (data) => {\r\n    //   setMsg((draft) => {\r\n    //     draft.res.push(data);\r\n    //   });\r\n    // });\r\n    let api = localStorage.getItem('api');\r\n    let device = localStorage.getItem('device');\r\n\r\n    socket.current.emit('user', {\r\n      api: api,\r\n      device: device,\r\n    });\r\n\r\n    let agent = localStorage.getItem('agent');\r\n\r\n    socket.current.emit('agent', agent);\r\n\r\n    socket.current.on('getAlert', (msg) => {\r\n      // storeFiles(msg); //store incoming files data to excel\r\n      setAlertMsg([msg]);\r\n      if (Notification.permission === 'granted' && msg?.contacts) {\r\n        showNotification();\r\n      }\r\n    });\r\n\r\n    // fetching msg from user through webhook\r\n\r\n    // socket.current.emit(\"addUser\", 'userId');\r\n    socket.current.on('getUsers', (msgs) => {\r\n      console.log(msgs, 'webhook');\r\n      let startInd = msgs.length > 19 ? msgs.length - 19 : 0;\r\n      setArrivalMessage(msgs.slice(startInd, msgs.length));\r\n      // let upcomingMsg = msgs?.filter((i) => i.contacts);\r\n      // let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\r\n    });\r\n    socket.current.on('save', (saved) => {\r\n      console.log(saved);\r\n      setSaved(saved);\r\n    });\r\n    socket.current.on('update', (update) => {\r\n      console.log('count', update);\r\n      setUpdated(update);\r\n    });\r\n    // socket.current.on('notification', (newNoti) => {\r\n    //   console.log(newNoti);\r\n    //   setNewNotification(newNoti);\r\n    // });\r\n    socket.current.on('statusChanged', (filtered) => {\r\n      console.log(filtered);\r\n      setStatus(() => filtered);\r\n      // setMsgId(id);\r\n    });\r\n\r\n    // razorpay notification\r\n    socket.current.on('rpayNoti', (payments) => {\r\n      console.log(payments, 'rpayWebhook');\r\n      setClientPayment(payments);\r\n    });\r\n\r\n    // razorpayX notification\r\n    socket.current.on('rpayXNoti', (payX) => {\r\n      console.log(payX, 'rpayXWebhook');\r\n      setTutorPayout(payX);\r\n    });\r\n\r\n    // interested tutor notification\r\n    socket.current.on('interestedTutors', (interestedTutor) => {\r\n      console.log(interestedTutor, 'interestedTutors');\r\n      setInterestedTutors(interestedTutor);\r\n    });\r\n\r\n    // new session notification\r\n    socket.current.on('newSession', (newSession) => {\r\n      console.log(newSession, 'newSessions');\r\n      setNewSessions(newSession);\r\n    });\r\n\r\n    //agent status fetch\r\n    const getAgentStatus = async () => {\r\n      try {\r\n        const res = await axios.get(`${localStorage.getItem('api')}/api/agent/getAgentStatus/${localStorage.getItem('agent')}`);\r\n        setAgentStatus(res.data.status);\r\n        setChatLabels(res.data.labels);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getAgentStatus();\r\n    // socket.current.on('getAlert', (msg) => {\r\n    //   console.log(msg);\r\n    //   setAlertMsg([msg]);\r\n    // });\r\n  }, []);\r\n\r\n  console.log(arrivalMessage);\r\n\r\n  useEffect(() => {\r\n    console.log(currentChat);\r\n    arrivalMessage[arrivalMessage.length - 1]?.contacts &&\r\n      setNewMsgRec(() =>\r\n        arrivalMessage?.filter(\r\n          (i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id\r\n        )\r\n      );\r\n  }, [arrivalMessage, currentChat]);\r\n  console.log(newMsgRec);\r\n\r\n   //fetching all messages of a particular selected user\r\n   useEffect(() => {\r\n    // setMsgLoad(true);\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          msgUrl + `/${currentChat?.wa_id}`,\r\n          {\r\n            params: {\r\n              page: 0,\r\n              limit: limit,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setMsgResponse(res.data);\r\n        // setMessages(() =>\r\n        //   res?.data?.messages?.items\r\n        //     .filter((f) => f.eventType === 'message')\r\n        //     .reverse()\r\n        // );\r\n        setMessages([...res?.data]);\r\n        setMsgLoad(false);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n    return () => {\r\n      setNewMsgRec([]);\r\n    };\r\n  }, [currentChat, forwarded, sent]);\r\n\r\n  //sending files\r\n  const handleFiles = (e) => {\r\n    let files = e;\r\n    setFile(e);\r\n    let fileData = [];\r\n    let reader = new FileReader();\r\n    let myfiles = files;\r\n    reader.readAsDataURL(myfiles);\r\n    reader.onload = (e) => {\r\n      let formData = { fileList: e.target.result };\r\n      console.log(formData);\r\n      setMyFiles([formData]);\r\n      // setFile(formData);\r\n    };\r\n\r\n    console.log(files);\r\n  };\r\n  console.log(myFiles);\r\n  console.log(file);\r\n\r\n  const closeFileModal = () => {\r\n    // show.current.style.display = 'none'\r\n    setMyFiles([]);\r\n    setFile(null);\r\n    setLoading(false);\r\n    setErrMsg('');\r\n    // setShowFile(false);\r\n  };\r\n\r\n  // // fetching msg from user through webhook\r\n  // useEffect(() => {\r\n  //   // socket.current.emit(\"addUser\", 'userId');\r\n  //   socket.current.on('getUsers', (msgs) => {\r\n  //     console.log(msgs);\r\n  //     setArrivalMessage(msgs);\r\n  //     // let upcomingMsg = msgs?.filter((i) => i.contacts);\r\n  //     let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\r\n  //     setNewMsgRec(filteredMsg.reverse());\r\n  //     console.log(currentChat);\r\n  //   });\r\n  //   // socket.current.on('getAlert', (msg) => {\r\n  //   //   console.log(msg);\r\n  //   //   setAlertMsg([msg]);\r\n  //   // });\r\n  // }, []);\r\n  console.log(newMsgRec);\r\n  console.log(currentChat);\r\n\r\n  // fetching contacts list\r\n  useEffect(() => {\r\n    let agent = localStorage.getItem('agent');\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.status);\r\n        // const filteredData = res?.data?.filter((i) => i.agent == agent);\r\n        // let pinnedChat = res?.data?.filter((el) => el.pinContact === true);\r\n        // let unPinnedChat = res?.data\r\n        //   ?.filter((el) => el.pinContact === false)\r\n        //   ?.sort((a, b) => {\r\n        //     return b.timestamp - a.timestamp;\r\n        //   });\r\n        setConversations(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [\r\n    // arrivalMessage,\r\n    saved,\r\n    updated,\r\n    tagUpdated,\r\n    agentUpdated,\r\n    pinned,\r\n    markChat,\r\n    alertUpdate,\r\n    sent,\r\n  ]);\r\n\r\n  console.log(conversations);\r\n\r\n  // //fetching tutors list\r\n  // useEffect(() => {\r\n  //   const getTutors = async () => {\r\n  //     try {\r\n  //       const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\r\n  //       {\r\n  //         params: {\r\n  //           page: 1,\r\n  //           limit: 10,\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         headers: '',\r\n  //       });\r\n  //       setTutorList(res.data.result);\r\n  //       setTutorCount(res.data.length);\r\n  //     } catch (err) {\r\n  //       console.log(err.Error);\r\n  //     }\r\n  //   }\r\n  //   getTutors();\r\n  // }, [tutorTagUpdated, tutorRatingUpdated])\r\n\r\n  useEffect(() => {\r\n    setFinalMessage([]);\r\n    setMsgLoad(true);\r\n    setPage(1);\r\n  }, [currentChat]);\r\n\r\n  console.log(forwarded);\r\n\r\n  console.log(messages);\r\n  console.log([...messages, ...newMsgRec]);\r\n  console.log(newMsgRec);\r\n\r\n  // var ur = [{n: [{id: '123'}]}, {n: [{id: '123'}]}, {id: '123'}, {n: [{id: '13'}]}];\r\n  function filteredArr(data, key) {\r\n    return [...new Map(data.map((x) => [key(x), x])).values()];\r\n  }\r\n  // filtering duplicate messages\r\n  useEffect(() => {\r\n    // let newArr = [...messages, ...newMsgRec];\r\n    let newArr = [...messages, ...newMsgRec];\r\n    // .filter(\r\n    //   (f) => f.eventType === 'message' || f.eventType === 'broadcastMessage'\r\n    // );\r\n    console.log('newArr', newArr);\r\n    setFinalMessage(() =>\r\n      filteredArr(newArr, (it) => (it.messages ? it.messages[0].id : it.id))\r\n    );\r\n  }, [messages, newMsgRec]);\r\n\r\n  //quick reply\r\n  const typeMsg = async (e) => {\r\n    if (e.target.value === '/') {\r\n      try {\r\n        const response = await axios.get(quickReplyUrl);\r\n        setQuickReplyText(response?.data);\r\n        // setQuickReplyText(quickReplies);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const filteredQuickReplyText =\r\n    newMessage.length > 0 && quickReplyText.length > 0\r\n      ? quickReplyText?.filter((f) => {\r\n          return (\r\n            f.shortcut.toLowerCase().indexOf(newMessage.toLowerCase()) !== -1\r\n          );\r\n        })\r\n      : null;\r\n\r\n  console.log(quickReplyText);\r\n\r\n  // sending messages\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      recipient_type: 'individual',\r\n      to: currentChat.wa_id,\r\n      conversationId: '',\r\n      name: currentChat.name,\r\n      from: currentChat.wa_id,\r\n      wa_id: currentChat.wa_id,\r\n      text: {\r\n        body: newMessage,\r\n      },\r\n      type: 'text',\r\n      data: '',\r\n      isOwner: true,\r\n    };\r\n    const timeStamp = {\r\n      timestamp: Math.floor(new Date().getTime() / 1000.0),\r\n    };\r\n    if (newMessage) {\r\n      try {\r\n        setNewMessage('');\r\n        const res = await axios.post(sendMsgUrl, payload, {\r\n          headers: { ...headerKey },\r\n        });\r\n        //setMessages([...messages, res.data.message]);\r\n        // setFinalMessage([...finalMessage, res?.data]);\r\n        console.log('sendm', res);\r\n        await axios.put(`${contactUrl}/${currentChat?.wa_id}`, timeStamp, {\r\n          headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        setTimeout(() => {\r\n          console.log('This will run after 1 second!');\r\n          setSent(!sent);\r\n        }, 0);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log('fmsg', finalMessage);\r\n\r\n  // sending files\r\n  const handleFileSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErrMsg('');\r\n    setLoading(true);\r\n    console.log(file.name);\r\n    try {\r\n      const res_ = await axios.post(\r\n        'https://waba.360dialog.io/v1/media',\r\n        file,\r\n        {\r\n          headers: {\r\n            'Content-Type':\r\n              file.type == 'application/x-zip-compressed'\r\n                ? 'application/zip'\r\n                : file.type,\r\n            'D360-API-KEY': apiKey || localStorage.getItem('api_key'),\r\n          },\r\n        }\r\n      );\r\n      const payload = {\r\n        recipient_type: 'individual',\r\n        to: currentChat.wa_id,\r\n        type: file.type.includes('image/')\r\n          ? 'image'\r\n          : file.type.includes('video/')\r\n          ? 'video'\r\n          : file.type.includes('audio/')\r\n          ? 'audio'\r\n          : 'document',\r\n        data: {\r\n          id: res_.data.media[0].id,\r\n          caption: caption,\r\n          filename: file.name,\r\n        },\r\n        name: '',\r\n        from: '',\r\n        wa_id: currentChat.wa_id,\r\n        timestamp: '',\r\n        operatorName: '',\r\n        isOwner: true,\r\n        status: '',\r\n        ticketId: '',\r\n        eventType: '',\r\n      };\r\n      const res = await axios.post(sendFileUrl, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      //setMessages([...messages, res.data.message]);\r\n      // setFinalMessage([...finalMessage, res.data.message]);\r\n      console.log(res);\r\n      // setUserId(currentChat?.wAid);\r\n      // setMessageId(res.data.message.whatsappMessageId);\r\n      setNewMessage('');\r\n      // setInterval(() => {\r\n      //   console.log('This will run every second!');\r\n      // }, 2000);\r\n      setTimeout(() => {\r\n        console.log('This will run after 0.5 second!');\r\n        setSent(!sent);\r\n        setFileSent(+fileSent + 1);\r\n      }, 500);\r\n      setMyFiles([]);\r\n      setLoading(false);\r\n      setCaption('');\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setErrMsg('Something went wrong!');\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // fetching template messages\r\n  // const getTemplateMsg = async () => {\r\n  //   try {\r\n  //     const res = await axios.get(templateMsgUrl, {\r\n  //       headers: { ...headerKey },\r\n  //     });\r\n  //     console.log({templateMsg:res.data.waba_templates});\r\n  //     setTemplateMessage(res.data.waba_templates);\r\n  //     setShowTemplateMsg(true);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n  console.log(showTemplateMsg);\r\n\r\n  const closeTemplateTab = () => {\r\n    setShowTemplateMsg(false);\r\n  };\r\n\r\n  // // send template message\r\n  // const handleSendTemplate = async (val) => {\r\n  //   const payload = {\r\n  //     name: currentChat.name,\r\n  //     from: '',\r\n  //     wa_id: currentChat.wa_id,\r\n  //     templateName: val?.name,\r\n  //     templateText: val?.components?.filter((j) => j?.type === 'BODY')[0]?.text,\r\n  //     template: {\r\n  //       namespace: val.namespace,\r\n  //       language: val.language,\r\n  //     },\r\n  //     button: '',\r\n  //     timestamp: '',\r\n  //     operatorName: '',\r\n  //     isOwner: true,\r\n  //     status: '',\r\n  //     ticketId: '',\r\n  //     eventType: 'template',\r\n  //   };\r\n  //   try {\r\n  //     const res = await axios.post(sendtemplateMsgUrl, payload, {\r\n  //       headers: { ...headerKey },\r\n  //     });\r\n  //     console.log(res);\r\n  //     setTimeout(() => {\r\n  //       console.log('This will run after 1 second!');\r\n  //       setSent(!sent);\r\n  //     }, 100);\r\n  //     setShowTemplateMsg(false);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n   // send template message\r\n   const handleSendTemplate = async () => {\r\n    const payload = {\r\n      name: currentChat.name,\r\n      from: '',\r\n      wa_id: currentChat.wa_id,\r\n      templateName: \"conversation_initiate\",\r\n      templateText: `Hi ${currentChat.name}, This is Tutorpoint.We want to start a conversation with you. Please reply as soon as you see this message.`,\r\n      template: {\r\n        namespace: NAME_SPACE,\r\n        language: \"en\",\r\n      },\r\n      button: '',\r\n      timestamp: '',\r\n      operatorName: '',\r\n      isOwner: true,\r\n      status: '',\r\n      ticketId: '',\r\n      eventType: 'template',\r\n    };\r\n    try {\r\n      const res = await axios.post(sendtemplateMsgUrl, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      console.log(res);\r\n      setTimeout(() => {\r\n        console.log('This will run after 1 second!');\r\n        setSent(!sent);\r\n      }, 100);\r\n      setShowTemplateMsg(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // adding note b/w messages\r\n  const handleSendNote = async (val) => {\r\n    const payload = {\r\n      name: currentChat.name,\r\n      from: '',\r\n      wa_id: currentChat.wa_id,\r\n      clientNotes: {\r\n        noteText: newMessage,\r\n        priority: val\r\n      },\r\n      button: '',\r\n      timestamp: '',\r\n      operatorName: '',\r\n      isOwner: true,\r\n      status: '',\r\n      ticketId: '',\r\n      eventType: 'note',\r\n    };\r\n    try {\r\n      const res = await axios.post(`${localStorage.getItem('api')}/api/messages/addChatNote`, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      console.log(res);\r\n      setNewMessage('');\r\n      setTimeout(() => {\r\n        console.log('This will run after 1 second!');\r\n        setSent(!sent);\r\n      }, 100);\r\n      // setShowTemplateMsg(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  //Add contact\r\n  const addContact = async () => {\r\n    setAddingContact(true);\r\n    const payload = {\r\n      name: addName,\r\n      wa_id: `+${addNumber}`,\r\n    };\r\n    try {\r\n      const res = await axios.post(addContactUrl, payload, {\r\n        headers: {},\r\n      });\r\n      setConversations([...conversations, res.data]);\r\n      setAddNewContact(false);\r\n      setAddName('');\r\n      setAddNumber('');\r\n      setAddingContact(false);\r\n    } catch (err) {\r\n      setConfirmationText('Failed to add this contact!');\r\n      setAddingContact(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (scrollView_ && scrollView || finalMessage.length <= 20) {\r\n      scrollRef.current?.scrollIntoView();\r\n    }\r\n  }, [finalMessage, fileSent, currentChat]);\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const filteredCoversation = conversations;\r\n\r\n  // filtered tutor list\r\n  // const filteredTutorList = tutorList?.filter((f) => {\r\n  //   let subject = f?.subjects?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\r\n  //   let tag = f?.tags?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\r\n  //   return (\r\n  //     f.name.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f.wa_id.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f?.subjects?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f?.tags?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1\r\n  //   );\r\n  // });\r\n\r\n  console.log(currentChat);\r\n  const handleCloseTooltip = () => {\r\n    setOpenTooltip(false);\r\n  };\r\n\r\n  const handleOpenTooltip = () => {\r\n    setOpenTooltip(true);\r\n  };\r\n\r\n  const handleCloseTooltipForm = () => {\r\n    setOpenTooltipForm(false);\r\n  };\r\n\r\n  const handleOpenTooltipForm = () => {\r\n    setOpenTooltipForm(true);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key == 'Enter' && e.shiftKey) {\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const fetchMoreData = async (e) => {\r\n    // console.log(e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight)\r\n    setScrollPosition(e.target.scrollTop);\r\n    const bottom = e.target.scrollTop;\r\n    if (bottom === 0) {\r\n      // TO SOMETHING HERE\r\n      console.log('Reached bottom');\r\n      // setPage(page + 1);\r\n      // try {\r\n      //   const res = await axios.get(\r\n      //     msgUrl + `/${currentChat?.wa_id}`,\r\n      //     {\r\n      //       params: {\r\n      //         page: page,\r\n      //         limit: limit,\r\n      //       },\r\n      //     },\r\n      //     {\r\n      //       headers: '',\r\n      //     }\r\n      //   );\r\n      //   console.log(res.data);\r\n      //   setMsgResponse(res.data);\r\n      //   // setMessages(() =>\r\n      //   //   res?.data?.messages?.items\r\n      //   //     .filter((f) => f.eventType === 'message')\r\n      //   //     .reverse()\r\n      //   // );\r\n      //   setMessages([...res?.data, ...messages]);\r\n      // } catch (err) {\r\n      //   console.log(err);\r\n      //  }\r\n    } else if (\r\n      e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight <\r\n      260\r\n    ) {\r\n      setScrollView(true);\r\n    } else if (\r\n      e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight >=\r\n      260\r\n    ) {\r\n      setScrollView(false);\r\n    }\r\n  };\r\n\r\n  // const handleTutorList = async (event, value) => {\r\n  //   setTutorListLoading(true);\r\n  //   setTutorPage(value);\r\n  //   try {\r\n  //     const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\r\n  //       {\r\n  //         params: {\r\n  //           page: value,\r\n  //           limit: 10,\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         headers: '',\r\n  //       }\r\n  //     );\r\n  //     console.log(res.data);\r\n  //     setTutorList(res.data.result);\r\n  //     setTutorListLoading(false);\r\n  //     // setLoadingMsg(false);\r\n  //     // setPage(page + 1);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n  // const handleSearchTutors = async (e) => {\r\n  //   // setSearchTutor(e.target.value);\r\n  //   if (e.key == 'Enter') {\r\n  //     try {\r\n  //       const res = await axios.get(`${localStorage.getItem('api')}/api/tutor/getTutors/${e.target.value}`,\r\n  //         {\r\n  //           params: {\r\n  //             page: 1,\r\n  //             limit: 10,\r\n  //           },\r\n  //         },\r\n  //         {\r\n  //           headers: '',\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n  //       setTutorList(res.data.result);\r\n  //       setTutorCount(res.data.length);\r\n  //       // setTutorListLoading(false);\r\n  //       // setLoadingMsg(false);\r\n  //       // setPage(page + 1);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  const handleContactList = async (event, value) => {\r\n    let agent = localStorage.getItem('agent');\r\n    if (searchContacts) {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${searchContacts}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversations(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversations(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchContacts = async (e) => {\r\n    let agent = localStorage.getItem('agent');\r\n    setSearchContacts(e.target.value);\r\n    if (e.key == 'Enter') {\r\n      setContactListLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${e.target.value}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setContactListLoading(false);\r\n        setConversations(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n        setContactPage(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleContactValidate = async () => {\r\n    let payload = {\r\n      wa_id: `+${currentChat?.wa_id}`,\r\n    }\r\n    try {\r\n      const res = await axios.post(`${localStorage.getItem('api')}/api/conversations/contactValidation`, payload);\r\n      setOpenSnackBar(true);\r\n      setAlertText(res.data.contacts[0].status + ' contact');\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleAgentStatus = async (status) => {\r\n    let payload = {\r\n      status: status\r\n    }\r\n    try {\r\n      const res = await axios.put(`${localStorage.getItem('api')}/api/agent/updateAgentStatus/${localStorage.getItem('agent')}`, payload);\r\n      window.location.reload();\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const logOutFunc = () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  };\r\n\r\n  const actions = [\r\n    { icon: <PriorityHighIcon color='success' onClick={() => handleSendNote('low')} />, name: 'Low priority' },\r\n    { icon: <PriorityHighIcon color='primary' onClick={() => handleSendNote('medium')} />, name: 'Medium priority' },\r\n    { icon: <PriorityHighIcon color='error' onClick={() => handleSendNote('high')} />, name: 'High priority' },\r\n  ];\r\n\r\n  let deviceNo = localStorage.getItem('device');\r\n  let agentName = localStorage.getItem('agent');\r\n\r\n  // agent field update in all contacts\r\n  // const [convag, setConvag] = useState([]);\r\n  // useEffect(() => {\r\n  //   const getAgg = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         '${localStorage.getItem('api')}/api/conversations3/getContacts',\r\n  //         {\r\n  //           headers: '',\r\n  //         }\r\n  //       );\r\n  //       setConvag(res?.data)\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getAgg();\r\n\r\n  // }, [])\r\n\r\n  // const agentUpdate = async () => {\r\n  //   let count = '200100';\r\n  //   for(let i = 0; i<convag.length; i++){\r\n  //     let pay = {\r\n  //       uid: count\r\n  //     }\r\n  //     await axios.put(`${localStorage.getItem('api')}/api/conversations3/customer/${convag[i].wa_id}`, pay);\r\n  //     count = +count + 1;\r\n  // }\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div className='messenger'>\r\n        <div className='chatMenu'>\r\n          <header className='chat_header'>\r\n            <img\r\n              className='profilePic'\r\n              src='/assets/person/noAvatar.png'\r\n              alt=''\r\n            />\r\n            <div\r\n              style={{\r\n                flex: '1',\r\n                fontSize: '16px',\r\n                fontWeight: '600',\r\n                height: '22px',\r\n                lineHeight: '4px',\r\n              }}\r\n              // onClick={agentUpdate}\r\n            >\r\n              Device-{deviceNo}{' '}\r\n              {deviceNo == 1\r\n                ? '(7761093194)'\r\n                : deviceNo == 2\r\n                ? '(7091489698)'\r\n                : deviceNo == 3\r\n                ? '(7761814102)'\r\n                : deviceNo == 4\r\n                ? '(8777592248)'\r\n                : deviceNo == 5\r\n                ? '(9065650479)'\r\n                : null}\r\n              <p style={{ color: '#585858' }}>{agentName}</p>\r\n            </div>\r\n            {localStorage.getItem('agent') != 'Admin' && agentStatus == 'inactive' ? <ToggleOffIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => handleAgentStatus('active')}\r\n            /> : localStorage.getItem('agent') != 'Admin' && agentStatus == 'active' ?\r\n            <ToggleOnIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: '#00EC64',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => handleAgentStatus('inactive')}\r\n            /> : null}\r\n            <div\r\n              style={{\r\n              marginRight: '10px',\r\n            }}\r\n            >\r\n              <NoteHistory setCurrentChat = {setCurrentChat} setFinalMessage = {setMessages} scrollRef={scrollRef} setScrollView_={setScrollView_} setPage = {setPage} />\r\n            </div>\r\n            <PersonAddAltOutlinedIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: addNewContact ? '#337DDD' : '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => setAddNewContact(true)}\r\n            />\r\n            {/* <MoreVertIcon\r\n              style={{\r\n                fontSize: '25px',\r\n                color: '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '-10px',\r\n              }}\r\n            /> */}\r\n            <LogoutIcon\r\n              style={{ cursor: 'pointer', marginLeft: '5px' }}\r\n              onClick={logOutFunc}\r\n            />\r\n          </header>\r\n          <div\r\n            style={{\r\n              height: '2.3rem',\r\n              padding: '6px 0px 6px 17px',\r\n              backgroundColor: '#9DE1FE',\r\n            }}\r\n          >\r\n            <input\r\n              placeholder='Search for users'\r\n              className='chatMenuInput'\r\n              onChange={(e) => handleSearch(e)}\r\n              onKeyPress={handleSearchContacts}\r\n            />\r\n          </div>\r\n          {addNewContact && (\r\n            <div\r\n              style={{\r\n                height: '8.4rem',\r\n                padding: '20px 0px 20px 17px',\r\n                backgroundColor: '#fff',\r\n                border: '1px solid #b3b0b0',\r\n                borderRadius: '3px',\r\n              }}\r\n            >\r\n              <input\r\n                type='text'\r\n                className='addContactInput'\r\n                placeholder='Name'\r\n                value={addName}\r\n                onChange={(e) => setAddName(e.target.value)}\r\n                required\r\n              />\r\n              <input\r\n                type='number'\r\n                className='addContactInput'\r\n                placeholder='WhatsApp Number (with country code)*'\r\n                value={addNumber}\r\n                onChange={(e) => setAddNumber(e.target.value)}\r\n                required\r\n              />\r\n              <Stack direction='row' spacing={2}>\r\n                {addName && addNumber && !addingContact ? (\r\n                  <Button\r\n                    size='small'\r\n                    variant='contained'\r\n                    color='error'\r\n                    onClick={() => addContact()}\r\n                  >\r\n                    save\r\n                  </Button>\r\n                ) : addingContact ? (\r\n                  <LoadingButton\r\n                    size='small'\r\n                    loading\r\n                    loadingPosition='start'\r\n                    startIcon={<SaveIcon />}\r\n                    variant='contained'\r\n                  >\r\n                    Save\r\n                  </LoadingButton>\r\n                ) : (\r\n                  <Button\r\n                    size='small'\r\n                    variant='contained'\r\n                    color='error'\r\n                    disabled\r\n                  >\r\n                    save\r\n                  </Button>\r\n                )}\r\n\r\n                <Button\r\n                  size='small'\r\n                  variant='outlined'\r\n                  color='error'\r\n                  onClick={() => {\r\n                    setAddNewContact(false);\r\n                    setAddingContact(false);\r\n                    setConfirmationText('');\r\n                  }}\r\n                >\r\n                  close\r\n                </Button>\r\n                <div\r\n                  style={{\r\n                    alignSelf: 'center',\r\n                    color: 'red',\r\n                    fontSize: '13px',\r\n                  }}\r\n                >\r\n                  {confirmationText}\r\n                </div>\r\n              </Stack>\r\n            </div>\r\n          )}\r\n          {contactListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='chatMenuWrapper'>\r\n              {filteredCoversation?.map((c) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setCurrentChat(c);\r\n                    setHighlighted(true);\r\n                    setShowTemplateMsg(false);\r\n                    setTaglabel('');\r\n                    setTagUpdated('');\r\n                  }}\r\n                >\r\n                  <Conversation\r\n                    conversation={c}\r\n                    currentChat={currentChat}\r\n                    finalMessage={finalMessage}\r\n                    alertMsg={alertMsg}\r\n                    arrivalMessage={arrivalMessage}\r\n                    alert={alert}\r\n                    // newNotification={newNotification}\r\n                    setAlert={setAlert}\r\n                    msgCountUpdated={msgCountUpdated}\r\n                    setMsgCountUpdated={setMsgCountUpdated}\r\n                    setPinned={setPinned}\r\n                    setMarkChat={setMarkChat}\r\n                    setAlertUpdate={setAlertUpdate}\r\n                    apiUrl={apiUrl}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(convCount / 20)}\r\n                page={contactPage}\r\n                onChange={handleContactList}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className='chatBox'>\r\n          <div className='chatBoxWrapper'>\r\n            {currentChat ? (\r\n              <>\r\n                <header className='currentChatHeader'>\r\n                  <img\r\n                    className='profilePic'\r\n                    src='/assets/person/noAvatar.png'\r\n                    alt=''\r\n                  />\r\n                  <div>\r\n                    {`${currentChat?.name}${currentChat?.wa_id.slice(\r\n                    0,\r\n                    3\r\n                  )}`}\r\n                  </div>\r\n                  <div style={{marginLeft: \"5px\", cursor: 'pointer'}}>\r\n                    <AutorenewRoundedIcon fontSize='small' onClick={handleContactValidate} />\r\n                    <Snackbar open={openSnackBar} autoHideDuration={2000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n                      <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                        {alertText}\r\n                      </Alert>\r\n                    </Snackbar>\r\n                  </div>\r\n                  <div className='select-list'>\r\n                    <select\r\n                      name='taglabel'\r\n                      id='taglabel'\r\n                      value={taglabel}\r\n                      onChange={handleLabelChange}\r\n                    >\r\n                      <option selected value=''>\r\n                        Labels\r\n                      </option>\r\n                      {chatLabels?.map((l) => <option value={l}>{l}</option>)}\r\n                      {/* <option value='Old Client'>Old Client</option>\r\n                      <option value='New Client'>New Client</option>\r\n                      <option value='High Price Client'>High Price Client</option>\r\n                      <option value='Low Price Client'>Low Price Client</option>\r\n                      <option value='Call'>Call</option>\r\n                      <option value='Tutor'>Tutor</option>\r\n                      <option value='Full Course'>Full Course</option> */}\r\n                       {/*<option value='Tutor pay pending'>\r\n                        Tutor pay pending\r\n                      </option>\r\n                      <option value='Client payment pending'>\r\n                        Client payment pending\r\n                      </option>\r\n                      <option value='Session today'>Session today</option>\r\n                      <option value='Session tomorrow'>Session tomorrow</option>\r\n                      <option value='Assignment pending'>\r\n                        Assignment pending\r\n                      </option>\r\n                      <option value='Tutors notified'>Tutors notified</option>\r\n                      <option value='Tutor is working'>Tutor is working</option>\r\n                      <option value='Take payment'>Take payment</option>\r\n                      <option value='Pay tutor'>Pay tutor</option>\r\n                      <option value='More work available'>\r\n                        More work available\r\n                      </option>\r\n                      <option value='Not available tomorrow'>\r\n                        Not available tomorrow\r\n                      </option> */}\r\n                    </select>\r\n                    {/* {taglabel === 'other' ? (\r\n                  <input\r\n                    type='text'\r\n                    name='other_degree'\r\n                    style={{marginLeft: '20px', width: '70px'}}\r\n                    placeholder='tag name'\r\n                    // value={other_degree}\r\n                    // onChange={handleOther}\r\n                    // autoComplete='none'\r\n                    // required\r\n                  />\r\n                ) : null} */}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontSize: '14px',\r\n                      fontWeight: '600',\r\n                    }}\r\n                  >\r\n                    Label: {currentChat.tags || taglabel || '--'}\r\n                  </div>\r\n                  {/* <div style={{ display: 'flex', marginLeft: '460px' }}>\r\n                    <MoreVertIcon style={{ alignSelf: 'center' }} />\r\n                  </div> */}\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      flex: '10%',\r\n                      justifyContent: 'flex-end',\r\n                      marginRight: '15px',\r\n                    }}\r\n                  >\r\n                    <div>Assign to:</div>\r\n                    <div className='select-list'>\r\n                      <select\r\n                        name='agentlabel'\r\n                        id='agentlabel'\r\n                        value={agentlabel}\r\n                        className='select-list2'\r\n                        onChange={handleAgentChange}\r\n                      >\r\n                        <option value='Admin'>Admin</option>\r\n                        <option value='Chaitanya'>Chaitanya</option>\r\n                        <option value='Nityananda'>Nityananda</option>\r\n                        <option value='Advaita'>Advaita</option>\r\n                        <option value='Abhay'>Abhay</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </header>\r\n                {finalMessage?.length == 0 || msgLoad ? (\r\n                  <div className='chatBoxTop'>\r\n                    <ReactLoading\r\n                      type='spinningBubbles'\r\n                      color='#2ca6d6'\r\n                      className='loadingIcon'\r\n                    />\r\n                    <div className='no_message'>\r\n                      {finalMessage?.length == 0 && (\r\n                        <p className='no_messageText'>\r\n                          You have not started conversation with this person!\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    <div\r\n                      className='chatBoxTop'\r\n                      // style={{display: 'flex', flexDirection: 'column-reverse'}}\r\n                      onScroll={fetchMoreData}\r\n                      ref={listInnerRef}\r\n                    >\r\n                      {finalMessage.length > 0 && (\r\n                        <div\r\n                          style={{\r\n                            textAlign: 'center',\r\n                            textAlign: '-webkit-center',\r\n                          }}\r\n                        >\r\n                          {/* <LoadingButton\r\n                            onClick={handleLoadMoreMsgClick}\r\n                            endIcon={<ReplayIcon />}\r\n                            loading={loadingMsg}\r\n                            loadingPosition='end'\r\n                            variant='outlined'\r\n                          >\r\n                            Load more\r\n                          </LoadingButton> */}\r\n                          <IconButton><ReplayIcon onClick={handleLoadMoreMsgClick} /></IconButton>\r\n                        </div>\r\n                      )}\r\n                      {finalMessage.map((m, i, j) => (\r\n                        <div ref={scrollRef} key={i}>\r\n                          <Message\r\n                            message={m}\r\n                            msgArr={j}\r\n                            own={m.owner}\r\n                            ownAlt={m.isOwner}\r\n                            setForward={setForward}\r\n                            mulForward={mulForward}\r\n                            setMulForward={setMulForward}\r\n                            setVisible={setVisible}\r\n                            setShowSelector={setShowSelector}\r\n                            showSelector={showSelector}\r\n                            apiUrl={apiUrl}\r\n                            status={status}\r\n                            msgId={msgId}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n\r\n                      {visible && (\r\n                        <div>\r\n                          <ForwardMsg\r\n                            conversations={conversations}\r\n                            visible={visible}\r\n                            setVisible={setVisible}\r\n                            forward={forward}\r\n                            forwarded={forwarded}\r\n                            setForwarded={setForwarded}\r\n                            mulForward={mulForward}\r\n                            setMulForward={setMulForward}\r\n                            setForwardMsg={setForwardMsg}\r\n                            apiKey={apiKey}\r\n                            convCount={convCount}\r\n                            contactPage={contactPage}\r\n                            handleContactList={handleContactList}\r\n                            contactListLoading={contactListLoading}\r\n                            getCustomersUrl={getCustomersUrl}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {myFiles.length > 0 && file ? (\r\n                  <div id='id01' className='modal_'>\r\n                    <form className='modal-content_'>\r\n                      <header\r\n                        style={{\r\n                          height: '148px',\r\n                          backgroundColor: '#0B1929',\r\n                          position: 'absolute',\r\n                          width: '450px',\r\n                          borderRadius: '5px',\r\n                          padding: '12px 12px 0px 12px',\r\n                        }}\r\n                      >\r\n                        <CloseIcon\r\n                          fontSize='medium'\r\n                          style={{\r\n                            color: '#f2efef',\r\n                            margin: '12px 10px -5px 10px',\r\n                            cursor: 'pointer',\r\n                          }}\r\n                          onClick={closeFileModal}\r\n                        />\r\n                        <span\r\n                          style={{\r\n                            fontSize: '18px',\r\n                            margin: '0px 0px 0px 10px',\r\n                            fontWeight: '400',\r\n                            color: '#ffff',\r\n                          }}\r\n                        >\r\n                          Send the file\r\n                        </span>\r\n                        {/* <iframe src={myFiles[0].fileList} height=\"200\" width=\"300\" title=\"description\"></iframe> */}\r\n                        <div\r\n                          style={{ padding: '15px', color: 'rgb(219 218 218)' }}\r\n                        >\r\n                          {file?.name}\r\n                        </div>\r\n                        <input\r\n                          className='chatMessageInput'\r\n                          placeholder='Add a caption...'\r\n                          value={caption}\r\n                          onChange={(e) => setCaption(e.target.value)}\r\n                        />\r\n                        <SendIcon\r\n                          style={{\r\n                            color: '#ffff',\r\n                            cursor: 'pointer',\r\n                            float: 'right',\r\n                            padding: '5px 10px',\r\n                            fontSize: '30px',\r\n                          }}\r\n                          onClick={handleFileSubmit}\r\n                        />\r\n                        {loading && (\r\n                          <div style={{ paddingTop: '10px' }}>\r\n                            <LinearProgress />\r\n                          </div>\r\n                        )}\r\n                        {errMsg && <div className='errMsgText'>{errMsg}</div>}\r\n                      </header>\r\n                    </form>\r\n                  </div>\r\n                ) : null}\r\n                <footer className='chatBoxBottom'>\r\n\r\n                  {/* show templates */}\r\n                  {/* <div\r\n                    style={{\r\n                      width: '-webkit-fill-available',\r\n                      // overflowY: 'scroll',\r\n                      // overflowX: 'hidden',\r\n                      maxHeight: '199px',\r\n                    }}\r\n                  >\r\n                    {showTemplateMsg ? (\r\n                      <div>\r\n                        <header\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            backgroundColor: '#ffff',\r\n                            height: '3rem',\r\n                            borderBottom: '1px solid #f0f0f0',\r\n                          }}\r\n                        >\r\n                          <CloseIcon\r\n                            fontSize='medium'\r\n                            style={{\r\n                              color: 'gray',\r\n                              margin: '12px 16px 0px',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                            onClick={closeTemplateTab}\r\n                          />\r\n                          <div\r\n                            style={{ display: 'flex', alignItems: 'center' }}\r\n                          >\r\n                            Choose Template\r\n                          </div>\r\n                        </header>\r\n                        <div\r\n                          style={{\r\n                            height: '150px',\r\n                            zIndex: '1',\r\n                            // marginBottom: '-46px',\r\n                            backgroundColor: '#ffff',\r\n                            overflowY: 'scroll',\r\n                            overflowX: 'hidden',\r\n                          }}\r\n                        >\r\n                          {templateMessage &&\r\n                            templateMessage?.map((i) => {\r\n                              return (\r\n                                <>\r\n                                  {i.status === 'approved' ? (\r\n                                    <div\r\n                                      className='templateCard'\r\n                                      onClick={() => handleSendTemplate(i)}\r\n                                    >\r\n                                      <p\r\n                                        style={{\r\n                                          fontWeight: 'bold',\r\n                                          fontStyle: 'italic',\r\n                                        }}\r\n                                      >\r\n                                        {i.name}\r\n                                      </p>\r\n                                      <p>\r\n                                        {\r\n                                          i.components.filter(\r\n                                            (j) => j.type === 'BODY'\r\n                                          )[0].text\r\n                                        }\r\n                                      </p>\r\n                                    </div>\r\n                                  ) : null}\r\n                                </>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div> */}\r\n                  <div\r\n                    style={{\r\n                      width: '-webkit-fill-available',\r\n                      overflowY: 'scroll',\r\n                      overflowX: 'hidden',\r\n                      maxHeight: '199px',\r\n                    }}\r\n                  >\r\n                    {filteredQuickReplyText &&\r\n                      filteredQuickReplyText?.map((i) => {\r\n                        return (\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              flexDirection: 'row',\r\n                              justifyContent: 'flex-start',\r\n                              backgroundColor: 'rgb(223 223 223)',\r\n                              padding: '15px 20px',\r\n                              borderBottom: '1px solid rgb(209 209 209)',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                            onClick={() => setNewMessage(i.message)}\r\n                          >\r\n                            <span\r\n                              style={{ fontWeight: '600', marginRight: '5px' }}\r\n                            >\r\n                              {i.shortcut}\r\n                            </span>\r\n                            {i.message}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      flexDirection: 'row',\r\n                      width: '-webkit-fill-available',\r\n                      height: '4.3rem',\r\n                      justifyContent: 'space-evenly',\r\n                      alignItems: 'center',\r\n                    }}\r\n                  >\r\n                    {showSelector ? (\r\n                      <div style={{ display: 'flex', flex: '100%' }}>\r\n                        <CloseIcon\r\n                          style={{\r\n                            flex: '5%',\r\n                            cursor: 'pointer',\r\n                            fontSize: '30px',\r\n                            marginLeft: '5px',\r\n                          }}\r\n                          onClick={() => {\r\n                            setShowSelector(false);\r\n                            setMulForward([]);\r\n                          }}\r\n                        />\r\n                        <div style={{ flex: '90%' }}></div>\r\n                        <ReplyIcon\r\n                          style={{ flex: '5%' }}\r\n                          className='forward_final'\r\n                          onClick={() => {\r\n                            setVisible(true);\r\n                            setShowSelector(false);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div className='attachFile'>\r\n                          <AttachFileIcon\r\n                            fontSize='medium'\r\n                            className='attachButton'\r\n                          />\r\n                          <input\r\n                            id='myFile'\r\n                            name='myFile'\r\n                            type='file'\r\n                            className='attachInput'\r\n                            onChange={(e) => handleFiles(e.target.files[0])}\r\n                          />\r\n                        </div>\r\n                        <Tooltip\r\n                          open={openTooltipForm}\r\n                          onClose={handleCloseTooltipForm}\r\n                          onOpen={handleOpenTooltipForm}\r\n                          title='CREATE FORM'\r\n                        >\r\n                          <FormCreation clientId={currentChat.uid} clientWaId = {currentChat.wa_id} clientName = {currentChat.name} agent = {currentChat.agent} />\r\n                        </Tooltip>\r\n                        <Tooltip\r\n                          open={openTooltip}\r\n                          onClose={handleCloseTooltip}\r\n                          onOpen={handleOpenTooltip}\r\n                          // title='SEND TEMPLATE'\r\n                          title='INITIATE CONVERSATION'\r\n                        >\r\n                          <SpeakerNotesIcon\r\n                            className='templateMsg'\r\n                            // onClick={getTemplateMsg}\r\n                            onClick={handleSendTemplate}\r\n                          />\r\n                        </Tooltip>\r\n                        <textarea\r\n                          className='chatMessageInput'\r\n                          placeholder='Type a message...'\r\n                          value={newMessage}\r\n                          onChange={(e) => {\r\n                            setNewMessage(e.target.value);\r\n                            typeMsg(e);\r\n                          }}\r\n                          onKeyPress={handleKeyPress}\r\n                        />\r\n                        {newMessage.length > 0 ? (\r\n                         <>\r\n                         &nbsp;\r\n                          <SendIcon\r\n                            fontSize='medium'\r\n                            style={{fontSize: '29px'}}\r\n                            className='chatSubmitButton'\r\n                            onClick={handleSubmit}\r\n                          />\r\n                          {/* <NoteAddIcon\r\n                            fontSize='medium'\r\n                            style={{fontSize: '25px'}}\r\n                            className='chatSubmitButton'\r\n                            onClick={handleSendNote}\r\n                          /> */}\r\n                          <span className='chatSubmitButton'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                          <SpeedDial\r\n                            ariaLabel=\"SpeedDial openIcon example\"\r\n                            style={{left: '97%', height: '29px'}}\r\n                            sx={{ position: 'absolute', bottom: 16, right: 16 }}\r\n                            icon={<NoteAddIcon fontSize='medium' style={{fontSize: '26px', color:'#9B9B9B'}} openIcon={<SendIcon fontSize='medium' style={{fontSize: '26px', color:'#1977f2'}} />} />}\r\n                          >\r\n                            {actions.map((action) => (\r\n                              <SpeedDialAction\r\n                                key={action.name}\r\n                                icon={action.icon}\r\n                                tooltipTitle={action.name}\r\n                              />\r\n                            ))}\r\n                          </SpeedDial>\r\n                         </>\r\n                        ) : (\r\n                          <MicIcon fontSize='large' className='micButton' />\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </footer>\r\n              </>\r\n            ) : (\r\n              <img\r\n                src={chatDemo}\r\n                // height='600'\r\n                // width='600'\r\n                style={{\r\n                  alignSelf: 'center',\r\n                  marginTop: '130px',\r\n                  height: '60vh',\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <RightSec newSessions={newSessions} interestedTutors={interestedTutors} clientPayment={clientPayment} tutorPayout={tutorPayout} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n"],"mappings":"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EACF,CAJD;;EAMA,MAAMsH,aAAa,GAAG,MAAOtH,CAAP,IAAa;IACjC;IACAjF,iBAAiB,CAACiF,CAAC,CAACC,MAAF,CAASsH,SAAV,CAAjB;IACA,MAAMC,MAAM,GAAGxH,CAAC,CAACC,MAAF,CAASsH,SAAxB;;IACA,IAAIC,MAAM,KAAK,CAAf,EAAkB;MAChB;MACA3H,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAFgB,CAGhB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD,CA5BD,MA4BO,IACLE,CAAC,CAACC,MAAF,CAASwH,YAAT,GAAwBzH,CAAC,CAACC,MAAF,CAASsH,SAAjC,GAA6CvH,CAAC,CAACC,MAAF,CAASyH,YAAtD,GACA,GAFK,EAGL;MACA3N,aAAa,CAAC,IAAD,CAAb;IACD,CALM,MAKA,IACLiG,CAAC,CAACC,MAAF,CAASwH,YAAT,GAAwBzH,CAAC,CAACC,MAAF,CAASsH,SAAjC,GAA6CvH,CAAC,CAACC,MAAF,CAASyH,YAAtD,IACA,GAFK,EAGL;MACA3N,aAAa,CAAC,KAAD,CAAb;IACD;EACF,CA3CD,CAjyBwC,CA80BxC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EAEA,MAAM4N,iBAAiB,GAAG,OAAOzI,KAAP,EAAcgB,KAAd,KAAwB;IAChD,IAAIK,KAAK,GAAG/D,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;IACA,IAAIe,cAAJ,EAAoB;MAClBD,qBAAqB,CAAC,IAAD,CAArB;MACAF,cAAc,CAAC6C,KAAD,CAAd;;MACA,IAAI;QAAA;;QACF,MAAMb,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"},"metadata":{},"sourceType":"module"}