{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AEPL\\\\Desktop\\\\Git Clones\\\\Dummy_project\\\\Backend\\\\dummy1\\\\src\\\\components\\\\notes\\\\MoreMenu.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport IconButton from '@mui/material/IconButton';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ITEM_HEIGHT = 48;\nexport default function MoreMenu(_ref) {\n  _s();\n\n  let {\n    data,\n    setCurrentChat,\n    setFinalMessage,\n    scrollRef,\n    setScrollView_,\n    handleCloseModal,\n    setAllNotes,\n    setPage\n  } = _ref;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = async (event, wa_id) => {\n    setAnchorEl(event.currentTarget);\n\n    try {\n      var _res_$data;\n\n      const res_ = await axios.get(`${localStorage.getItem('api')}/api/conversations/findContact/${wa_id}`);\n      setCurrentChat(res_ === null || res_ === void 0 ? void 0 : (_res_$data = res_.data) === null || _res_$data === void 0 ? void 0 : _res_$data.result[0]);\n      setScrollView_(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const openInChat = async (wa_id, time) => {\n    try {\n      const res = await axios.get(`${localStorage.getItem('api')}/api/messages/filteredMsg/${wa_id}/${time}`);\n      setFinalMessage([...(res === null || res === void 0 ? void 0 : res.data)]);\n      setPage(Math.floor((res === null || res === void 0 ? void 0 : res.data.length) / 20) + 1);\n      handleCloseModal();\n      setAllNotes([]);\n      setScrollView_(false);\n      window.scrollTo(0, scrollRef.current.offsetTop);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"more\",\n      id: \"long-button\",\n      \"aria-controls\": open ? 'long-menu' : undefined,\n      \"aria-expanded\": open ? 'true' : undefined,\n      \"aria-haspopup\": \"true\",\n      onClick: e => handleClick(e, data === null || data === void 0 ? void 0 : data.wa_id),\n      children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      id: \"long-menu\",\n      MenuListProps: {\n        'aria-labelledby': 'long-button'\n      },\n      anchorEl: anchorEl,\n      open: open,\n      onClose: handleClose,\n      PaperProps: {\n        style: {\n          maxHeight: ITEM_HEIGHT * 4.5,\n          width: '20ch'\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => openInChat(data === null || data === void 0 ? void 0 : data.wa_id, data === null || data === void 0 ? void 0 : data.createdAt),\n        children: \"Show in chat\"\n      }, 'i', false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MoreMenu, \"+aMDa7FPcESUyQDF1vq0RSMn4/k=\");\n\n_c = MoreMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoreMenu\");","map":{"version":3,"names":["useState","IconButton","Menu","MenuItem","MoreVertIcon","axios","ITEM_HEIGHT","MoreMenu","data","setCurrentChat","setFinalMessage","scrollRef","setScrollView_","handleCloseModal","setAllNotes","setPage","anchorEl","setAnchorEl","open","Boolean","handleClick","event","wa_id","currentTarget","res_","get","localStorage","getItem","result","err","console","log","handleClose","openInChat","time","res","Math","floor","length","window","scrollTo","current","offsetTop","undefined","e","style","maxHeight","width","createdAt"],"sources":["C:/Users/AEPL/Desktop/Git Clones/Dummy_project/Backend/dummy1/src/components/notes/MoreMenu.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport axios from 'axios';\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\nexport default function MoreMenu({\r\n  data,\r\n  setCurrentChat,\r\n  setFinalMessage,\r\n  scrollRef,\r\n  setScrollView_,\r\n  handleCloseModal,\r\n  setAllNotes,\r\n  setPage\r\n}) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = async (event, wa_id) => {\r\n    setAnchorEl(event.currentTarget);\r\n    try {\r\n      const res_ = await axios.get(\r\n        `${localStorage.getItem('api')}/api/conversations/findContact/${wa_id}`\r\n      );\r\n      setCurrentChat(res_?.data?.result[0]);\r\n      setScrollView_(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const openInChat = async (wa_id, time) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem('api')}/api/messages/filteredMsg/${wa_id}/${time}`\r\n      );\r\n      setFinalMessage([...res?.data]);\r\n      setPage(Math.floor(res?.data.length/20) + 1);\r\n      handleCloseModal();\r\n      setAllNotes([]);\r\n      setScrollView_(false);\r\n      window.scrollTo(0, scrollRef.current.offsetTop);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label='more'\r\n        id='long-button'\r\n        aria-controls={open ? 'long-menu' : undefined}\r\n        aria-expanded={open ? 'true' : undefined}\r\n        aria-haspopup='true'\r\n        onClick={(e) => handleClick(e, data?.wa_id)}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id='long-menu'\r\n        MenuListProps={{\r\n          'aria-labelledby': 'long-button',\r\n        }}\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n          style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5,\r\n            width: '20ch',\r\n          },\r\n        }}\r\n      >\r\n        <MenuItem\r\n          key='i'\r\n          onClick={() => openInChat(data?.wa_id, data?.createdAt)}\r\n        >\r\n          Show in chat\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}