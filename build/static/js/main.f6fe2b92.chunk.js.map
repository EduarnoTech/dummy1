{"version":3,"sources":["serviceUrls/Message-Services.js","components/dialogs/StickComments.jsx","components/conversations/Conversation.jsx","serviceUrls/ApiHeaderKey.js","components/message/Message.jsx","serviceUrls/Customer-Services.js","components/forwardConv/ForwardMsg.jsx","assets/openChat2.png","components/dialogs/Reason.jsx","utils/variables.js","components/tutorContacts/TutorContact.jsx","assets/cancelledPic3.png","components/dialogs/TutorRating&Reviews.jsx","components/sessionTab/NotifiedTutors.jsx","components/sessionTab/SessionList.jsx","components/sessionTab/Session.jsx","components/paymentTab/PaymentData.jsx","components/rightComponent/RightSec.jsx","components/forms/FormCreation.jsx","components/notes/MoreMenu.jsx","components/notes/NoteHistory.jsx","pages/messenger/Messenger.jsx","pages/login/Login.jsx","App.js","reportWebVitals.js","index.js"],"names":["api","localStorage","getItem","msgUrl","sendMsgUrl","sendFileUrl","addContactUrl","addLabelUrl","addAgentUrl","pinChatUrl","markChatUrl","stickComment","fetchStickComment","sendtemplateMsgUrl","contactUrl","createSessionUrl","FormDialog","handleStickComments","setStickComments","stickComments","wa_id","fetchStickComments","React","open","setOpen","console","log","handleClose","Button","onClick","Dialog","onClose","DialogTitle","DialogContent","TextField","placeholder","multiline","onChange","e","target","value","rows","maxRows","style","width","DialogActions","HtmlTooltip","styled","className","props","Tooltip","classes","popper","theme","tooltipClasses","tooltip","backgroundColor","color","fontWeight","maxWidth","fontSize","typography","pxToRem","border","overflowX","overflowY","maxHeight","Conversation","apiUrl","conversation","currentChat","currentUser","setPinned","finalMessage","arrivalMessage","alertMsg","alert","setAlert","setMarkChat","setAlertUpdate","useState","msg","alertMessage","useRef","process","REACT_APP_PUBLIC_FOLDER","anchorEl","setAnchorEl","noteDetails","setNoteDetails","Boolean","updateAlert","newMsgCount","payload","timestamp","Math","floor","Date","getTime","axios","put","headers","text","handlePinChat","waId","pin","pinContact","res","data","updatedAt","handleMarkChat","markChat","markAsUnread","whatsId","comments","get","getNoteDetails","response","Avatar","name","slice","paddingBottom","placement","title","Typography","marginBottom","length","map","i","display","justifyContent","padding","borderBottom","flex","clientNotes","priority","noteText","alignSelf","moment","format","cursor","marginLeft","onMouseEnter","uid","tags","flexDirection","marginRight","transform","dt1","diff","abs","round","diff_hours","toISOString","Badge","badgeContent","paddingRight","stopPropagation","currentTarget","Menu","id","MenuListProps","MenuItem","headerKey","Message","message","own","msgArr","ownAlt","setForward","mulForward","setMulForward","setVisible","showSelector","setShowSelector","status","image","setImage","context","setContext","fileType","setFileType","useEffect","getImg","type","messages","fetch","then","blob","URL","createObjectURL","getContext","eventType","templateText","body","Checkbox","size","placeSelf","find","element","index","findIndex","x","splice","src","textAlign","caption","controls","href","document","filename","button","replyButton","whiteSpace","msgId","msgStatus","createdAt","getCustomersUrl","ForwardMsg","apiKey","visible","forward","setForwarded","forwarded","setForwardMsg","check","setCheck","search","setSearch","loading","setLoading","setColor","setRemovedNum","conversationsForward","setConversationsForward","convCount","setConvCount","contactListLoading","setContactListLoading","contactPage","setContactPage","show","agent","getConversations","params","page","limit","result","Error","closeModal","handleSend","user","k","recipient_type","to","conversationId","from","isOwner","post","operatorName","ticketId","setTimeout","filteredCoversation","handleSearch","handleContactList","event","ref","height","position","borderRadius","margin","CircularProgress","marginTop","val","indexOf","removedNo","handleCheck","for","Pagination","count","ceil","reason","setReason","setReasonDialog","reasonDialog","TextareaAutosize","minRows","preventDefault","setReasonVal","visibleCircularbar","namespace","waid","NAME_SPACE","WAID","Alert","forwardRef","elevation","variant","TutorContact","setTutorTagUpdated","updated","setTutorRatingUpdated","setUpdated","showMenu","setShowMenu","tagValue","setTagValue","setVisibleCircularbar","checked","setChecked","writer","setWriterStatus","reasonVal","vertical","horizontal","alertText","setAlertText","openSnackBar","setOpenSnackBar","handleCloseSnackBar","handleToggle","handleChangeStatus","tutorId","status_","payloadActiveInactiveTutor","templateName","undefined","template","language","param1","param2","param3","param4","error","contacts","valtest","tutor_status","tutor_id","handleChangeWriterStatus","openTag","setOpenTag","_handleClose","_handleAddTag","tag","handleClick","highlights","path","texts","j","sessions_done","el","filter","c","arr","Box","sx","alignItems","Rating","rating","precision","emptyIcon","opacity","readOnly","rating_and_reviews","max","reviews","highest_degree","valTestConv","Snackbar","autoHideDuration","anchorOrigin","severity","academic_info","college","email","subjects","Chip","label","Fab","DialogContentText","autoFocus","fullWidth","BootstrapDialog","spacing","BootstrapDialogTitle","children","other","m","p","right","top","palette","grey","labels","CustomizedDialogs","setShowTutorRatingBox","handleAssignTutorRating","showTutorRatingBox","setStoreTutorRating","setSendTutorRating","valueRating","setValueRating","speed","valueSpeed","setValueSpeed","accuracy","valueAccuracy","setValueAccuracy","legitimacy","valueLegitimacy","setValueLegitimacy","valueReview","setValueReview","hoverRating","hoverSpeed","hoverAccuracy","hoverLegitimacy","hoverReview","hover","setHover","dividers","gutterBottom","newValue","onChangeActive","newHover","ml","borderTop","NotifiedTutors","notified_tutors","assigned_tutors","tutor_interested","sessionId","tutor_dealt_amount","setAssignedTutor","tutorPayout","subject","deadline","duration","sessionType","setValue","openPayment","setOpenPayment","tutorAmt","setTutorAmt","tutorName","setTutorName","accNo","setAccNo","ifsc","setIfsc","upiId","setUpiId","tutorData","setTutorData","payOption","setPayOption","payMode","setPayMode","paymentLoading","setPaymentLoading","paymentSuccess","setPaymentSuccess","rpayPout","setRpayPout","assgnTutorRating","setAssgnTutorRating","disableRateBtn","setDisableRateBtn","deviceNo","tutorDuration","storeTutorRating","assgnTutorId","setAssgnTutorId","editTutorAmt","setEditTutorAmt","tutorDealtAmount","setTutorDealtAmount","tutorDetails","setTutorDetails","tutorAmtHandler","session_id","err","handleTutorRating","ratingAndReview","_id","getTutorDetails","handleAssignTutor","tutor","tutor_dur","tutor_duration","payloadTutor","sessions_assigned","assigned_tutor","medium","handleSendTemplateToAssignTutor","handleSendMailToAssignTutor","handleCancelAssignedTutor","tutorWaId","payloadCancelAssignedTutor","handleOpenTutorPayment","tutorDet","Bank","acc_no","ifsc_code","upi_id","handleCloseTutorPayment","payout","entity","statusPayload","session_rating","amount","param5","param6","param7","toLocaleString","param8","utr","param9","pan","toString","statusPayload_","payHeaders","username","password","payTutor","contact","reference_id","contact_id","payloadBank","account_type","bank_account","account_number","response2","payloadPayout_","fund_account_id","fund_bank_id","currency","mode","purpose","narration","notes","TDS","PAN","EMAIL","SESSION","payoutRes_","rpay","payloadUpi","vpa","address","fund_upi_id","payloadPayout","payoutRes","session_done","handleUnAssignTutor","tutorPayoutStatus","pout_info","shortText","TabContext","borderColor","TabList","centered","Tab","TabPanel","dept","icon","onMouseLeave","float","key","backgroundImage","tutor_cancelled","cancelPic1","backgroundSize","backgroundRepeat","backgroundPosition","acceptance_status","outline","disabled","ind","editTutorAmtFunc","tutor_unassigned","sort","a","b","created_at","it","Map","values","replace","autoComplete","required","FormControlLabel","control","defaultChecked","FormControl","component","FormLabel","RadioGroup","row","Radio","NativeSelect","defaultValue","inputProps","SessionList","tutorList","setTutorList","searchTutor","tutorCount","interestedTutors","clientPayment","reload","setReload","handleSearchTutors","scroll","setScroll","descriptionElementRef","tutorPage","setTutorPage","tutorListLoading","setTutorListLoading","sendingText","setSendingText","removedNum","showSessionDetails","setShowSessionDetails","edit","setEdit","setTaskStatus","selectClientAmount","setSelectClientAmount","selectCurrency","setSelectCurrency","agentComment","setAgentComment","openRefundWin","setOpenRefundWin","setClientInfo","show_paypal_url","paypalOption","setPaypalOption","isEditClientAmt","setIsEditClientAmt","disableUpdate","setDisableUpdate","disableUpdateTutor","setDisableUpdateTutor","showSendTemplate","setShowSendTemplate","payment_status","refundAmount","setRefundAmount","tutor_deadline","tutorDeadline","setTutorDeadline","setTutorDuration","lastIndex","setLastIndex","paymentStatusCheck","setPaymentStatusCheck","linkBaseURL","handleCloseRefundWindow","handlePlinkupdate","plink_id","resPlink","va_id","resValink","paymLinkAr","payments","push","payment_id","items","paymentIdAr","savePaymentInfo","toast","success","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","descriptionElement","current","focus","getClient","client_id","updateTutorPaymentStatus","tutor_payment_status","f","getnewPaymentLink","show_default_blocks","paymentPayload","client_waId","client_name","createVirtualAcc","receivers","types","description","close_by","project_name","clientAmtHandler","handleTutorList","notify","sendTemplateAlert","payload1","toUpperCase","payload2","paydata","now","res2","device_type","workStatusPayload","handleCloseSessionDetails","clientId","sessionStatus","resSolnFolderAccess","resultSolutionAccess","driveType","folderlink","descriptionElementRef_","agentCommentHandler","agent_comments","agent_comment","handleInitiateRefund","payId","resp1","refundInfo","scrollType","handleSessionPaymentStatus","alertText_","setAlertText_","handleContactValidate","today","after2days","setDate","getDate","client_comments","toLocaleDateString","opExecutive","fontFamily","forEach","onKeyPress","tabIndex","LinearProgress","client_amount","payment_link","payment_info","reduce","pv","cv","z","refund_status","payment","refund_info","textTransform","work_status","session_agent","window","confirm","selected","min","lineHeight","minWidth","paddingLeft","method","fontStyle","textDecoration","resize","cols","agent_comments_new","newestOnTop","rtl","pauseOnFocusLoss","Session","setVal","sessionList","setSessionList","sessionCount","setSessionCount","sessionPage","setSessionPage","sessionListLoading","setSessionListLoading","sessionTime","setSessionTime","searchSession","setSearchSession","assignedTutor","clickedNoti","setClickedNoti","applyFilter","dateRange","setDateRange","filterValue","setFilterValue","filterValue_","setFilterValue_","filterValue2","setFilterValue2","filterActive","setFilterActive","getSessions","handleSessionList","openMenu","handleSearchSession","handleApplyFilterSession","toggleDrawer","setState","state","left","bottom","anchor","handleFilterSession","handleFilterSession_","handleFilterSession2","list","role","onKeyDown","List","ListItem","ListItemText","primary","LocalizationProvider","dateAdapter","AdapterDateFns","DateRangePicker","renderInput","startProps","endProps","Fragment","mx","inputRef","Divider","PaperProps","ITEM_HEIGHT","option","Drawer","columns","field","headerName","PaymentData","payDet","setPayDet","setpaymentCount","getPaymentDetails","txnId","background","DataGrid","pageSize","rowsPerPageOptions","RightSec","newSessions","tutorTagUpdated","tutorRatingUpdated","setSearchTutor","setTutorCount","tutorTab","setTutorTab","sessionTab","setSessionTab","paymentTab","setPaymentTab","setval","getTutors","borderRight","FormCreation","clientWaId","clientName","sessionData","setSessionData","formLink","setFormLink","btnDisabled","setBtnDisabled","closeBtnDisabled","setCloseBtnDisabled","numberformat","executive","setExecutive","errorMsg","setErrorMsg","getSessionDet","linkGenerator","link","tempBody","Link","underline","concat","MoreMenu","setCurrentChat","setFinalMessage","scrollRef","setScrollView_","handleCloseModal","setAllNotes","setPage","res_","openInChat","time","scrollTo","offsetTop","NoteHistory","allNotes","isLoading","setIsLoading","setCount","notePage","setNotePage","getAllNotes","handleNoteHistory","handleMarkAsSolved","Messenger","conversations","setConversations","setMsgResponse","setMessages","newMsgRec","setNewMsgRec","newMessage","setNewMessage","setArrivalMessage","socket","setHighlighted","sent","setSent","setAlertMsg","myFiles","setMyFiles","file","setFile","fileSent","setFileSent","openTooltip","setOpenTooltip","openTooltipForm","setOpenTooltipForm","showTemplateMsg","setShowTemplateMsg","setCaption","saved","setSaved","addNewContact","setAddNewContact","addName","setAddName","addNumber","setAddNumber","setStatus","taglabel","setTaglabel","tagUpdated","setTagUpdated","msgCountUpdated","setMsgCountUpdated","scrollView","setScrollView","scrollView_","pinned","errMsg","setErrMsg","setScrollPosition","msgLoad","setMsgLoad","alertUpdate","quickReplyText","setQuickReplyText","addingContact","setAddingContact","confirmationText","setConfirmationText","agentUpdated","setAgentUpdated","agentlabel","setAgentlabel","agentStatus","setAgentStatus","searchContacts","setSearchContacts","setInterestedTutors","setNewSessions","setClientPayment","setTutorPayout","listInnerRef","Set","chatLabels","setChatLabels","setLoadingMsg","handleLoadMoreMsgClick","handleLabelChange","handleAgentChange","io","device","emit","on","Notification","permission","location","msgs","startInd","update","filtered","payX","interestedTutor","newSession","getAgentStatus","getMessages","newArr","typeMsg","filteredQuickReplyText","shortcut","toLowerCase","handleSubmit","timeStamp","handleFileSubmit","includes","media","handleSendTemplate","handleSendNote","addContact","scrollIntoView","fetchMoreData","scrollTop","scrollHeight","clientHeight","handleSearchContacts","handleAgentStatus","actions","agentName","alt","clear","Stack","direction","LoadingButton","loadingPosition","startIcon","l","onScroll","owner","paddingTop","files","reader","FileReader","myfiles","readAsDataURL","onload","formData","fileList","handleFiles","onOpen","shiftKey","SpeedDial","ariaLabel","openIcon","action","SpeedDialAction","tooltipTitle","chatDemo","Login","userId","setUserId","setAgent","pass","setPass","setUser","setApiUrl","setApiKey","otp","setOtp","verifyUser","verifyAgent","otpMatched","setItem","remark","sendOtp","minLength","App","login","requestPermission","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f6fe2b92.chunk.js","sourcesContent":["let api = localStorage.getItem(\"api\");\r\nconst BASE_API_URL1 = api;\r\nconst BASE_API_URL2 = 'https://waba.360dialog.io';\r\n\r\nexport const msgUrl = BASE_API_URL1 + '/api/messages';\r\nexport const sendMsgUrl = BASE_API_URL1 + '/api/messages/sendSession';\r\nexport const alertMsgUrl = 'https://annular-arena-331607.el.r.appspot.com/api/alerts';\r\nexport const sendFileUrl = BASE_API_URL1 + '/api/messages/sendMedia';\r\nexport const addContactUrl = BASE_API_URL1 + '/api/conversations/addContact';\r\nexport const addLabelUrl = BASE_API_URL1 + '/api/conversations/chatLabel';\r\nexport const addAgentUrl = BASE_API_URL1 + '/api/conversations/chatAgent';\r\nexport const pinChatUrl = BASE_API_URL1 + '/api/conversations/pinChat';\r\nexport const markChatUrl = BASE_API_URL1 + '/api/conversations/markChat';\r\nexport const stickComment = BASE_API_URL1+'/api/conversations/stickComments';\r\nexport const fetchStickComment = BASE_API_URL1+'/api/conversations/fetchStickComments';\r\nexport const getFileUrl = BASE_API_URL2 + '/v1/media';\r\nexport const templateMsgUrl = BASE_API_URL2 + '/v1/configs/templates';\r\nexport const sendtemplateMsgUrl = BASE_API_URL1 + '/api/messages/sendTemplate';\r\nexport const bulkDeleteMsgUrl = BASE_API_URL2 + '/v2/message/batch';\r\nexport const quickReplyUrl = 'https://annular-arena-331607.el.r.appspot.com/api/quickreply';\r\nexport const contactUrl = BASE_API_URL1 + '/api/conversations';\r\n\r\nexport const createSessionUrl = BASE_API_URL1 + '/api/sessions/createSession';","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nexport default function FormDialog({handleStickComments,setStickComments,stickComments,wa_id,fetchStickComments}) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\nconsole.log({stickComments})\r\n  const handleClickOpen = () => {\r\n    fetchStickComments(wa_id)\r\n    setOpen(true);\r\n  };\r\n\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button  onClick={handleClickOpen}>\r\n      Comments\r\n      </Button>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Add Comments</DialogTitle>\r\n        <DialogContent>\r\n          {/* <DialogContentText>\r\n           Write Your comments here..\r\n          </DialogContentText> */}\r\n          <TextField\r\n              placeholder='write your comments here!'\r\n              multiline\r\n              onChange={(e) => setStickComments(e.target.value)}\r\n              value={stickComments}\r\n              rows={2}\r\n              maxRows={6}\r\n              style={{ width: '30rem' }}\r\n            />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button onClick={()=>handleStickComments(wa_id,stickComments)}>Add</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import axios from 'axios';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport './conversation.css';\r\nimport {\r\n  msgUrl,\r\n  alertMsgUrl,\r\n  pinChatUrl,\r\n  markChatUrl,\r\n  stickComment,\r\n  fetchStickComment\r\n} from '../../serviceUrls/Message-Services';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { io } from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport PushPinIcon from '@mui/icons-material/PushPin';\r\nimport Button from '@mui/material/Button';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport Badge from '@mui/material/Badge';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport StickComments from \"../dialogs/StickComments\"\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Tooltip, { tooltipClasses } from \"@mui/material/Tooltip\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst HtmlTooltip = styled(({ className, ...props }) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: \"rgba(80, 80, 80, 0.92)\",\r\n    color: \"#ffff\",\r\n    fontWeight: \"500\",\r\n    maxWidth: 350,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid rgba(80, 80, 80, 0.92)\",\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    maxHeight: \"300px\"\r\n  },\r\n}));\r\n// import useSound from 'use-sound';\r\n\r\n// import notification from '../../assets/notification.mp3';\r\n\r\nexport default function Conversation({\r\n  apiUrl,\r\n  conversation,\r\n  currentUser,\r\n  currentChat,\r\n  finalMessage,\r\n  arrivalMessage,\r\n  alertMsg,\r\n  alert,\r\n  setAlert,\r\n  setPinned,\r\n  setMarkChat,\r\n  setAlertUpdate,\r\n}) {\r\n  const [msg, setMsg] = useState([]);\r\n  const [alertText, setAlertText] = useState([]);\r\n  const [alertMessage, setAlertMessage] = useState([]);\r\n  // const [hide, setHide] = useState(false);\r\n  const [msgCount, setMsgCount] = useState();\r\n\r\n  const socket = useRef();\r\n  const alertIcon = useRef();\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const headerKey = {\r\n    Accept: 'application/json',\r\n    Authorization:\r\n      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTYyMWZkZi0wYjJjLTQxYzAtOWZmMS1iZDk5NWZmYTQ2ZTUiLCJ1bmlxdWVfbmFtZSI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwibmFtZWlkIjoib2ZmaWNlQHR1dG9ycG9pbnQuaW4iLCJlbWFpbCI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwiYXV0aF90aW1lIjoiMDgvMDQvMjAyMSAwODoxMTowMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFETUlOSVNUUkFUT1IiLCJleHAiOjI1MzQwMjMwMDgwMCwiaXNzIjoiQ2xhcmVfQUkiLCJhdWQiOiJDbGFyZV9BSSJ9.lSSh1EL29ksj23Y_rTSrLhYVwhOFyddK1c6bKU-_HB4',\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [stickComments,setStickComments] =useState();\r\n  const [noteDetails, setNoteDetails] = useState();\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  console.log(msg);\r\n  // useEffect(() => {\r\n  //   const friendId = conversation.id;\r\n\r\n  //   const getUser = async () => {\r\n  //     try {\r\n  //       const res = await axios(getCustomersUrl + `/${friendId}`, {headers: {...headerKey}});\r\n  //       setUser(res.data);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getUser();\r\n  // }, [conversation]);\r\n\r\n  // useEffect(() => {\r\n  //   socket.current = io('ws://localhost:8900');\r\n  //   socket.current.on('getAlert', (msg) => {\r\n  //     // storeFiles(msg); //store incoming files data to excel\r\n  //     setAlertMsg([msg]);\r\n  //   });\r\n  // }, []);\r\n\r\n  // const [play] = useSound(notification);\r\n\r\n  // useEffect(() => {\r\n  //   const getMessages = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         msgUrl + `/${conversation?.wa_id}?page=0&limit=20`,\r\n  //         {\r\n  //           headers: { ...headerKey },\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getMessages();\r\n  // }, [newNotification, alertMsg]);\r\n\r\n  // console.log(arrivalMessage.length);\r\n\r\n  // // useEffect(() => {\r\n  // //   play();\r\n  // // }, [arrivalMessage?.length])\r\n\r\n  // useEffect(() => {\r\n  //   const getAlert = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(alertMsgUrl + `/${conversation?.wa_id}`, {\r\n  //         headers: {},\r\n  //       });\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //       setMsgCount(() => res?.data?.filter((i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id).length);\r\n  //       setHide(false);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getAlert();\r\n  // }, [alertMsg, newNotification]);\r\n\r\n  // console.log(alertMessage);\r\n\r\n  // useEffect(() => {\r\n  //   setMsgCount(\r\n  //     () =>\r\n  //       alertMessage?.filter(\r\n  //         (i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id\r\n  //       ).length\r\n  //   );\r\n  // }, [alertMessage, alertMsg, newNotification]);\r\n\r\n  const updateAlert = async (wa_id) => {\r\n    if (conversation.newMsgCount > 0) {\r\n      try {\r\n        const payload = {\r\n          newMsgCount: 0,\r\n          timestamp: Math.floor(new Date().getTime() / 1000.0),\r\n        };\r\n        const response = await axios.put(\r\n          `${apiUrl || localStorage.getItem('api')}/api/conversations/${wa_id}`,\r\n          payload,\r\n          {\r\n            headers: {},\r\n          }\r\n        );\r\n        setAlertUpdate(Math.floor(new Date().getTime() / 1000.0));\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log(alertMessage);\r\n\r\n  const diff_hours = (dt1) => {\r\n    var diff = new Date().getTime() / 1000.0 - dt1;\r\n    diff /= 60 * 60;\r\n    return Math.abs(Math.round(diff));\r\n  };\r\n\r\n  // const filteredArrivalMessage = alertMsg?.filter(\r\n  //   (i) => i.wAid === conversation.wAid\r\n  // );\r\n\r\n  // const newNoti = (id) => {\r\n  //   let filtered = alertText.filter((i) => i.waId === id);\r\n  //   console.log(filtered);\r\n  //   return { arr: filtered, len: filtered.length };\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   setAlertText([...alertText, ...alertMsg]);\r\n  //   setAlert(alert + 1);\r\n  //   // return () => {\r\n  //   //   setAlertText([])\r\n  //   // }\r\n  // }, [alertMsg]);\r\n\r\n  // let filteredAlert = alertText?.filter((i) => i.waId === conversation?.wAid);\r\n\r\n  // console.log(alertMsg);\r\n  // console.log(alertText);\r\n  // console.log(alert);\r\n\r\n  const handlePinChat = async (waId, pin) => {\r\n    const payload = {\r\n      pinContact: !pin,\r\n    };\r\n    const res = await axios.put(pinChatUrl + `/${waId}`, payload, {\r\n      headers: '',\r\n    });\r\n    setPinned(res?.data?.updatedAt);\r\n  };\r\n\r\n  const handleMarkChat = async (waId, markChat) => {\r\n    const payload = {\r\n      markAsUnread: !markChat,\r\n    };\r\n    const res = await axios.put(markChatUrl + `/${waId}`, payload, {\r\n      headers: '',\r\n    });\r\n    setMarkChat(res?.data?.updatedAt);\r\n  };\r\n\r\n  const handleStickComments = async (whatsId, stickComments) => {\r\n    const payload = {\r\n      comments: stickComments,\r\n    };\r\n    const res = await axios.put(stickComment + `/${whatsId}`, payload, {\r\n      headers: '',\r\n    });\r\n    fetchStickComments(whatsId)\r\n    // setStickComments(res?.data?.comments);\r\n    handleClose()\r\n  };\r\n\r\n  const fetchStickComments = async (waId) => {\r\n  \r\n    const res = await axios.get(fetchStickComment + `/${waId}`);\r\n    if(res.data){\r\n      setStickComments(res.data)\r\n    }\r\n   \r\n  };\r\n\r\n  const getNoteDetails = async (waId) => {\r\n    try{\r\n      const response = await axios.get(`${localStorage.getItem(\"api\")}/api/messages/getNotes/${waId}`);\r\n      setNoteDetails(response.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n  const shortText = (text) => {\r\n    if(text.length > 17) {\r\n      return `${text.slice(0, 17)}..`;\r\n    }\r\n    else if(text.length <= 17) {\r\n      return text;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        currentChat?.wa_id == conversation?.wa_id\r\n          ? 'conversation highlighted'\r\n          : 'conversation'\r\n      }\r\n      onClick={() => {\r\n        updateAlert(conversation?.wa_id);\r\n      }}\r\n    >\r\n      <div className='userTab'>\r\n        <Avatar className='conversationImg'>\r\n          {conversation?.name?.slice(0, 2)}\r\n        </Avatar>\r\n        <div style={{ paddingBottom: '5px' }}>\r\n          <div className='conversationName'>{`${\r\n            conversation?.name\r\n          }${conversation?.wa_id.slice(0, 3)}`}\r\n            <HtmlTooltip\r\n                placement=\"right\"\r\n                title={\r\n                  <>\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                    {noteDetails && noteDetails.length > 0 ? 'Notes: ' : 'No Notes'}\r\n                    </Typography>\r\n                    {noteDetails && noteDetails.length > 0 && (\r\n                      <Typography\r\n                        color=\"inherit\"\r\n                        style={{\r\n                          fontSize: \"13.5px\",\r\n                          fontWeight: \"600\",\r\n                          marginBottom: \"5px\",\r\n                          maxHeight:\"500px\",\r\n                          overflowY:\"scroll\"\r\n                        }}\r\n                      >\r\n                        {noteDetails.map((i) => \r\n                        <div\r\n                          style={{ display: 'flex', justifyContent: 'space-between', fontSize: \"12px\", fontWeight: \"normal\", padding: '8px 5px', borderBottom: '1px solid #ffff' }}\r\n                        >\r\n                          <div style={{display: 'flex', flex: '60%', fontSize: '13px', fontWeight: '600', color: i?.clientNotes?.priority === 'high' ? 'red' : i?.clientNotes?.priority === 'medium' ? 'royalblue' : '#565555'}}>{i?.clientNotes?.noteText}</div>\r\n                          <div style={{display: 'flex', alignSelf: 'self-end', fontSize: '11px'}}>\r\n                            {moment(new Date(i.timestamp * 1000)).format('lll')}\r\n                          </div>\r\n                        </div>)}\r\n                      </Typography>\r\n                    )}\r\n                   \r\n                  </>\r\n                }\r\n              >\r\n                <InfoIcon\r\n                  fontSize=\"small\"\r\n                  style={{\r\n                    fontSize: \"12px\",\r\n                    cursor: \"pointer\",\r\n                    marginLeft: \"1px\",\r\n                  }}\r\n                  onMouseEnter={() => getNoteDetails(conversation?.wa_id)}\r\n                />\r\n            </HtmlTooltip>\r\n          </div>\r\n          <div style={{ fontSize: '12px' }}>\r\n            {`ED${conversation?.uid}`}\r\n            <span className='usertag_'>{shortText(conversation?.tags)}</span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flex: '35%',\r\n            flexDirection: 'column',\r\n            justifyContent: 'flex-end',\r\n          }}\r\n        >\r\n          <span\r\n            style={{\r\n              display: 'flex',\r\n              flex: '1',\r\n              justifyContent: 'flex-end',\r\n              padding: '10px',\r\n              fontSize: '12px',\r\n              fontWeight: 'normal',\r\n            }}\r\n          >\r\n            {conversation?.pinContact && (\r\n              <span\r\n                style={{\r\n                  marginRight: '14px',\r\n                  transform: 'rotate(45deg)',\r\n                  cursor: 'pointer',\r\n                }}\r\n              >\r\n                <PushPinIcon style={{ fontSize: '15px' }} />\r\n              </span>\r\n            )}\r\n            {diff_hours(conversation?.timestamp) < 24\r\n              ? moment(\r\n                  new Date(conversation?.timestamp * 1000).toISOString()\r\n                ).format('hh:mm a')\r\n              : moment(\r\n                  new Date(conversation?.timestamp * 1000).toISOString()\r\n                ).format('L')}\r\n          </span>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              alignSelf: 'flex-end',\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                padding: '0px 10px',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              {conversation.markAsUnread && (\r\n                <Badge badgeContent={''} color='primary'></Badge>\r\n              )}\r\n            </span>\r\n            {conversation.newMsgCount > 0 && (\r\n              <span\r\n                style={{\r\n                  padding: '0px 10px',\r\n                  marginRight: '5px',\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={conversation.newMsgCount}\r\n                  color='success'\r\n                ></Badge>\r\n              </span>\r\n            )}\r\n            <span style={{ paddingRight: '5px' }}>\r\n              <KeyboardArrowDownIcon\r\n                fontSize='small'\r\n                color='action'\r\n                onClick={(e) => {\r\n                  e.stopPropagation(); \r\n                  handleClick(e);\r\n                }}\r\n              />\r\n              <Menu\r\n                id='basic-menu'\r\n                anchorEl={anchorEl}\r\n                open={open}\r\n                onClose={handleClose}\r\n                MenuListProps={{\r\n                  'aria-labelledby': 'basic-button',\r\n                }}\r\n              >\r\n                <MenuItem\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handlePinChat(\r\n                      conversation?.wa_id,\r\n                      conversation?.pinContact\r\n                    );\r\n                    handleClose();\r\n                  }}\r\n                >\r\n                  {conversation?.pinContact ? 'Unpin chat' : 'Pin chat'}\r\n                </MenuItem>\r\n                <MenuItem\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleMarkChat(\r\n                      conversation?.wa_id,\r\n                      conversation?.markAsUnread\r\n                    );\r\n                    handleClose();\r\n                  }}\r\n                >\r\n                  {conversation?.markAsUnread\r\n                    ? 'Mark as read'\r\n                    : 'Mark as unread'}\r\n                </MenuItem>\r\n                <MenuItem\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    // setWhatsId(conversation?.wa_id)\r\n                    // fetchStickComments(conversation?.wa_id)\r\n                  }}\r\n                >\r\n                  <StickComments handleStickComments={handleStickComments} fetchStickComments={fetchStickComments} wa_id={conversation?.wa_id} setStickComments={setStickComments} stickComments={stickComments}/>\r\n                  {/* {conversation?.pinContact ? 'Unpin chat' : 'Pin chat'} */}\r\n                </MenuItem>\r\n              </Menu>\r\n            </span>\r\n          </div>\r\n          {/* {filteredAlert.length > 0 ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'flex-end',\r\n                padding: '0px 10px 0px 0px',\r\n              }}\r\n              ref={alertIcon}\r\n            >\r\n              <NotificationsIcon style={{ color: '#03D755' }} />\r\n            </div>\r\n          ) : null} */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","let api_key = localStorage.getItem(\"api_key\");\r\nexport const headerKey = {\r\n  'Content-Type': 'application/json',\r\n  // Authorization:\r\n  //   'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTYyMWZkZi0wYjJjLTQxYzAtOWZmMS1iZDk5NWZmYTQ2ZTUiLCJ1bmlxdWVfbmFtZSI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwibmFtZWlkIjoib2ZmaWNlQHR1dG9ycG9pbnQuaW4iLCJlbWFpbCI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwiYXV0aF90aW1lIjoiMDgvMDQvMjAyMSAwODoxMTowMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFETUlOSVNUUkFUT1IiLCJleHAiOjI1MzQwMjMwMDgwMCwiaXNzIjoiQ2xhcmVfQUkiLCJhdWQiOiJDbGFyZV9BSSJ9.lSSh1EL29ksj23Y_rTSrLhYVwhOFyddK1c6bKU-_HB4',\r\n  'D360-API-KEY': api_key,\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport './message.css';\r\nimport { format } from 'timeago.js';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport { getFileUrl } from '../../serviceUrls/Message-Services';\r\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport ReplyAllIcon from '@mui/icons-material/ReplyAll';\r\n\r\nconst Message = ({\r\n  apiUrl,\r\n  message,\r\n  msgArr,\r\n  own,\r\n  ownAlt,\r\n  setForward,\r\n  mulForward,\r\n  setMulForward,\r\n  setVisible,\r\n  showSelector,\r\n  setShowSelector,\r\n  status\r\n}) => {\r\n  const [fileData, setFileData] = useState();\r\n  const [image, setImage] = useState();\r\n  const [context, setContext] = useState();\r\n  const [fileType, setFileType] = useState();\r\n  const [check, setCheck] = useState();\r\n\r\n  console.log('stat', status)\r\n\r\n  console.log(message);\r\n\r\n  useEffect(() => {\r\n    const getImg = async () => {\r\n      try {\r\n        if (\r\n          message.type == 'image' ||\r\n          message.type == 'video' ||\r\n          message.type == 'document' ||\r\n          message.type == 'voice' ||\r\n          message.type == 'audio' ||\r\n          (message?.messages && message?.messages[0]?.type == 'image') ||\r\n          (message?.messages && message?.messages[0]?.type == 'video') ||\r\n          (message?.messages && message?.messages[0]?.type == 'voice') ||\r\n          (message?.messages && message?.messages[0]?.type == 'audio') ||\r\n          (message?.messages && message?.messages[0]?.type == 'document')\r\n        ) {\r\n          await fetch(\r\n            `https://waba.360dialog.io/v1/media/${\r\n              message?.data?.id ||\r\n              (message?.messages &&\r\n                message?.messages[0]?.[message?.messages[0]?.type]?.id)\r\n            }`,\r\n            {\r\n              headers: { ...headerKey },\r\n            }\r\n          )\r\n            .then((res) => res.blob())\r\n            .then((blob) => {\r\n              setImage(() => URL.createObjectURL(blob));\r\n            });\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getImg();\r\n\r\n    const getContext = async () => {\r\n      if (\r\n        (message?.context && message?.context?.id) ||\r\n        (message?.messages && message?.messages[0]?.context)\r\n      ) {\r\n        try {\r\n          const res = await axios.get(\r\n            `${apiUrl || localStorage.getItem('api')}/api/messages/findMsg/${\r\n              message?.context?.id ||\r\n              (message?.messages && message?.messages[0]?.context?.id)\r\n            }`\r\n          );\r\n          if (res.data[0].eventType === 'template') {\r\n            setContext(res.data[0].templateText);\r\n            console.log(res.data[0]);\r\n          } else if (res.data[0].type === 'text') {\r\n            setContext(res.data[0].text.body);\r\n          } else if (\r\n            res.data[0].type === 'image' ||\r\n            res.data[0].type === 'video' ||\r\n            res.data[0].type === 'document'\r\n          ) {\r\n            setFileType(res.data[0].type);\r\n            await fetch(\r\n              `https://waba.360dialog.io/v1/media/${res.data[0].data?.id}`,\r\n              {\r\n                headers: { ...headerKey },\r\n              }\r\n            )\r\n              .then((res) => res.blob())\r\n              .then((blob) => {\r\n                setContext(() => URL.createObjectURL(blob));\r\n              });\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    };\r\n    getContext();\r\n    \r\n  }, [message]);\r\n\r\n  \r\n  console.log(image);\r\n\r\n  // const handleCheck = (val) => {\r\n  //   if(mulForward.find(element => element == val)) {\r\n  //     let index = mulForward.indexOf(val);\r\n  //     mulForward.splice(index, 1);\r\n  //   }\r\n  //   else if() {\r\n  //     message.type === 'image' ||\r\n  //             message.type === 'video' ||\r\n  //             message.type === 'document'\r\n  //               ? setMulForward([...mulForward, { type: message.type, data: message.data }]) : setMulForward([...mulForward, { type: message.type, data: message.text }])\r\n  //   }\r\n  // }\r\n\r\n  console.log(mulForward);\r\n\r\n  return (\r\n    <>\r\n      {message.eventType === 'template' ? (\r\n        <div className='temp_message'>\r\n          <p className='temp_messageText'>{message.templateText}</p>\r\n        </div>\r\n      ) : message.eventType === 'note' ? (\r\n        <div className='note_message'>\r\n          <p className='note_messageText'>\r\n            <span style={{color: message?.clientNotes?.priority === 'high' ? 'red' : message?.clientNotes?.priority === 'medium' ? 'royalblue' : '#9b9b9b', fontSize: '12px', fontWeight: '700'}}>NOTE: </span>\r\n            {message.clientNotes.noteText}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className={own || ownAlt ? 'message own' : 'message'}>\r\n          <div className={own || ownAlt ? 'messageTop _own_' : 'messageTop'}>\r\n            {showSelector && (\r\n              <Checkbox\r\n                size='small'\r\n                style={{ placeSelf: 'center', marginRight: '15px' }}\r\n                // id={i._id}\r\n                // name={i._id}\r\n                // value={i.wa_id}\r\n                onChange={() => {\r\n                  if (\r\n                    mulForward?.find(\r\n                      (element) =>\r\n                        (element?.data?.body &&\r\n                          element?.data?.body == message?.text?.body) ||\r\n                        (element?.data?.body &&\r\n                          message?.messages &&\r\n                          element?.data?.body ==\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .body) ||\r\n                        (element?.data?.id &&\r\n                          element?.data?.id == message?.data?.id) ||\r\n                        (element?.data?.id &&\r\n                          message?.messages &&\r\n                          element?.data?.id ==\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .id)\r\n                    )\r\n                  ) {\r\n                    let index = mulForward?.findIndex(\r\n                      (x) =>\r\n                        (x?.data?.body &&\r\n                          x?.data?.body === message?.text?.body) ||\r\n                        (x?.data?.id && x?.data?.id === message?.data?.id) ||\r\n                        (x?.data?.body &&\r\n                          message?.messages &&\r\n                          x?.data?.body ===\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .body) ||\r\n                        (x.data.id &&\r\n                          message?.messages &&\r\n                          x.data.id ===\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .id)\r\n                    );\r\n                    mulForward.splice(index, 1);\r\n                  } else {\r\n                    setMulForward([\r\n                      ...mulForward,\r\n                      {\r\n                        type:\r\n                          message?.type ||\r\n                          (message?.messages && message?.messages[0]?.type),\r\n                        data:\r\n                          message?.data ||\r\n                          message.text ||\r\n                          (message?.messages &&\r\n                            message?.messages[0]?.[message?.messages[0]?.type]),\r\n                      },\r\n                    ]);\r\n                    // : message?.type === 'text' ||\r\n                    // message?.messages[0]?.type === 'text' ? setMulForward([\r\n                    //     ...mulForward,\r\n                    //     {\r\n                    //       type:\r\n                    //         message.type ||\r\n                    //         (message?.messages && message?.messages[0]?.type),\r\n                    //       data:\r\n                    //         message.text ||\r\n                    //         (message?.messages &&\r\n                    //           message?.messages[0]?.text),\r\n                    //     },\r\n                    //   ]) : setMulForward([\r\n                    //     ...mulForward,\r\n                    //     {\r\n                    //       type:\r\n                    //         message.type ||\r\n                    //         (message?.messages && message?.messages[0]?.type),\r\n                    //       data:\r\n                    //         message.text ||\r\n                    //         (message?.messages &&\r\n                    //           message?.messages[0]?.text),\r\n                    //     },\r\n                    //   ])\r\n                  }\r\n                }}\r\n              />\r\n            )}\r\n            {message.type === 'image' ||\r\n            (message?.messages && message?.messages[0]?.type == 'image') ? (\r\n              <div className={own || ownAlt ? 'messageImage own_' : 'messageImage'}>\r\n              <img\r\n                src={image}\r\n                className={own || ownAlt ? 'imageBox ownimg_' : 'imageBox'}\r\n                // className={own || ownAlt ? 'messageImage own_' : 'messageImage'}\r\n              />\r\n              <div style={{textAlign: 'start', padding: '0px 7px 0px 7px', fontSize: '13px', width: '-webkit-fill-available'}}>\r\n                {message?.data?.caption || message?.messages && message?.messages[0]?.[message?.messages[0]?.type]?.caption}\r\n              </div>\r\n              </div>\r\n            ) : message.type === 'video' ||\r\n              (message?.messages && message?.messages[0]?.type == 'video') ? (\r\n              <div className={\r\n                own || ownAlt ? 'messageVideo ownVid' : 'messageVideo'\r\n              }>\r\n              <video\r\n                controls\r\n                src={image}\r\n                className={\r\n                  own || ownAlt ? 'videoBox ownVid_' : 'videoBox'\r\n                }\r\n              />\r\n              <div style={{textAlign: 'start', padding: '0px 7px 0px 7px', fontSize: '13px', width: '-webkit-fill-available'}}>\r\n                {message?.data?.caption || message?.messages && message?.messages[0]?.[message?.messages[0]?.type]?.caption}\r\n              </div>\r\n              </div>\r\n            ) : message.type === 'voice' || message.type === 'audio' ||\r\n              (message?.messages && message?.messages[0]?.type == 'voice') || (message?.messages && message?.messages[0]?.type == 'audio') ? (\r\n              <ReactAudioPlayer\r\n                src={image}\r\n                style={{ marginBottom: '15px' }}\r\n                controls\r\n              />\r\n            ) : message.type === 'document' ||\r\n              (message?.messages &&\r\n                message?.messages[0]?.type == 'document') ? (\r\n              <div\r\n                className={own || ownAlt ? 'messageDocs own_' : 'messageDocs'}\r\n              >\r\n                {/* <iframe src={image} height=\"200\" width=\"300\"></iframe> */}\r\n                {/* {JSON.stringify(image)} */}\r\n                {/* <img src={image} /> */}\r\n                <a href={image} target='_blank'>\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.document?.filename || message?.messages[0]?.document?.caption\r\n                    : message.data.filename\r\n                    ? message.data.filename\r\n                    : !message.data.filename\r\n                    ? message.data.caption\r\n                    : null}\r\n                </a>\r\n                {/* {message?.messages ? message?.messages[0]?.document?.filename : message.data.filename ? message.data.filename : null} */}\r\n              </div>\r\n            ) : message.type === 'button' ||\r\n              (message?.messages && message?.messages[0]?.type == 'button') ? (\r\n              <div>\r\n                <p className='messageTextContext'>{context}</p>\r\n                <p className='messageTextReplyBtn'>\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.button?.text\r\n                    : message?.replyButton\r\n                    ? message?.replyButton\r\n                    : null}\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div style={{ whiteSpace: 'pre-wrap' }}>\r\n                {message?.context ||\r\n                (message?.messages && message?.messages[0]?.context) ? (\r\n                  <div>\r\n                    {fileType === 'image' ||\r\n                    fileType === 'video' ||\r\n                    fileType === 'document' ? (\r\n                      // <iframe\r\n                      //   src={context}\r\n                      //   width='100'\r\n                      //   height='100'\r\n                      //   style={{ border: '2px solid #fff' }}\r\n                      // ></iframe>\r\n                      <div className='messageFileContext'>\r\n                        <a href={context} target='_blank'>\r\n                          file link\r\n                        </a>\r\n                      </div>\r\n                    ) : (\r\n                      <p className='messageTextContext'>{context}</p>\r\n                    )}\r\n                  </div>\r\n                ) : null}\r\n                <p\r\n                  className={\r\n                    message.context ||\r\n                    (message?.messages && message?.messages[0]?.context)\r\n                      ? 'messageTextReply'\r\n                      : 'messageText'\r\n                  }\r\n                >\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.text?.body\r\n                    : message?.text?.body\r\n                    ? message?.text?.body\r\n                    : null}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n            {own || ownAlt ? (\r\n              <>\r\n                {message.status === 'read' || status?.find(e => e?.msgId == message?.id)?.msgStatus  == 'read' ? (\r\n                  <DoneAllIcon className='seen' />\r\n                ) : message.status === 'delivered' || status?.find(e => e?.msgId == message?.id)?.msgStatus == 'delivered' ? (\r\n                  <DoneAllIcon className='delivered' />\r\n                ) : message.status === 'sent' || status?.find(e => e?.msgId == message?.id)?.msgStatus == 'sent' ? (\r\n                  <DoneIcon className='sent' />\r\n                ) : (\r\n                  <ScheduleIcon className='notsent' />\r\n                )}\r\n              </>\r\n            ) : null}\r\n            <div className='messageBottom'>\r\n              {/* {format(\r\n                message?.createdAt ||\r\n                  (message?.messages &&\r\n                    new Date(message?.messages[0]?.timestamp * 1000))\r\n              )} */}\r\n              {moment(\r\n                message?.createdAt ||\r\n                  (message?.messages &&\r\n                    new Date(message?.messages[0]?.timestamp * 1000))\r\n              ).format('lll')}\r\n            </div>\r\n            <div className='fowardCont'>\r\n              <ReplyIcon\r\n                className='forward'\r\n                onClick={() => {\r\n                  setForward({\r\n                    type:\r\n                      message?.type ||\r\n                      (message?.messages && message?.messages[0]?.type),\r\n                    data:\r\n                      message?.data ||\r\n                      message.text ||\r\n                      (message?.messages &&\r\n                        message?.messages[0]?.[message?.messages[0]?.type]),\r\n                  });\r\n                  setVisible(true);\r\n                }}\r\n              />\r\n              <ReplyAllIcon\r\n                className='forward'\r\n                onClick={() => setShowSelector(true)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Message;\r\n","let api = localStorage.getItem(\"api\");\r\nconst BASE_API_URL = api;\r\n\r\nexport const getCustomersUrl = BASE_API_URL + '/api/conversations/getContacts/search';","import React, { useState, useRef, useEffect } from 'react';\r\nimport './forwardMsg.css';\r\nimport axios from 'axios';\r\nimport { msgUrl, sendMsgUrl, sendFileUrl } from '../../serviceUrls/Message-Services';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\n\r\nconst ForwardMsg = ({\r\n  apiKey,\r\n  // conversations,\r\n  visible,\r\n  setVisible,\r\n  forward,\r\n  setForwarded,\r\n  forwarded,\r\n  mulForward,\r\n  setMulForward,\r\n  setForwardMsg,\r\n  getCustomersUrl,\r\n  // contactPage,\r\n  // handleContactList,\r\n  // contactListLoading,\r\n \r\n}) => {\r\n  const [check, setCheck] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [color, setColor] = useState(false);\r\n  const [removedNum, setRemovedNum] = useState();\r\n  const [conversationsForward,setConversationsForward]=useState()\r\n  const [convCount,setConvCount] =useState()\r\n  const [contactListLoading,setContactListLoading] =useState(false)\r\n  const [contactPage,setContactPage] =useState(1)\r\n\r\n  const show = useRef();\r\n  // console.log(conversations);\r\n\r\n  useEffect(() => {\r\n    let agent = localStorage.getItem('agent');\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.status);\r\n        // const filteredData = res?.data?.filter((i) => i.agent == agent);\r\n        // let pinnedChat = res?.data?.filter((el) => el.pinContact === true);\r\n        // let unPinnedChat = res?.data\r\n        //   ?.filter((el) => el.pinContact === false)\r\n        //   ?.sort((a, b) => {\r\n        //     return b.timestamp - a.timestamp;\r\n        //   });\r\n        setConversationsForward(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, []);\r\n \r\n  const closeModal = () => {\r\n    // show.current.style.display = 'none'\r\n    setVisible(false);\r\n    setMulForward([]);\r\n  };\r\n\r\n  console.log(forward)\r\n\r\n  const handleCheck = (val) => {\r\n    if(check.find(element => element == val)) {\r\n      let index = check.indexOf(val);\r\n      let removedNo = check.splice(index, 1);\r\n      console.log(check)\r\n      setCheck(check);\r\n      console.log(removedNo)\r\n      setRemovedNum(removedNo[0])\r\n      setColor(false);\r\n    }\r\n    else {\r\n      setCheck([...check, val]);\r\n      setColor(true);\r\n    }\r\n  };\r\n  console.log(check);\r\n\r\n  const handleSend = async (user) => {\r\n    setLoading(true);\r\n    if(mulForward.length > 0) {\r\n    for(let k = 0; k < mulForward.length; k++) {\r\n      for (let i = 0; i < check.length; i++) {\r\n        if(mulForward[k].type === 'text') {\r\n        const payload = {\r\n          recipient_type: 'individual',\r\n          to: check[i],\r\n          conversationId: '',\r\n          name: '',\r\n          from: '',\r\n          wa_id: check[i],\r\n          text: {\r\n            body: mulForward[k].data.body\r\n          },\r\n          type: mulForward[k].type,\r\n          data: '',\r\n          isOwner: true,\r\n        };\r\n        try {\r\n          const res = await axios.post(\r\n            sendMsgUrl,\r\n            payload,\r\n            {\r\n              headers: '',\r\n            }\r\n          );\r\n          closeModal();\r\n          setForwarded(!forwarded);\r\n          setMulForward([]);\r\n          //   setMessages([...messages, res.data.message]);\r\n          //   console.log(res);\r\n          //   setUserId(currentChat?.wAid);\r\n          //   setMessageId(res.data.message.whatsappMessageId);\r\n          //   setNewMessage('');\r\n          setForwardMsg('Message forwarded!');\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setForwardMsg('Something went wrong!');\r\n          setMulForward([]);\r\n          console.log(err);\r\n        }\r\n      }\r\n      else {\r\n        const payload = {\r\n          recipient_type: 'individual',\r\n          to: check[i],\r\n          type: mulForward[k].type,\r\n          data: {\r\n            id: mulForward[k]?.data?.id,\r\n            // caption: forward.data.caption,\r\n            filename: mulForward[k]?.data?.filename && mulForward[k]?.data?.filename\r\n          },\r\n          name: '',\r\n          from: '',\r\n          wa_id: check[i],\r\n          timestamp: '',\r\n          operatorName: '',\r\n          isOwner: true,\r\n          status: '',\r\n          ticketId: '',\r\n          eventType: '',\r\n        };\r\n        try {\r\n          const res = await axios.post(\r\n            sendFileUrl,\r\n            payload,\r\n            {\r\n              headers: {\r\n                'D360-API-KEY': apiKey || localStorage.getItem(\"api_key\"),\r\n              },\r\n            }\r\n          );\r\n          closeModal();\r\n          setForwarded(!forwarded);\r\n          setMulForward([]);\r\n          //   setMessages([...messages, res.data.message]);\r\n          //   console.log(res);\r\n          //   setUserId(currentChat?.wAid);\r\n          //   setMessageId(res.data.message.whatsappMessageId);\r\n          //   setNewMessage('');\r\n          setForwardMsg('Message forwarded!');\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setForwardMsg('Something went wrong!');\r\n          console.log(err);\r\n        }\r\n      }\r\n      }\r\n    }\r\n  }\r\n    else {\r\n    for (let i = 0; i < check.length; i++) {\r\n      if(forward.type === 'text') {\r\n      const payload = {\r\n        recipient_type: 'individual',\r\n        to: check[i],\r\n        conversationId: '',\r\n        name: '',\r\n        from: '',\r\n        wa_id: check[i],\r\n        text: {\r\n          body: forward.data.body\r\n        },\r\n        type: forward.type,\r\n        data: '',\r\n        isOwner: true,\r\n      };\r\n      try {\r\n        const res = await axios.post(\r\n          sendMsgUrl,\r\n          payload,\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        closeModal();\r\n        setForwarded(!forwarded);\r\n        setMulForward([]);\r\n        setForwardMsg('Message forwarded!');\r\n        setTimeout(() => {\r\n          setForwardMsg(null);\r\n        }, 1000);\r\n        //   setMessages([...messages, res.data.message]);\r\n        //   console.log(res);\r\n        //   setUserId(currentChat?.wAid);\r\n        //   setMessageId(res.data.message.whatsappMessageId);\r\n        //   setNewMessage('');\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setForwardMsg('Something went wrong!');\r\n        console.log(err);\r\n      }\r\n    }\r\n    else {\r\n      const payload = {\r\n        recipient_type: 'individual',\r\n        to: check[i],\r\n        type: forward.type,\r\n        data: {\r\n          id: forward.data.id,\r\n          caption: forward.data.caption,\r\n          filename: forward?.data?.filename && forward?.data?.filename\r\n        },\r\n        name: '',\r\n        from: '',\r\n        wa_id: check[i],\r\n        timestamp: '',\r\n        operatorName: '',\r\n        isOwner: true,\r\n        status: '',\r\n        ticketId: '',\r\n        eventType: '',\r\n      };\r\n      try {\r\n        const res = await axios.post(\r\n          sendFileUrl,\r\n          payload,\r\n          {\r\n            headers: {\r\n              'D360-API-KEY': apiKey || localStorage.getItem(\"api_key\"),\r\n            },\r\n          }\r\n        );\r\n        closeModal();\r\n        setForwarded(!forwarded);\r\n        setMulForward([]);\r\n        //   setMessages([...messages, res.data.message]);\r\n        //   console.log(res);\r\n        //   setUserId(currentChat?.wAid);\r\n        //   setMessageId(res.data.message.whatsappMessageId);\r\n        //   setNewMessage('');\r\n        setForwardMsg('Message forwarded!');\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setForwardMsg('Something went wrong!');\r\n        console.log(err);\r\n      }\r\n    }\r\n    }\r\n  }\r\n  };\r\n  // const handleSearch = (e) => {\r\n  //   setSearch(e.target.value);\r\n  // };\r\n  // const filteredCoversation = conversationsForward?.filter((f) => {\r\n  //   return (\r\n  //     f.name.toLowerCase().indexOf(search.toLowerCase()) !== -1 ||\r\n  //     f.uid.indexOf(search.toLowerCase()) !== -1\r\n  //   );\r\n  // });\r\n  const filteredCoversation = conversationsForward;\r\n  const handleSearch = async (e) => {\r\n    let agent = localStorage.getItem('agent');\r\n    setSearch(e.target.value);\r\n    // if (e.key == 'Control') {\r\n      setContactListLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${e.target.value}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setContactListLoading(false);\r\n        setConversationsForward(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n        setContactPage(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    // }\r\n  };\r\n\r\n  const handleContactList = async (event, value) => {\r\n    let agent = localStorage.getItem('agent');\r\n    if (search) {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${search}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversationsForward(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        // setSaved(null);\r\n        // setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversationsForward(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        // setSaved(null);\r\n        // setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div id='id01' className='modal' ref={show}>\r\n        <form className='modal-content'>\r\n          <header\r\n            style={{\r\n              height: '95px',\r\n              backgroundColor: '#04787c',\r\n              position: 'absolute',\r\n              width: '436px',\r\n              borderRadius: '4px 4px 0px 0px',\r\n            }}\r\n          >\r\n            <CloseIcon\r\n              fontSize='medium'\r\n              style={{\r\n                color: '#cccc',\r\n                margin: '12px 10px -5px 10px',\r\n                cursor: 'pointer',\r\n              }}\r\n              onClick={closeModal}\r\n            />\r\n            <span\r\n              style={{\r\n                fontSize: '19px',\r\n                margin: '0px 0px 0px 10px',\r\n                fontWeight: '400',\r\n                color: '#ffff',\r\n              }}\r\n            >\r\n              Forward message to\r\n            </span>\r\n            {loading ? <CircularProgress\r\n              style={{\r\n                color: '#ffff',\r\n                margin: '0px 0px -5px 169px',\r\n                height: '28px',\r\n                width: '28px'\r\n              }}\r\n            /> : check.length > 0 ? <SendIcon\r\n              style={{\r\n                color: `#ffff`,\r\n                margin: '0px 0px -5px 170px',\r\n                cursor: 'pointer',\r\n              }}\r\n              onClick={handleSend}\r\n            /> :\r\n            <SendIcon\r\n              style={{\r\n                color: '#cccc',\r\n                margin: '0px 0px -5px 170px',\r\n                cursor: 'default',\r\n              }}\r\n            />\r\n            }\r\n            <input\r\n              placeholder='Search for users'\r\n              className='searchConversation'\r\n              onChange={(e) => handleSearch(e)}\r\n            />\r\n          </header>\r\n\r\n          {contactListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) :<div className='container'>\r\n            {filteredCoversation &&\r\n              filteredCoversation?.map((i) => (\r\n                <div\r\n                  className={check.find(element => element == i.wa_id) ? 'selected_card' : removedNum == i.wa_id ? 'card' : 'card'}\r\n                  onClick={() => handleCheck(i.wa_id)}\r\n                >\r\n                  {/* <input\r\n                    type='checkbox'\r\n                    id={i.wa_id}\r\n                    name={i.wa_id}\r\n                    value={i.wa_id}\r\n                    onClick={(e) => handleCheck(e.target.value)}\r\n                  /> */}\r\n                  {check.find(element => element == i.wa_id) && <CheckCircleIcon fontSize='small' style={{color: 'rgb(11 145 102)'}} />}\r\n                  <label for={i.id} style={{ marginLeft: '10px', cursor: 'pointer' }}>\r\n                    {i.name}{' ['}{'ED'+i.uid}]\r\n                  </label>\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  margin: '8px',\r\n                }}\r\n                count={Math.ceil(convCount / 20)}\r\n                page={contactPage}\r\n                onChange={handleContactList}\r\n              />\r\n          </div>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForwardMsg;\r\n","export default __webpack_public_path__ + \"static/media/openChat2.ab01b0be.png\";","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nexport default function FormDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [reason, setReason] = React.useState();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleSend=(e)=>{\r\n      e.preventDefault()\r\n      props.setReasonVal(reason)\r\n      props.setReason(true)\r\n      // props.setReasonDialog(false)\r\n      // setOpen(false);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    props.setReason(false)\r\n    props.setReasonDialog(false)\r\n  };\r\n\r\n  React.useEffect(()=>{\r\n\r\n   if(props.reasonDialog){\r\n       setOpen(true)\r\n   }else(\r\n       setOpen(false)\r\n   )\r\n  },[props.reasonDialog])\r\n\r\n  return (\r\n    <div>\r\n      {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n        \r\n      </Button> */}\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Reason</DialogTitle>\r\n        <DialogContent>\r\n\r\n          {/* <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Reason\"\r\n            type=\"text\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n          /> */}\r\n          {/* <select onChange={(e)=>setReason(e)>\r\n            <option>You misbehaved with our agent. </option>\r\n            <option>You misbehaved with our agent. </option>\r\n          </select> */}\r\n        <TextareaAutosize\r\n        aria-label=\"minimum height\"\r\n        placeholder=\"Write the reason!\"\r\n        minRows={3}\r\n        style={{ width: 200 }}\r\n        onChange={(e)=>setReason(e)}\r\n        />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button onClick={handleSend}>Send</Button><span >{props.visibleCircularbar && <CircularProgress style={{height:\"25px\",width:\"25px\"}} /> }</span>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","let namespace = localStorage.getItem(\"namespace\");\r\nlet waid = localStorage.getItem(\"waid\");\r\nlet device = localStorage.getItem(\"device\");\r\n\r\n// Device1\r\nexport const NAME_SPACE = namespace;\r\nexport const WAID = waid;\r\nexport const DEVICE = device;\r\n\r\n// //Device2\r\n// export const NAME_SPACE_2 = 'f02c5e46_b956_4160_abf2_e8f6cf283754';\r\n// export const WAID_2 = '917091489698';\r\n\r\n\r\n// //Device3\r\n// export const NAME_SPACE_3 = '1ff427bd_e20d_4582_a530_e28f311cc595';\r\n// export const WAID_3 = '917761814102';\r\n\r\n\r\n// //Device4\r\n// export const NAME_SPACE_4 = '1ff427bd_e20d_4582_a530_e28f311cc595';\r\n// export const WAID_4 = '918777592248';\r\n\r\n\r\n// //Device5\r\n// export const NAME_SPACE_5 = 'f02c5e46_b956_4160_abf2_e8f6cf283754';\r\n// export const WAID_5 = '919065650479';\r\n\r\n\r\n// //Device6\r\n// export const NAME_SPACE_6 = 'f02c5e46_b956_4160_abf2_e8f6cf283754';\r\n// export const WAID_6 = '917070505631';\r\n\r\n\r\n// //Device7\r\n// export const NAME_SPACE_7 = '3b25ca9e_e7fe_45a1_acd2_224e4fd396d8';\r\n// export const WAID_7 = '919661126925';\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./tutorContacts.css\";\r\nimport {\r\n  msgUrl,\r\n  alertMsgUrl,\r\n  pinChatUrl,\r\n  markChatUrl,\r\n} from \"../../serviceUrls/Message-Services\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport { io } from \"socket.io-client\";\r\nimport moment from \"moment\";\r\nimport PushPinIcon from \"@mui/icons-material/PushPin\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\nimport Badge from \"@mui/material/Badge\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport Box from \"@mui/material/Box\";\r\nimport StarIcon from \"@mui/icons-material/Star\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Fab from \"@mui/material/Fab\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport ToggleOnIcon from \"@mui/icons-material/ToggleOn\";\r\nimport ToggleOffIcon from \"@mui/icons-material/ToggleOff\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport BorderColorIcon from \"@mui/icons-material/BorderColor\";\r\nimport Reason from \"../dialogs/Reason\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Tooltip, { tooltipClasses } from \"@mui/material/Tooltip\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { NAME_SPACE } from \"../../utils/variables\";\r\n// import { set } from \"mongoose\";\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n// import useSound from 'use-sound';\r\n\r\n// import notification from '../../assets/notification.mp3';\r\n\r\nconst HtmlTooltip = styled(({ className, ...props }) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: \"rgba(80, 80, 80, 0.92)\",\r\n    color: \"#ffff\",\r\n    fontWeight: \"500\",\r\n    maxWidth: 350,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid rgba(80, 80, 80, 0.92)\",\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    maxHeight: \"300px\",\r\n  },\r\n}));\r\n\r\nconst TutorContact = ({\r\n  apiUrl,\r\n  conversation,\r\n  setTutorTagUpdated,\r\n  setTutorRatingUpdated,\r\n  updated,\r\n  setUpdated,\r\n}) => {\r\n  const [msg, setMsg] = useState([]);\r\n  // const [alertText, setAlertText] = useState([]);\r\n  const [alertMessage, setAlertMessage] = useState([]);\r\n  // const [hide, setHide] = useState(false);\r\n  const [msgCount, setMsgCount] = useState();\r\n  const [value, setValue] = useState(2);\r\n  const [hover, setHover] = useState(-1);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [tagValue, setTagValue] = useState();\r\n  const [ratingVal, setRatingVal] = useState();\r\n  const [visibleCircularbar, setVisibleCircularbar] = useState(false);\r\n  const [checked, setChecked] = useState();\r\n  const [writerStatus, setWriterStatus] = useState(conversation?.writer);\r\n  const [reason, setReason] = useState(false);\r\n  const [reasonVal, setReasonVal] = useState(\"\");\r\n  const [reasonDialog, setReasonDialog] = useState(false);\r\n  const [editEmailVal,setEditEmailVal]=useState(false);\r\n  const [editPhoneVal,setEditPhoneVal]=useState(false);\r\n  const [emailVal,setEmailVal]=useState();\r\n  const [phoneVal,setPhoneVal]=useState();\r\n\r\n\r\n  const snackBarPos = {\r\n    vertical: \"top\",\r\n    horizontal: \"center\",\r\n  };\r\n  const { vertical, horizontal } = snackBarPos;\r\n\r\n  const [alertText, setAlertText] = useState(\"\");\r\n\r\n  const [openSnackBar, setOpenSnackBar] = useState(false);\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  const handleToggle = (e) => {\r\n    e.preventDefault();\r\n    setReasonDialog(true);\r\n  };\r\n\r\n  const handleChangeStatus = async (tutorId, status_) => {\r\n    // setChecked(event.target.checked);\r\n    try {\r\n      // const payload = {\r\n      //   status: status_,\r\n      // };\r\n      // await axios.put(\r\n      //   `https://annular-arena-331607.el.r.appspot.com/api/tutor/setTutorStatus/${tutorId}`,\r\n      //   payload\r\n      // );\r\n\r\n      // sending template for tutor active or inactive\r\n      if (conversation?.wa_id) {\r\n        console.log({ reasonVal: reasonVal });\r\n        const payloadActiveInactiveTutor = {\r\n          name: conversation?.name,\r\n          from: \"\",\r\n          wa_id: conversation?.wa_id,\r\n          templateName: \"tutor_inactive_active_template\",\r\n          templateText: `Hi ${conversation.name}, Your account is ${\r\n            status_ === \"active\" ? \"unblocked\" : \"blocked\"\r\n          } ${\r\n            reasonVal !== undefined && reasonVal?.target?.value?.length !== 0\r\n              ? `Reason: ${reasonVal?.target?.value}`\r\n              : \" \"\r\n          }`,\r\n          template: {\r\n            namespace: NAME_SPACE,\r\n            language: \"en\",\r\n          },\r\n          param1: status_ === \"active\" ? \"ACTIVATED\" : \"BLOCKED\",\r\n          param2: conversation.name,\r\n          param3: status_ === \"active\" ? \"activated\" : \"blocked\",\r\n          param4:\r\n            reasonVal !== undefined && reasonVal?.target?.value?.length !== 0\r\n              ? `Reason: ${reasonVal?.target?.value} `\r\n              : \" \",\r\n          button: \"\",\r\n          timestamp: \"\",\r\n          operatorName: \"\",\r\n          isOwner: true,\r\n          status: \"\",\r\n          ticketId: \"\",\r\n          eventType: \"template\",\r\n        };\r\n\r\n        await axios\r\n          .post(\r\n            `${localStorage.getItem(\r\n              \"api\"\r\n            )}/api/messages/tutorActiveInactiveTemplate`,\r\n            payloadActiveInactiveTutor,\r\n            {\r\n              headers: \"\",\r\n            }\r\n          )\r\n          .then(\r\n            async (res) => {\r\n              const payload = {\r\n                status: status_,\r\n              };\r\n              await axios.put(\r\n                `${localStorage.getItem('api')}/api/tutor/setTutorStatus/${tutorId}`,\r\n                payload\r\n              );\r\n              console.log(res);\r\n            },\r\n            (error) => {\r\n              console.log(error);\r\n            }\r\n          );\r\n      } else {\r\n        console.log(\"WhatsApp number is not valid\");\r\n        alert(\"Invalid WhatsApp Number!\");\r\n      }\r\n\r\n      setChecked(status_);\r\n      setUpdated(!updated);\r\n      setVisibleCircularbar(false);\r\n      setReason(false);\r\n      setReasonDialog(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    // let val= templateMessage.filter(el=>el.name===\"tutor_inactive_active_template\")\r\n    if (reason) {\r\n      setVisibleCircularbar(true);\r\n      let payload = {\r\n        wa_id: `+${conversation?.wa_id}`,\r\n      };\r\n\r\n      const res = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/conversations/contactValidation`,\r\n        payload\r\n      );\r\n      if (res.data.contacts[0].status === \"invalid\") {\r\n        setReasonDialog(false);\r\n        setReason(false);\r\n        setVisibleCircularbar(false);\r\n        setOpenSnackBar(true);\r\n        setAlertText(res.data.contacts[0].status + \" contact\");\r\n      } else {\r\n        console.log({ valtest: \"done\" });\r\n        if (conversation?.tutor_status === \"inactive\") {\r\n          handleChangeStatus(conversation?.tutor_id, \"active\");\r\n        } else {\r\n          handleChangeStatus(conversation?.tutor_id, \"inactive\");\r\n        }\r\n      }\r\n    }\r\n  }, [reason]);\r\n\r\n  const handleChangeWriterStatus = async (tutorId, status_) => {\r\n    // setChecked(event.target.checked);\r\n    try {\r\n      const payload = {\r\n        status: status_,\r\n      };\r\n      await axios.put(\r\n        `${localStorage.getItem('api')}/api/tutor/setTutorWriterStatus/${tutorId}`,\r\n        payload\r\n      );\r\n      setWriterStatus(status_);\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const [openTag, setOpenTag] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpenTag(true);\r\n  };\r\n\r\n  const _handleClose = () => {\r\n    setOpenTag(false);\r\n  };\r\n\r\n  const _handleAddTag = async () => {\r\n    const payload = {\r\n      tag: tagValue,\r\n    };\r\n    try {\r\n      const res = await axios.put(\r\n        `${localStorage.getItem('api')}/api/tutor/addTag/${conversation?.tutor_id}`,\r\n        payload\r\n      );\r\n      setOpenTag(false);\r\n      setTutorTagUpdated(tagValue);\r\n    } catch (err) {\r\n      console.log(err.Error);\r\n    }\r\n  };\r\n\r\n  const rateHandler = async (e) => {\r\n    if (ratingVal) {\r\n      const payload = {\r\n        rating: ratingVal,\r\n      };\r\n      try {\r\n        const res = await axios.put(\r\n          `${localStorage.getItem('api')}/api/tutor/setTutorRating/${conversation?.tutor_id}`,\r\n          payload\r\n        );\r\n        setRatingVal(\"\");\r\n        setTutorRatingUpdated(ratingVal);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // const socket = useRef();\r\n  // const alertIcon = useRef();\r\n  // const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  // const headerKey = {\r\n  //   Accept: 'application/json',\r\n  //   Authorization:\r\n  //     'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTYyMWZkZi0wYjJjLTQxYzAtOWZmMS1iZDk5NWZmYTQ2ZTUiLCJ1bmlxdWVfbmFtZSI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwibmFtZWlkIjoib2ZmaWNlQHR1dG9ycG9pbnQuaW4iLCJlbWFpbCI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwiYXV0aF90aW1lIjoiMDgvMDQvMjAyMSAwODoxMTowMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFETUlOSVNUUkFUT1IiLCJleHAiOjI1MzQwMjMwMDgwMCwiaXNzIjoiQ2xhcmVfQUkiLCJhdWQiOiJDbGFyZV9BSSJ9.lSSh1EL29ksj23Y_rTSrLhYVwhOFyddK1c6bKU-_HB4',\r\n  // };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = () => {\r\n    setShowMenu(!showMenu);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  console.log(msg);\r\n\r\n  // useEffect(() => {\r\n  //   const friendId = conversation.id;\r\n\r\n  //   const getUser = async () => {\r\n  //     try {\r\n  //       const res = await axios(getCustomersUrl + `/${friendId}`, {headers: {...headerKey}});\r\n  //       setUser(res.data);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getUser();\r\n  // }, [conversation]);\r\n\r\n  // useEffect(() => {\r\n  //   socket.current = io('ws://localhost:8900');\r\n  //   socket.current.on('getAlert', (msg) => {\r\n  //     // storeFiles(msg); //store incoming files data to excel\r\n  //     setAlertMsg([msg]);\r\n  //   });\r\n  // }, []);\r\n\r\n  // const [play] = useSound(notification);\r\n\r\n  // useEffect(() => {\r\n  //   const getMessages = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         msgUrl + `/${conversation?.wa_id}?page=0&limit=20`,\r\n  //         {\r\n  //           headers: { ...headerKey },\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getMessages();\r\n  // }, [newNotification, alertMsg]);\r\n\r\n  // console.log(arrivalMessage.length);\r\n\r\n  // // useEffect(() => {\r\n  // //   play();\r\n  // // }, [arrivalMessage?.length])\r\n\r\n  // useEffect(() => {\r\n  //   const getAlert = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(alertMsgUrl + `/${conversation?.wa_id}`, {\r\n  //         headers: {},\r\n  //       });\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //       setMsgCount(() => res?.data?.filter((i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id).length);\r\n  //       setHide(false);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getAlert();\r\n  // }, [alertMsg, newNotification]);\r\n\r\n  // console.log(alertMessage);\r\n\r\n  // useEffect(() => {\r\n  //   setMsgCount(\r\n  //     () =>\r\n  //       alertMessage?.filter(\r\n  //         (i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id\r\n  //       ).length\r\n  //   );\r\n  // }, [alertMessage, alertMsg, newNotification]);\r\n\r\n  const shortText = (text) => {\r\n    if (text.length > 6) {\r\n      return `${text.slice(0, 6)}..`;\r\n    } else if (text.length <= 6) {\r\n      return text;\r\n    }\r\n  };\r\n\r\n  // const handleEmailChange=async(e,tutorId)=>{\r\n  //   e.preventDefault()\r\n\r\n  //   try {\r\n  //     const response = await axios.put(\r\n  //       // `${localStorage.getItem(\"api\")}/api/sessions/assignedTutorUpdateAmount`,\r\n  //       `http://localhost:8800/api/tutor/updateTutorEmail/${tutorId}`,{email:emailVal}\r\n  //     );\r\n  //     if(response?.data?.success==true){\r\n  //     setEditEmailVal(false);\r\n  //     setUpdated(!updated);\r\n  //     }else{\r\n  //       console.log(\"Email didn't updated!\")\r\n  //     }\r\n  //   } catch (err) {\r\n  //     console.log({err});\r\n      \r\n  //   }\r\n\r\n  // }\r\n\r\n  // const handlePhoneChange=async(e,tutorId)=>{\r\n  //   e.preventDefault()\r\n\r\n  //   try {\r\n  //     const response = await axios.put(\r\n  //       // `${localStorage.getItem(\"api\")}/api/sessions/assignedTutorUpdateAmount`,\r\n  //       `http://localhost:8800/api/tutor/updateTutorWaId/${tutorId}`,{wa_id:phoneVal}\r\n  //     );\r\n  //    if(response?.data?.success==true){\r\n  //     setEditPhoneVal(false);\r\n  //     setUpdated(!updated);\r\n  //    }else{\r\n  //      console.log(\"WhatsApp number didn't updated!\")\r\n  //    }\r\n  //   } catch (err) {\r\n  //     console.log({err});\r\n  //   }\r\n\r\n  // }\r\n\r\n  // const handleEditEmail=(e,curEmailVal)=>{\r\n  //     e.preventDefault()\r\n  //     setEditEmailVal(!editEmailVal)\r\n  //     setEmailVal(curEmailVal)\r\n\r\n  // }\r\n\r\n  // const handleEditPhone=(e,curPhoneVal)=>{\r\n  //   e.preventDefault()\r\n  //   setEditPhoneVal(!editPhoneVal)\r\n  //   setPhoneVal(curPhoneVal)\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={showMenu ? \"tutorlist highlighted\" : \"tutorlist\"}\r\n        // onClick={() => {\r\n        //   updateAlert(conversation?.wa_id);\r\n        // }}\r\n      >\r\n        <div className=\"userTab\">\r\n          <Avatar className=\"conversationImg\">\r\n            {conversation?.name?.slice(0, 2)}\r\n          </Avatar>\r\n          <div style={{ paddingBottom: \"5px\" }}>\r\n            <div className=\"conversationName\">\r\n              {`${conversation?.name}`}{\" \"}\r\n              {conversation?.writer && (\r\n                <span>\r\n                  <BorderColorIcon\r\n                    fontSize=\"small\"\r\n                    style={{ fontSize: \"14px\" }}\r\n                  />\r\n                </span>\r\n              )}\r\n              <span\r\n                style={{ fontSize: \"12px\", color: \"green\", marginLeft: \"5px\" }}\r\n              >\r\n                {conversation?.highlights &&\r\n                  conversation?.highlights.map((i) => (\r\n                    <span>\r\n                      {i?.path?.slice(0, 1)}\r\n                      {\": \"}\r\n                      {i?.texts?.map((j) => (\r\n                        <span>{j.value}&nbsp;</span>\r\n                      ))}\r\n                    </span>\r\n                  ))}\r\n              </span>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"12px\",\r\n              }}\r\n            >\r\n              {conversation?.tutor_id}{\" \"}\r\n              <span\r\n                style={{\r\n                  color: \"green\",\r\n                  fontWeight: \"800\",\r\n                  marginLeft: \"5px\",\r\n                  fontSize: \"13px\",\r\n                  cursor: 'pointer',\r\n                }}\r\n              >\r\n                 <HtmlTooltip\r\n                    placement=\"top\"\r\n                    title={\r\n                      <>\r\n                        <span style={{ marginBottom: \"10px\" }}>\r\n                          Sessions Done:\r\n                        </span>\r\n                        {conversation?.sessions_done?.map((el) => (\r\n                            <Typography\r\n                              color=\"inherit\"\r\n                              style={{\r\n                                fontSize: \"13.5px\",\r\n                                fontWeight: \"600\",\r\n                                marginTop: \"5px\",\r\n                              }}\r\n                            >\r\n                              &#8226;{\" \"}\r\n                              <span\r\n                                style={{\r\n                                  fontSize: \"12px\",\r\n                                  fontWeight: \"normal\",\r\n                                }}\r\n                              >\r\n                                {el}\r\n                              </span>\r\n                            </Typography>\r\n                          ))}\r\n                      </>\r\n                    }\r\n                  >\r\n                    <span>{conversation?.sessions_done &&\r\n                    '[' +\r\n                      conversation?.sessions_done?.filter((c, index, arr) => {\r\n                        return arr.indexOf(c) === index;\r\n                      }).length +\r\n                      ']'}\r\n                    </span>\r\n                  </HtmlTooltip>\r\n              </span>\r\n              <Box\r\n                sx={{\r\n                  width: 200,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"flex-end\",\r\n                }}\r\n              >\r\n                <Rating\r\n                  name=\"read-only\"\r\n                  size=\"small\"\r\n                  value={conversation?.rating / 2}\r\n                  precision={0.1}\r\n                  emptyIcon={\r\n                    <StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />\r\n                  }\r\n                  readOnly\r\n                />\r\n                &nbsp;\r\n                <span style={{ fontSize: \"13px\", fontWeight: \"700\" }}>\r\n                  {(\"\" + conversation?.rating / 2)?.slice(0, 4)}\r\n                </span>\r\n                <span>\r\n                  <HtmlTooltip\r\n                    placement=\"top\"\r\n                    title={\r\n                      <>\r\n                        <span style={{ marginBottom: \"10px\" }}>\r\n                          Last 5 reviews\r\n                        </span>\r\n                        {conversation?.rating_and_reviews\r\n                          ?.slice(\r\n                            Math.max(\r\n                              conversation?.rating_and_reviews?.length - 5,\r\n                              0\r\n                            )\r\n                          )\r\n                          ?.map((el) => (\r\n                            <Typography\r\n                              color=\"inherit\"\r\n                              style={{\r\n                                fontSize: \"13.5px\",\r\n                                fontWeight: \"600\",\r\n                                marginTop: \"5px\",\r\n                              }}\r\n                            >\r\n                              -{\" \"}\r\n                              <span\r\n                                style={{\r\n                                  fontSize: \"12px\",\r\n                                  fontWeight: \"normal\",\r\n                                }}\r\n                              >\r\n                                {el.reviews}\r\n                              </span>\r\n                            </Typography>\r\n                          ))}\r\n                      </>\r\n                    }\r\n                  >\r\n                    <InfoIcon\r\n                      fontSize=\"small\"\r\n                      style={{ fontSize: \"16px\", cursor: \"pointer\" }}\r\n                    />\r\n                  </HtmlTooltip>\r\n                </span>\r\n              </Box>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: \"10%\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignSelf: \"flex-end\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              <span style={{ paddingRight: \"5px\" }}>\r\n                {showMenu ? (\r\n                  <KeyboardArrowUpIcon\r\n                    fontSize=\"medium\"\r\n                    color=\"action\"\r\n                    onClick={handleClick}\r\n                  />\r\n                ) : (\r\n                  <KeyboardArrowDownIcon\r\n                    fontSize=\"medium\"\r\n                    color=\"action\"\r\n                    onClick={handleClick}\r\n                  />\r\n                )}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showMenu && (\r\n        <div className=\"conversationDetails\">\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              margin: \"7px\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              Highest Degree: <span>{conversation?.highest_degree}</span>\r\n            </span>\r\n            {(conversation?.tutor_status === \"active\" ) ? (\r\n              <span\r\n                style={{ marginTop: \"-8px\", cursor: \"pointer\" }}\r\n                onClick={handleToggle}\r\n              >\r\n                {console.log({valTestConv:conversation?.tutor_status, checked})}\r\n                {/* <Switch\r\n                Active\r\n                checked={checked}\r\n                onChange={handleChangeStatus}\r\n                inputProps={{ 'aria-label': 'controlled' }}\r\n                size='small'\r\n              /> */}\r\n                <ToggleOnIcon fontSize=\"large\" />\r\n              </span>\r\n            ) : (conversation?.tutor_status == \"inactive\") ? (\r\n              <span\r\n                style={{ marginTop: \"-8px\", cursor: \"pointer\" }}\r\n                onClick={handleToggle}\r\n              >\r\n                <ToggleOffIcon fontSize=\"large\" color=\"disabled\" />\r\n              </span>\r\n            ) : null}\r\n            <Snackbar\r\n              open={openSnackBar}\r\n              autoHideDuration={2000}\r\n              onClose={handleCloseSnackBar}\r\n              anchorOrigin={{ vertical, horizontal }}\r\n              key={vertical + horizontal}\r\n            >\r\n              <Alert\r\n                onClose={handleCloseSnackBar}\r\n                severity=\"info\"\r\n                sx={{ width: \"100%\" }}\r\n              >\r\n                {alertText}\r\n              </Alert>\r\n            </Snackbar>\r\n          </div>\r\n          {reasonDialog && (\r\n            <Reason\r\n              setReason={setReason}\r\n              setReasonVal={setReasonVal}\r\n              setReasonDialog={setReasonDialog}\r\n              reasonDialog={reasonDialog}\r\n              visibleCircularbar={visibleCircularbar}\r\n            />\r\n          )}\r\n          <div style={{ margin: \"15px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              College:{\" \"}\r\n              <span>\r\n                {conversation?.academic_info &&\r\n                  conversation?.academic_info[0]?.college}\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: \"23px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              WhatsApp: <span>{conversation?.wa_id}</span>\r\n              {/* { !editPhoneVal ? \r\n              (<span>{conversation?.wa_id}</span>)\r\n              :   (<span>\r\n                    <input\r\n                      type=\"number\"\r\n                      style={{\r\n                        backgroundColor: \"aliceblue\",\r\n                        width: \"30%\",\r\n                        height: \"20px\",\r\n                        marginTop: \"5px\",\r\n                        outline: \"none\",\r\n                        border: \"none\",\r\n                        borderBottom: \"1px solid gray\",\r\n                        borderRadius: \"0px\",\r\n                      }}\r\n                      value={phoneVal}\r\n                      onChange={(val) => setPhoneVal(val.target.value)}\r\n                      autoFocus\r\n                    />{\" \"}\r\n                    &nbsp;\r\n                    <button\r\n                      style={{\r\n                        backgroundColor: \"#1876D1\",\r\n                        color: \"#ffff\",\r\n                        border: \"none\",\r\n                        borderRadius: \"2px\",\r\n                        height: \"25px\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      onClick={(e)=>handlePhoneChange(e,conversation?.tutor_id)}\r\n                    >\r\n                      Update\r\n                    </button>\r\n                </span>)\r\n              }\r\n              <span style={{ marginLeft: \"3px\" }}>\r\n                <EditIcon\r\n                  fontSize=\"x-small\"\r\n                  style={{ fontSize: \"15px\" }}\r\n                  onClick={(e) => handleEditPhone(e,conversation?.wa_id)}\r\n                />\r\n              </span> */}\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: \"23px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              Email: <span>{conversation?.email}</span>\r\n              {/* { !editEmailVal ? \r\n              (<span>{conversation?.email}</span>)\r\n              :   (<span>\r\n                    <input\r\n                      type=\"email\"\r\n                      style={{\r\n                        backgroundColor: \"aliceblue\",\r\n                        width: \"50%\",\r\n                        height: \"20px\",\r\n                        marginTop: \"5px\",\r\n                        outline: \"none\",\r\n                        border: \"none\",\r\n                        borderBottom: \"1px solid gray\",\r\n                        borderRadius: \"0px\",\r\n                      }}\r\n                      value={emailVal}\r\n                      onChange={(val) => setEmailVal(val.target.value)}\r\n                      autoFocus\r\n                    />{\" \"}\r\n                    &nbsp;\r\n                    <button\r\n                      style={{\r\n                        backgroundColor: \"#1876D1\",\r\n                        color: \"#ffff\",\r\n                        border: \"none\",\r\n                        borderRadius: \"2px\",\r\n                        height: \"25px\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      onClick={(e)=>handleEmailChange(e,conversation?.tutor_id)}\r\n                    >\r\n                      Update\r\n                    </button>\r\n                </span>)\r\n              }\r\n              <span style={{ marginLeft: \"3px\" }}>\r\n                <EditIcon\r\n                  fontSize=\"x-small\"\r\n                  style={{ fontSize: \"15px\" }}\r\n                  onClick={(e) => handleEditEmail(e,conversation.email)}\r\n                />\r\n              </span> */}\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: \"15px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              Subjects known:\r\n            </span>\r\n            {conversation?.subjects &&\r\n              conversation?.subjects.map((i) => (\r\n                <Chip style={{ margin: \"6px\" }} label={i} />\r\n              ))}\r\n          </div>\r\n          <div style={{ margin: \"15px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              Add tag:\r\n            </span>\r\n            {conversation?.tags &&\r\n              conversation?.tags.map((i) => (\r\n                <Chip style={{ margin: \"6px\" }} label={i} color=\"primary\" />\r\n              ))}\r\n\r\n            <Fab\r\n              style={{ height: \"36px\", width: \"36px\" }}\r\n              color=\"primary\"\r\n              aria-label=\"add\"\r\n            >\r\n              <AddIcon onClick={handleClickOpen} />\r\n              <Dialog open={openTag} onClose={_handleClose}>\r\n                <DialogContent>\r\n                  <DialogContentText>Add New Tag</DialogContentText>\r\n                  <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"name\"\r\n                    label=\"Tag Name\"\r\n                    type=\"text\"\r\n                    value={tagValue}\r\n                    onChange={(e) => setTagValue(e.target.value)}\r\n                    fullWidth\r\n                    variant=\"standard\"\r\n                  />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={_handleClose}>Cancel</Button>\r\n                  <Button onClick={_handleAddTag}>Add</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </Fab>\r\n          </div>\r\n          <div style={{ display: \"flex\", margin: \"15px 7px 7px 7px\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            >\r\n              Writer:\r\n            </span>\r\n            {conversation?.writer  ? (\r\n              <span\r\n                style={{ marginTop: \"-8px\", cursor: \"pointer\" }}\r\n                onClick={() =>\r\n                  handleChangeWriterStatus(conversation?.tutor_id, false)\r\n                }\r\n              >\r\n                <ToggleOnIcon fontSize=\"large\" color=\"primary\" />\r\n              </span>\r\n            ) : !conversation?.writer  ? (\r\n              <span\r\n                style={{ marginTop: \"-8px\", cursor: \"pointer\" }}\r\n                onClick={() =>\r\n                  handleChangeWriterStatus(conversation?.tutor_id, true)\r\n                }\r\n              >\r\n                <ToggleOffIcon fontSize=\"large\" color=\"disabled\" />\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n          {/* <div style={{ margin: '15px 7px 7px 7px' }}>\r\n            <span\r\n              style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              Rate this tutor:{' '}\r\n              <span>\r\n                <input\r\n                  type='number'\r\n                  style={{ width: '15%', marginLeft: '5px', outline: 'none' }}\r\n                  min='1'\r\n                  max='10'\r\n                  value={ratingVal}\r\n                  // onKeyDown={(evt) => evt.preventDefault()}\r\n                  onChange={(e) => setRatingVal(e.target.value)}\r\n                />{' '}\r\n                &nbsp;\r\n                <button\r\n                  style={{\r\n                    backgroundColor: '#1876D1',\r\n                    color: '#ffff',\r\n                    border: 'none',\r\n                    borderRadius: '2px',\r\n                    height: '21px',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={rateHandler}\r\n                >\r\n                  rate\r\n                </button>\r\n              </span>\r\n            </span>\r\n          </div> */}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TutorContact;\r\n","export default __webpack_public_path__ + \"static/media/cancelledPic3.16caf3da.png\";","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@mui/material/Button';\r\nimport { styled } from '@mui/material/styles';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport TextField from '@mui/material/TextField';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Typography from '@mui/material/Typography';\r\nimport Rating from '@mui/material/Rating';\r\nimport Box from '@mui/material/Box';\r\nimport StarIcon from '@mui/icons-material/Star';\r\n\r\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\r\n  '& .MuiDialogContent-root': {\r\n    padding: theme.spacing(2),\r\n  },\r\n  '& .MuiDialogActions-root': {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst BootstrapDialogTitle = (props) => {\r\n  const { children, onClose, ...other } = props;\r\n\r\n  return (\r\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\r\n      {children}\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label='close'\r\n          onClick={onClose}\r\n          sx={{\r\n            position: 'absolute',\r\n            right: 8,\r\n            top: 8,\r\n            color: (theme) => theme.palette.grey[500],\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </DialogTitle>\r\n  );\r\n};\r\n\r\nBootstrapDialogTitle.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nconst labels = {\r\n  0.5: 'Useless',\r\n  1: 'Useless+',\r\n  1.5: 'Poor',\r\n  2: 'Poor+',\r\n  2.5: 'Ok',\r\n  3: 'Ok+',\r\n  3.5: 'Good',\r\n  4: 'Good+',\r\n  4.5: 'Excellent',\r\n  5: 'Excellent+',\r\n};\r\n\r\nexport default function CustomizedDialogs({\r\n  rating_and_reviews,\r\n  tutorId,\r\n  handleAssignTutorRating,\r\n  setShowTutorRatingBox,\r\n  showTutorRatingBox,\r\n  setSendTutorRating,\r\n  setStoreTutorRating,\r\n}) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [valueRating, setValueRating] = React.useState(\r\n    +rating_and_reviews?.rating / 2\r\n  );\r\n  const [valueSpeed, setValueSpeed] = React.useState(\r\n    +rating_and_reviews?.speed / 2\r\n  );\r\n  const [valueAccuracy, setValueAccuracy] = React.useState(\r\n    +rating_and_reviews?.accuracy / 2\r\n  );\r\n  const [valueLegitimacy, setValueLegitimacy] = React.useState(\r\n    +rating_and_reviews?.legitimacy / 2\r\n  );\r\n  const [valueReview, setValueReview] = React.useState(\r\n    rating_and_reviews?.reviews\r\n  );\r\n  const [hover, setHover] = React.useState({\r\n    hoverRating: '' + +rating_and_reviews?.rating / 2,\r\n    hoverSpeed: '' + +rating_and_reviews?.speed / 2,\r\n    hoverAccuracy: '' + +rating_and_reviews?.accuracy / 2,\r\n    hoverLegitimacy: '' + +rating_and_reviews?.legitimacy / 2,\r\n    hoverReview: rating_and_reviews?.reviews,\r\n  });\r\n  //   setStoreTutorRating()\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setShowTutorRatingBox(false);\r\n  };\r\n  console.log({ rating_and_reviews });\r\n  // console.log({tutorId})\r\n  const handleSave = () => {\r\n    setStoreTutorRating({\r\n      rating: '' + +valueRating * 2,\r\n      speed: '' + +valueSpeed * 2,\r\n      accuracy: '' + +valueAccuracy * 2,\r\n      legitimacy: '' + +valueLegitimacy * 2,\r\n      reviews: valueReview,\r\n    });\r\n    // setSendTutorRating(true)\r\n    // handleAssignTutorRating(tutorId);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (showTutorRatingBox) {\r\n      setOpen(true);\r\n      // console.log({rating_and_reviews})\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  }, [showTutorRatingBox]);\r\n\r\n  return (\r\n    <div>\r\n      {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n       add a button\r\n      </Button> */}\r\n      <BootstrapDialog\r\n        onClose={handleClose}\r\n        aria-labelledby='customized-dialog-title'\r\n        open={open}\r\n      >\r\n        <BootstrapDialogTitle\r\n          id='customized-dialog-title'\r\n          onClose={handleClose}\r\n        >\r\n          &nbsp; Rating & Reviews\r\n        </BootstrapDialogTitle>\r\n        <DialogContent\r\n          dividers\r\n          style={{ textAlign: 'left', margin: '0px 25px' }}\r\n        >\r\n          <Typography gutterBottom style={{ marginBottom: '20px' }}>\r\n            <h3 style={{ marginBottom: '10px' }}>Overall rating</h3>\r\n            <Box\r\n              sx={{\r\n                width: 200,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Rating\r\n                name='hover-feedback'\r\n                value={valueRating}\r\n                style={{ fontSize: '35px' }}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                  setValueRating(newValue);\r\n                }}\r\n                onChangeActive={(event, newHover) => {\r\n                  setHover({\r\n                    ...hover,\r\n                    hoverRating: newHover,\r\n                  });\r\n                }}\r\n                emptyIcon={\r\n                  <StarIcon style={{ opacity: 0.55 }} fontSize='inherit' />\r\n                }\r\n              />\r\n              {valueRating !== null && (\r\n                <Box sx={{ ml: 2 }}>\r\n                  {\r\n                    labels[\r\n                      hover.hoverRating !== -1 ? hover.hoverRating : valueRating\r\n                    ]\r\n                  }\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Typography>\r\n          <Typography\r\n            gutterBottom\r\n            style={{\r\n              marginBottom: '30px',\r\n              borderTop: '2px solid rgb(241, 241, 241)',\r\n            }}\r\n          >\r\n            <h3 style={{ marginBottom: '-10px' }}>Rate attributes </h3>\r\n          </Typography>\r\n          <Typography gutterBottom style={{ marginBottom: '30px' }}>\r\n            <h5 style={{ marginBottom: '3px' }}>Speed </h5>\r\n            <Box\r\n              sx={{\r\n                width: 200,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Rating\r\n                name='hover-feedback'\r\n                value={valueSpeed}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                  setValueSpeed(newValue);\r\n                }}\r\n                onChangeActive={(event, newHover) => {\r\n                  setHover({\r\n                    ...hover,\r\n                    hoverSpeed: newHover,\r\n                  });\r\n                }}\r\n                emptyIcon={\r\n                  <StarIcon style={{ opacity: 0.55 }} fontSize='inherit' />\r\n                }\r\n              />\r\n              {valueSpeed !== null && (\r\n                <Box sx={{ ml: 2 }}>\r\n                  {\r\n                    labels[\r\n                      hover.hoverSpeed !== -1 ? hover.hoverSpeed : valueSpeed\r\n                    ]\r\n                  }\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Typography>\r\n          <Typography gutterBottom style={{ marginBottom: '30px' }}>\r\n            <h5 style={{ marginBottom: '3px' }}>Legitimacy</h5>\r\n            <Box\r\n              sx={{\r\n                width: 200,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Rating\r\n                name='hover-feedback'\r\n                value={valueLegitimacy}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                  setValueLegitimacy(newValue);\r\n                }}\r\n                onChangeActive={(event, newHover) => {\r\n                  setHover({\r\n                    ...hover,\r\n                    hoverLegitimacy: newHover,\r\n                  });\r\n                }}\r\n                emptyIcon={\r\n                  <StarIcon style={{ opacity: 0.55 }} fontSize='inherit' />\r\n                }\r\n              />\r\n              {valueLegitimacy !== null && (\r\n                <Box sx={{ ml: 2 }}>\r\n                  {\r\n                    labels[\r\n                      hover.hoverLegitimacy !== -1\r\n                        ? hover.hoverLegitimacy\r\n                        : valueLegitimacy\r\n                    ]\r\n                  }\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Typography>\r\n          <Typography gutterBottom style={{ marginBottom: '20px' }}>\r\n            <h5 style={{ marginBottom: '3px' }}>Accuracy</h5>\r\n            <Box\r\n              sx={{\r\n                width: 200,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Rating\r\n                name='hover-feedback'\r\n                value={valueAccuracy}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                  setValueAccuracy(newValue);\r\n                }}\r\n                onChangeActive={(event, newHover) => {\r\n                  setHover({\r\n                    ...hover,\r\n                    hoverAccuracy: newHover,\r\n                  });\r\n                }}\r\n                emptyIcon={\r\n                  <StarIcon style={{ opacity: 0.55 }} fontSize='inherit' />\r\n                }\r\n              />\r\n              {valueAccuracy !== null && (\r\n                <Box sx={{ ml: 2 }}>\r\n                  {\r\n                    labels[\r\n                      hover.hoverAccuracy !== -1\r\n                        ? hover.hoverAccuracy\r\n                        : valueAccuracy\r\n                    ]\r\n                  }\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Typography>\r\n          <Typography\r\n            gutterBottom\r\n            style={{ borderTop: '2px solid rgb(241, 241, 241)', marginBottom: '20px' }}\r\n          >\r\n            <h3 style={{ marginBottom: '10px' }}>Review</h3>\r\n            <TextField\r\n              placeholder='write your reviews!'\r\n              multiline\r\n              onChange={(e) => setValueReview(e.target.value)}\r\n              value={valueReview}\r\n              rows={2}\r\n              maxRows={4}\r\n              style={{ width: '30rem' }}\r\n            />\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions style={{padding: '13px 24px'}}>\r\n          <Button variant='contained' onClick={handleSave}>\r\n            Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </BootstrapDialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport TabContext from \"@mui/lab/TabContext\";\r\nimport TabList from \"@mui/lab/TabList\";\r\nimport moment from 'moment';\r\nimport TabPanel from \"@mui/lab/TabPanel\";\r\nimport AssignmentTurnedInOutlinedIcon from \"@mui/icons-material/AssignmentTurnedInOutlined\";\r\nimport AssignmentTurnedInIcon from \"@mui/icons-material/AssignmentTurnedIn\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport StarPurple500SharpIcon from \"@mui/icons-material/StarPurple500Sharp\";\r\nimport Button from \"@mui/material/Button\";\r\nimport axios from \"axios\";\r\n\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nimport Radio from \"@mui/material/Radio\";\r\nimport RadioGroup from \"@mui/material/RadioGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport NativeSelect from \"@mui/material/NativeSelect\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport RecommendIcon from \"@mui/icons-material/Recommend\";\r\nimport DoNotDisturbIcon from \"@mui/icons-material/DoNotDisturb\";\r\nimport CancelIcon from \"@mui/icons-material/Cancel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Tooltip, { tooltipClasses } from \"@mui/material/Tooltip\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport WhatsappOutlinedIcon from \"@mui/icons-material/WhatsappOutlined\";\r\nimport MarkEmailReadOutlinedIcon from \"@mui/icons-material/MarkEmailReadOutlined\";\r\nimport cancelPic1 from \"../../assets/cancelledPic3.png\";\r\nimport TutorRatingAndReviews from \"../dialogs/TutorRating&Reviews\";\r\nimport RefreshIcon from '@mui/icons-material/Refresh';\r\nimport { NAME_SPACE, WAID } from \"../../utils/variables\";\r\n\r\nconst HtmlTooltip = styled(({ className, ...props }) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: \"rgba(80, 80, 80, 0.92)\",\r\n    color: \"#ffff\",\r\n    fontWeight: \"500\",\r\n    maxWidth: 350,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid rgba(80, 80, 80, 0.92)\",\r\n  },\r\n}));\r\n\r\nconst NotifiedTutors = ({\r\n  notified_tutors,\r\n  assigned_tutors,\r\n  tutor_interested,\r\n  tutor_dealt_amount,\r\n  sessionId,\r\n  setAssignedTutor,\r\n  tutorPayout,\r\n  subject,\r\n  deadline,\r\n  duration,\r\n  updated,\r\n  setUpdated,\r\n  sessionType,\r\n}) => {\r\n  const [value, setValue] = useState(\"1\");\r\n  const [openPayment, setOpenPayment] = useState(false);\r\n  const [tutorAmt, setTutorAmt] = useState();\r\n  let [tutorName, setTutorName] = useState();\r\n  let [accNo, setAccNo] = useState();\r\n  let [ifsc, setIfsc] = useState();\r\n  let [upiId, setUpiId] = useState();\r\n  const [tutorData, setTutorData] = useState();\r\n  const [payOption, setPayOption] = useState();\r\n  const [payMode, setPayMode] = useState(\"IMPS\");\r\n  const [paymentLoading, setPaymentLoading] = useState(false);\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const [rpayPout, setRpayPout] = useState();\r\n  const [assgnTutorRating, setAssgnTutorRating] = useState(0);\r\n  const [disableRateBtn, setDisableRateBtn] = useState(false);\r\n  const [checked, setChecked] = useState(false);\r\n  let deviceNo = localStorage.getItem(\"device\");\r\n  const [tutorDuration, setTutorDuration] = useState(\"\");\r\n  const [showTutorRatingBox, setShowTutorRatingBox] = useState(false);\r\n  const [storeTutorRating, setStoreTutorRating] = useState();\r\n  const [assgnTutorId, setAssgnTutorId] = useState();\r\n  const [editTutorAmt, setEditTutorAmt] = useState(false);\r\n  const [tutorDealtAmount, setTutorDealtAmount] = useState();\r\n  const [tutorDetails, setTutorDetails] = useState();\r\n\r\n  console.log(tutorPayout);\r\n\r\n  const editTutorAmtFunc=(e,tutorId,ind)=>{\r\n    e.preventDefault()\r\n    console.log({tutorId,ind})\r\n    setAssgnTutorId(tutorId)\r\n    setEditTutorAmt(true)\r\n    assigned_tutors.map(el=>{\r\n      if(el.tutor_id===tutorId){\r\n      setTutorDealtAmount((+el.tutor_dealt_amount/100)+\"\")\r\n    }\r\n  })\r\n  \r\n  };\r\n\r\n// set tutor dealt amount\r\n  const tutorAmtHandler = async (tutorId) => {\r\n    // setDisableUpdateTutor(true);\r\n    const payload = {\r\n      session_id: sessionId,\r\n      tutor_id:tutorId,\r\n      tutor_dealt_amount: tutorDealtAmount * 100,\r\n    };\r\n    try {\r\n      const response = await axios.put(\r\n        `${localStorage.getItem(\"api\")}/api/sessions/assignedTutorUpdateAmount`,\r\n        payload\r\n      );\r\n     \r\n      setEditTutorAmt(false);\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log({err});\r\n      \r\n    }\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleChangePayMode = (event) => {\r\n    setPayMode(event.target.value);\r\n    console.log(event.target.value);\r\n  };\r\n\r\n  // handleTutorRating\r\n  const handleTutorRating = async (ratingAndReview, _id) => {\r\n    // e.preventDefault()\r\n    await getTutorDetails(_id);\r\n    tutorDetails?.rating_and_reviews &&\r\n    tutorDetails?.rating_and_reviews.map((el) => {\r\n        if (el.sessionId === sessionId) setAssgnTutorRating(el);\r\n      });\r\n    setAssgnTutorId(_id);\r\n    setShowTutorRatingBox(true);\r\n  };\r\n\r\n  // assign tutors fro interested tutor list\r\n  const handleAssignTutor = async (tutor) => {\r\n    if (!assigned_tutors.find((el) => el.tutor_id == tutor.tutor_id)) {\r\n      let tutor_dur = {\r\n        tutor_duration: tutorDuration ? tutorDuration : duration,\r\n      };\r\n      // const payload = {\r\n      //   session_id: sessionId,\r\n      //   assigned_tutor: {...tutor, ...tutor_dur}\r\n      // };\r\n      let payloadTutor = {\r\n        tutorId: tutor.tutor_id,\r\n        sessions_assigned: {\r\n          session_id: sessionId,\r\n          deadline: deadline,\r\n          duration: duration,\r\n          type: sessionType,\r\n        },\r\n      };\r\n      try {\r\n        // const response = await axios.post(\r\n        //   `${localStorage.getItem('api')}/api/sessions/asignTutor`,\r\n        //   payload,\r\n        //   {\r\n        //     headers: {\r\n        //       'Content-Type': 'application/json',\r\n        //     },\r\n        //   }\r\n        //);\r\n        // tutor notification\r\n        if (tutor.wa_id && tutor.email) {\r\n          // mail and whatsapp\r\n          const payload = {\r\n            session_id: sessionId,\r\n            assigned_tutor: { ...tutor, ...tutor_dur, medium: \"wa-mail\" },\r\n          };\r\n          const response = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/sessions/asignTutor`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          await handleSendTemplateToAssignTutor(\r\n            tutor.wa_id,\r\n            tutor.name,\r\n            tutor.tutor_id\r\n          );\r\n          await handleSendMailToAssignTutor(\r\n            tutor.email,\r\n            tutor.name,\r\n            tutor.tutor_id\r\n          );\r\n          await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/tutor/setTutorAssignedSession`,\r\n            payloadTutor,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          setAssignedTutor(response?.data?.result?.assigned_tutors.length);\r\n        } else if (tutor.wa_id && !tutor.email) {\r\n          // only whatsapp\r\n          const payload = {\r\n            session_id: sessionId,\r\n            assigned_tutor: { ...tutor, ...tutor_dur, medium: \"wa\" },\r\n          };\r\n          const response = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/sessions/asignTutor`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          await handleSendTemplateToAssignTutor(\r\n            tutor.wa_id,\r\n            tutor.name,\r\n            tutor.tutor_id\r\n          );\r\n          await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/tutor/setTutorAssignedSession`,\r\n            payloadTutor,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          setAssignedTutor(response?.data?.result?.assigned_tutors.length);\r\n        } else if (!tutor.wa_id && tutor.email) {\r\n          //only email\r\n          const payload = {\r\n            session_id: sessionId,\r\n            assigned_tutor: { ...tutor, ...tutor_dur, medium: \"mail\" },\r\n          };\r\n          const response = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/sessions/asignTutor`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          await handleSendMailToAssignTutor(\r\n            tutor.email,\r\n            tutor.name,\r\n            tutor.tutor_id\r\n          );\r\n          await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/tutor/setTutorAssignedSession`,\r\n            payloadTutor,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            }\r\n          );\r\n          setAssignedTutor(response?.data?.result?.assigned_tutors.length);\r\n        }\r\n\r\n        // await axios.post('http://localhost:8600/api/tutor/setTutorAssignedSession',\r\n        //   payloadTutor,\r\n        //   {\r\n        //     headers: {\r\n        //       'Content-Type': 'application/json'\r\n        //     }\r\n        //   }\r\n        // );\r\n        // setAssignedTutor(response?.data?.result?.assigned_tutors.length);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  // cancel assigned tutor\r\n  const handleCancelAssignedTutor = async (tutorName, tutorWaId, tutorId) => {\r\n    // setChecked(event.target.checked);\r\n    try {\r\n      // const payload = {\r\n      //   status: \"cancelled\",\r\n      // };\r\n      // await axios.put(\r\n      //   `${localStorage.getItem('api')}/api/sessions/cancel-tutor/${sessionId}/${tutorId}`,\r\n      //   payload\r\n      // );\r\n      // sending template for tutor active or inactive\r\n      // if(conversation?.wa_id){\r\n      const payloadCancelAssignedTutor = {\r\n        name: tutorName,\r\n        from: \"\",\r\n        wa_id: tutorWaId,\r\n        templateName: \"cancelassigned_tutors\",\r\n        templateText: `Hi ${tutorName}, You are cancelled for the ${\r\n          sessionType === \"Live Session\" ? \"Live session\" : \"General session\"\r\n        } with session id ${sessionId} `,\r\n        template: {\r\n          namespace: NAME_SPACE,\r\n          language: \"en\",\r\n        },\r\n        param1: `${\r\n          sessionType === \"Live Session\" ? \"LIVE SESSION\" : \"GENERAL SESSION\"\r\n        } UNASSIGNED`,\r\n        param2: tutorName,\r\n        param3:\r\n          sessionType === \"Live Session\" ? \"Live session\" : \"General session\",\r\n        param4: sessionId,\r\n        button: \"\",\r\n        timestamp: \"\",\r\n        operatorName: \"\",\r\n        isOwner: true,\r\n        status: \"\",\r\n        ticketId: \"\",\r\n        eventType: \"template\",\r\n      };\r\n\r\n      await axios\r\n        .post(\r\n          `${localStorage.getItem(\r\n            \"api\"\r\n          )}/api/messages/tutorActiveInactiveTemplate`,\r\n          payloadCancelAssignedTutor,\r\n          {\r\n            headers: \"\",\r\n          }\r\n        )\r\n        .then(\r\n          async (res) => {\r\n            const payload = {\r\n              status: \"cancelled\",\r\n            };\r\n            await axios.put(\r\n              `${localStorage.getItem(\r\n                \"api\"\r\n              )}/api/sessions/cancel-tutor/${sessionId}/${tutorId}`,\r\n              payload\r\n            );\r\n            console.log(res);\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n          }\r\n        );\r\n\r\n      // setChecked(status_);\r\n      // setUpdated(!updated);\r\n      // setCancelAssigned(true)\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenTutorPayment = async(index, tutor) => {\r\n    console.log(index);\r\n    // if(assigned_tutors[index].tutor_id == tutorId)\r\n    setTutorName(assigned_tutors[index]?.name);\r\n\r\n    try {\r\n      const tutorDet = await axios.get(`${localStorage.getItem('api')}/api/tutor/getTutorDetail/${assigned_tutors[index]?.tutor_id}`);\r\n      setAccNo(tutorDet?.data?.Bank?.acc_no);\r\n      setIfsc(tutorDet?.data?.Bank?.ifsc_code);\r\n      setUpiId(tutorDet?.data?.Bank?.upi_id);\r\n      setTutorData(tutorDet?.data);\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n    setOpenPayment(true);\r\n  };\r\n\r\n  const handleCloseTutorPayment = () => {\r\n    setOpenPayment(false);\r\n    setTutorData(null);\r\n    setPayOption(null);\r\n  };\r\n\r\n  const handleChangeTutorAmt = (event) => {\r\n    console.log(event.target.value);\r\n    setTutorAmt(event.target.value);\r\n  };\r\n\r\n  const handlePayMode = (event) => {\r\n    setPayOption(event.target.value);\r\n  };\r\n\r\n  useEffect(async () => {\r\n    if (\r\n      tutorPayout?.payload?.payout?.entity?.id == rpayPout &&\r\n      tutorPayout?.payload?.payout?.entity?.status == \"processed\"\r\n    ) {\r\n      // tutor payment status update\r\n      const statusPayload = tutorPayout?.payload?.payout?.entity;\r\n      const statusUpdate = await axios.put(\r\n        `${localStorage.getItem(\r\n          'api'\r\n        )}/api/sessions/update-tutor-payment-status/${sessionId}/${tutorData.wa_id}/${rpayPout}`,\r\n        statusPayload\r\n      );\r\n      setPaymentSuccess(true);\r\n\r\n      //sent template for payment confirmation\r\n      const payload = {\r\n        name: tutorData.name,\r\n        from: \"\",\r\n        wa_id: tutorData.wa_id,\r\n        templateName: \"paytutor_send_notify\",\r\n        templateText:\r\n          \"Hi *{{1}}*. This is Tutorpoint. An amount of *Rs {{2}}* has been sent to your bank account registered with us. Following are the details :   \\n\\n1. Session ID : *{{3}}*\\n2. Tutor ID : *{{4}}*\\n2. Session Subject and Topic : *{{5}}*\\n3. Date and Time : *{{6}}*\\n4. UTR No. : *{{7}}*\\n5. TDS Deducted : *{{8}}*\",\r\n        template: {\r\n          namespace: NAME_SPACE,\r\n          language: \"en\",\r\n        },\r\n        param1: `Payout Received (Your rating for this session ${\r\n          tutorData?.session_rating && tutorData?.session_rating.slice(0, 4)\r\n        })`,\r\n        param2: tutorData.name,\r\n        param3: `${\r\n          // tutorData?.pan ? tutorAmt - tutorAmt * 0.1 : tutorAmt - tutorAmt * 0.2\r\n          tutorPayout?.payload?.payout?.entity?.amount / 100\r\n        } INR`,\r\n        param4: sessionId,\r\n        param5: `${tutorData?.tutor_id} (Profile rating: ${\r\n          tutorData?.session_rating && tutorData?.rating\r\n            ? (\r\n                \"\" +\r\n                (+tutorData?.rating + +tutorData?.session_rating) / 4\r\n              )?.slice(0, 4)\r\n            : tutorData?.session_rating && !tutorData?.rating\r\n            ? (\"\" + tutorData?.session_rating / 2)?.slice(0, 4)\r\n            : \"0\"\r\n        })`,\r\n        param6: subject,\r\n        param7: new Date(deadline).toLocaleString(),\r\n        param8: tutorPayout?.payload?.payout?.entity?.utr,\r\n        param9:\r\n          !checked && tutorData?.pan\r\n            ? (tutorAmt * 0.1).toString()\r\n            : !checked && !tutorData?.pan\r\n            ? (tutorAmt * 0.2).toString()\r\n            : (tutorAmt * 0).toString(),\r\n        button: \"\",\r\n        timestamp: \"\",\r\n        operatorName: \"\",\r\n        isOwner: true,\r\n        status: \"\",\r\n        ticketId: \"\",\r\n        eventType: \"template\",\r\n      };\r\n      const paymentAlert = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/messages/tutorPaymentTemplate`,\r\n        payload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n    } else if (\r\n      tutorPayout?.payload?.payout?.entity?.id == rpayPout &&\r\n      tutorPayout?.payload?.payout?.entity?.status == \"reversed\"\r\n    ) {\r\n      // setPaymentLoading(false);\r\n      const statusPayload_ = tutorPayout?.payload?.payout?.entity;\r\n      const statusUpdate = await axios.put(\r\n        `${localStorage.getItem(\r\n          \"api\"\r\n        )}/api/sessions/update-tutor-payment-status/${sessionId}/${\r\n          tutorData.wa_id\r\n        }/${rpayPout}`,\r\n        statusPayload_\r\n      );\r\n      setPaymentSuccess(true);\r\n    } else if (\r\n      tutorPayout?.payload?.payout?.entity?.id == rpayPout &&\r\n      tutorPayout?.payload?.payout?.entity?.status == 'cancelled'\r\n    ) {\r\n      // setPaymentLoading(false);\r\n      const statusPayload_ = tutorPayout?.payload?.payout?.entity;\r\n      const statusUpdate = await axios.put(\r\n        `${localStorage.getItem(\r\n          'api'\r\n        )}/api/sessions/update-tutor-payment-status/${sessionId}/${\r\n          tutorData.wa_id\r\n        }/${rpayPout}`,\r\n        statusPayload_\r\n      );\r\n      setPaymentSuccess(true);\r\n    }\r\n  }, [tutorPayout]);\r\n\r\n  const payHeaders = {\r\n    username: \"rzp_live_Jk4vwq7tyL9Aeg\",\r\n    password: \"qUjOJWotN6x47WSDExJ4NURs\",\r\n  };\r\n\r\n  const payTutor = async () => {\r\n    if (payOption == \"upi\") {\r\n      setPaymentLoading(true);\r\n      const payload = {\r\n        name: tutorData.name,\r\n        email: tutorData.email,\r\n        contact: tutorData.wa_id,\r\n        type: \"vendor\",\r\n        reference_id: tutorData.tutor_id,\r\n        // notes: {\r\n        //   random_key_1: 'tutor\\'s new contact id creation',\r\n        //   random_key_2: 'vendon contact id',\r\n        // },\r\n      };\r\n      try {\r\n        if (!tutorData.contact_id) {\r\n          // create contact id\r\n          const response = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/payments/contacts`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                ...payHeaders,\r\n              },\r\n            }\r\n          );\r\n          console.log(response?.data?.result);\r\n\r\n          // create fund account - bank\r\n          if (payOption == \"bank\") {\r\n            const payloadBank = {\r\n              contact_id: response?.data?.contact_id,\r\n              account_type: \"bank_account\",\r\n              bank_account: {\r\n                name: tutorData.name,\r\n                ifsc: tutorData?.Bank?.ifsc_code,\r\n                account_number: tutorData?.Bank?.acc_no,\r\n              },\r\n            };\r\n            const response2 = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/fund_accounts_bank/${\r\n                tutorData.wa_id\r\n              }`,\r\n              payloadBank,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            // create payout\r\n            const payloadPayout_ = {\r\n              account_number: \"3434949239801329\",\r\n              fund_account_id: response2?.data?.fund_bank_id,\r\n              amount:\r\n                !checked && tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 10\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 20\r\n                  : tutorAmt * 100,\r\n              currency: \"INR\",\r\n              mode: payMode,\r\n              purpose: \"vendor bill\",\r\n              // queue_if_low_balance: true,\r\n              reference_id: response2?.data?.tutor_id,\r\n              narration: \"Tutor Fund Transfer\",\r\n              notes: {\r\n                TDS:\r\n                  !checked && tutorData.pan\r\n                    ? tutorAmt * 0.1\r\n                    : !checked && !tutorData?.pan\r\n                    ? tutorAmt * 0.2\r\n                    : tutorAmt * 0,\r\n                PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n                EMAIL: tutorData.email,\r\n                SESSION: sessionId,\r\n              },\r\n            };\r\n            const payoutRes_ = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n                tutorData.wa_id\r\n              }/${sessionId}`,\r\n              payloadPayout_,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(payoutRes_?.data);\r\n            setRpayPout(payoutRes_?.data?.rpay?.id);\r\n            // setOpenPayment(false);\r\n            console.log(response2?.data?.result);\r\n          }\r\n          // create fund account - upi\r\n          else if (payOption == \"upi\") {\r\n            const payloadUpi = {\r\n              contact_id: response?.data?.contact_id,\r\n              account_type: \"vpa\",\r\n              vpa: {\r\n                address: tutorData?.Bank?.upi_id,\r\n              },\r\n            };\r\n            const response2 = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/fund_accounts_upi/${\r\n                tutorData.wa_id\r\n              }`,\r\n              payloadUpi,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(response2?.data);\r\n\r\n            // create payout\r\n            const payloadPayout_ = {\r\n              account_number: \"3434949239801329\",\r\n              fund_account_id: response2?.data?.fund_upi_id,\r\n              amount:\r\n                !checked && tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 10\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 20\r\n                  : tutorAmt * 100,\r\n              currency: \"INR\",\r\n              mode: \"UPI\",\r\n              purpose: \"vendor bill\",\r\n              // queue_if_low_balance: true,\r\n              reference_id: response2?.data?.tutor_id,\r\n              narration: \"Tutor Fund Transfer\",\r\n              notes: {\r\n                TDS:\r\n                  !checked && tutorData.pan\r\n                    ? tutorAmt * 0.1\r\n                    : !checked && !tutorData?.pan\r\n                    ? tutorAmt * 0.2\r\n                    : tutorAmt * 0,\r\n                PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n                EMAIL: tutorData.email,\r\n                SESSION: sessionId,\r\n              },\r\n            };\r\n            const payoutRes_ = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n                tutorData.wa_id\r\n              }/${sessionId}`,\r\n              payloadPayout_,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(payoutRes_?.data);\r\n            setRpayPout(payoutRes_?.data?.rpay?.id);\r\n            // setOpenPayment(false);\r\n          }\r\n        } else if (\r\n          tutorData.contact_id &&\r\n          tutorData.fund_upi_id &&\r\n          tutorData.fund_bank_id\r\n        ) {\r\n          console.log(\"already created\");\r\n          const payloadPayout = {\r\n            account_number: \"3434949239801329\",\r\n            fund_account_id:\r\n              payOption == \"bank\"\r\n                ? tutorData.fund_bank_id\r\n                : payOption == \"upi\"\r\n                ? tutorData.fund_upi_id\r\n                : \"\",\r\n            amount:\r\n              !checked && tutorData?.pan\r\n                ? tutorAmt * 100 - tutorAmt * 10\r\n                : !checked && !tutorData?.pan\r\n                ? tutorAmt * 100 - tutorAmt * 20\r\n                : tutorAmt * 100,\r\n            currency: \"INR\",\r\n            mode:\r\n              payOption == \"bank\" ? payMode : payOption == \"upi\" ? \"UPI\" : \"\",\r\n            purpose: \"vendor bill\",\r\n            // queue_if_low_balance: true,\r\n            reference_id: tutorData.tutor_id,\r\n            narration: \"Tutor Fund Transfer\",\r\n            notes: {\r\n              TDS:\r\n                !checked && tutorData.pan\r\n                  ? tutorAmt * 0.1\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 0.2\r\n                  : tutorAmt * 0,\r\n              PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n              EMAIL: tutorData.email,\r\n              SESSION: sessionId,\r\n            },\r\n          };\r\n          const payoutRes = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n              tutorData.wa_id\r\n            }/${sessionId}`,\r\n            payloadPayout,\r\n            {\r\n              headers: {\r\n                ...payHeaders,\r\n              },\r\n            }\r\n          );\r\n          setRpayPout(payoutRes?.data?.rpay?.id);\r\n          setUpdated(!updated);\r\n          console.log(payoutRes?.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else if (payOption == \"bank\") {\r\n      setPaymentLoading(true);\r\n      const payload = {\r\n        name: tutorData.name,\r\n        email: tutorData.email,\r\n        contact: tutorData.wa_id,\r\n        type: \"vendor\",\r\n        reference_id: tutorData.tutor_id,\r\n        // notes: {\r\n        //   random_key_1: 'tutor\\'s new contact id creation',\r\n        //   random_key_2: 'vendon contact id',\r\n        // },\r\n      };\r\n      try {\r\n        if (!tutorData.contact_id) {\r\n          // create contact id\r\n          const response = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/payments/contacts`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                ...payHeaders,\r\n              },\r\n            }\r\n          );\r\n          console.log(response?.data?.result);\r\n\r\n          // create fund account - bank\r\n          if (payOption == \"bank\") {\r\n            const payloadBank = {\r\n              contact_id: response?.data?.contact_id,\r\n              account_type: \"bank_account\",\r\n              bank_account: {\r\n                name: tutorData.name,\r\n                ifsc: tutorData?.Bank?.ifsc_code,\r\n                account_number: tutorData?.Bank?.acc_no,\r\n              },\r\n            };\r\n            const response2 = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/fund_accounts_bank/${\r\n                tutorData.wa_id\r\n              }`,\r\n              payloadBank,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            // create payout\r\n            const payloadPayout_ = {\r\n              account_number: \"3434949239801329\",\r\n              fund_account_id: response2?.data?.fund_bank_id,\r\n              amount:\r\n                !checked && tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 10\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 20\r\n                  : tutorAmt * 100,\r\n              currency: \"INR\",\r\n              mode: payMode,\r\n              purpose: \"vendor bill\",\r\n              // queue_if_low_balance: true,\r\n              reference_id: response2?.data?.tutor_id,\r\n              narration: \"Tutor Fund Transfer\",\r\n              notes: {\r\n                TDS:\r\n                  !checked && tutorData.pan\r\n                    ? tutorAmt * 0.1\r\n                    : !checked && !tutorData?.pan\r\n                    ? tutorAmt * 0.2\r\n                    : tutorAmt * 0,\r\n                PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n                EMAIL: tutorData.email,\r\n                SESSION: sessionId,\r\n              },\r\n            };\r\n            const payoutRes_ = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n                tutorData.wa_id\r\n              }/${sessionId}`,\r\n              payloadPayout_,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(payoutRes_?.data);\r\n            setRpayPout(payoutRes_?.data?.rpay?.id);\r\n            // setOpenPayment(false);\r\n            console.log(response2?.data?.result);\r\n          }\r\n          // create fund account - upi\r\n          else if (payOption == \"upi\") {\r\n            const payloadUpi = {\r\n              contact_id: response?.data?.contact_id,\r\n              account_type: \"vpa\",\r\n              vpa: {\r\n                address: tutorData?.Bank?.upi_id,\r\n              },\r\n            };\r\n            const response2 = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/fund_accounts_upi/${\r\n                tutorData.wa_id\r\n              }`,\r\n              payloadUpi,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(response2?.data);\r\n\r\n            // create payout\r\n            const payloadPayout_ = {\r\n              account_number: \"3434949239801329\",\r\n              fund_account_id: response2?.data?.fund_upi_id,\r\n              amount:\r\n                !checked && tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 10\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 100 - tutorAmt * 20\r\n                  : tutorAmt * 100,\r\n              currency: \"INR\",\r\n              mode: \"UPI\",\r\n              purpose: \"vendor bill\",\r\n              // queue_if_low_balance: true,\r\n              reference_id: response2?.data?.tutor_id,\r\n              narration: \"Tutor Fund Transfer\",\r\n              notes: {\r\n                TDS:\r\n                  !checked && tutorData.pan\r\n                    ? tutorAmt * 0.1\r\n                    : !checked && !tutorData?.pan\r\n                    ? tutorAmt * 0.2\r\n                    : tutorAmt * 0,\r\n                PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n                EMAIL: tutorData.email,\r\n                SESSION: sessionId,\r\n              },\r\n            };\r\n            const payoutRes_ = await axios.post(\r\n              `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n                tutorData.wa_id\r\n              }/${sessionId}`,\r\n              payloadPayout_,\r\n              {\r\n                headers: {\r\n                  ...payHeaders,\r\n                },\r\n              }\r\n            );\r\n            console.log(payoutRes_?.data);\r\n            setRpayPout(payoutRes_?.data?.rpay?.id);\r\n            // setOpenPayment(false);\r\n          }\r\n        } else if (tutorData.contact_id && tutorData.fund_bank_id) {\r\n          console.log(\"already created\");\r\n          const payloadPayout = {\r\n            account_number: \"3434949239801329\",\r\n            fund_account_id:\r\n              payOption == \"bank\"\r\n                ? tutorData.fund_bank_id\r\n                : payOption == \"upi\"\r\n                ? tutorData.fund_upi_id\r\n                : \"\",\r\n            amount:\r\n              !checked && tutorData?.pan\r\n                ? tutorAmt * 100 - tutorAmt * 10\r\n                : !checked && !tutorData?.pan\r\n                ? tutorAmt * 100 - tutorAmt * 20\r\n                : tutorAmt * 100,\r\n            currency: \"INR\",\r\n            mode:\r\n              payOption == \"bank\" ? payMode : payOption == \"upi\" ? \"UPI\" : \"\",\r\n            purpose: \"vendor bill\",\r\n            // queue_if_low_balance: true,\r\n            reference_id: tutorData.tutor_id,\r\n            narration: \"Tutor Fund Transfer\",\r\n            notes: {\r\n              TDS:\r\n                !checked && tutorData.pan\r\n                  ? tutorAmt * 0.1\r\n                  : !checked && !tutorData?.pan\r\n                  ? tutorAmt * 0.2\r\n                  : tutorAmt * 0,\r\n              PAN: tutorData.pan ? tutorData?.pan : \"\",\r\n              EMAIL: tutorData.email,\r\n              SESSION: sessionId,\r\n            },\r\n          };\r\n          const payoutRes = await axios.post(\r\n            `${localStorage.getItem(\"api\")}/api/payments/payouts/${\r\n              tutorData.wa_id\r\n            }/${sessionId}`,\r\n            payloadPayout,\r\n            {\r\n              headers: {\r\n                ...payHeaders,\r\n              },\r\n            }\r\n          );\r\n          setRpayPout(payoutRes?.data?.rpay?.id);\r\n          setUpdated(!updated);\r\n          console.log(payoutRes?.data);\r\n        } else {\r\n          alert(\r\n            \"Something is wrong with the user's bank details! Please try another payment method.\"\r\n          );\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClosePayWindow = () => {\r\n    setPaymentLoading(false);\r\n    setPaymentSuccess(false);\r\n  };\r\n\r\n  // get tutor details from id\r\n  const getTutorDetails = async (id) => {\r\n    try {\r\n      const response = await axios.get(`${localStorage.getItem('api')}/api/tutor/getTutorDetail/${id}`);\r\n      console.log(response.data);\r\n      setTutorDetails(response.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // sending ratings in database\r\n  const handleAssignTutorRating = async (tutorId) => {\r\n    if (storeTutorRating) {\r\n      setDisableRateBtn(true);\r\n      const payload = {\r\n        rating: storeTutorRating?.rating,\r\n        speed: storeTutorRating?.speed,\r\n        accuracy: storeTutorRating?.accuracy,\r\n        legitimacy: storeTutorRating?.legitimacy,\r\n        reviews: storeTutorRating?.reviews,\r\n        session_done: sessionId,\r\n        session_rating: storeTutorRating?.rating,\r\n      };\r\n      try {\r\n        const res = await axios.put(\r\n          `${localStorage.getItem('api')}/api/tutor/setTutorRating/${tutorId}`,\r\n          payload\r\n        );\r\n        const res_ = await axios.put(\r\n          `${localStorage.getItem(\r\n            \"api\"\r\n          )}/api/sessions/tutor-session-rating/${tutorId}/${sessionId}`,\r\n          payload\r\n        );\r\n\r\n        setUpdated(!updated);\r\n        setDisableRateBtn(false);\r\n\r\n        setShowTutorRatingBox(false);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n        setDisableRateBtn(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    await handleAssignTutorRating(assgnTutorId);\r\n  }, [storeTutorRating]);\r\n\r\n  const handleUnAssignTutor = async (tutorId, status_) => {\r\n    try {\r\n      const payload = {\r\n        status: status_,\r\n      };\r\n      const res = await axios.put(\r\n        `${localStorage.getItem(\r\n          \"api\"\r\n        )}/api/sessions/unassign-tutor/${sessionId}/${tutorId}`,\r\n        payload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  //   const [tutorRating, setTutorRating] = useState();\r\n  //   let response_;\r\n  //   useEffect(() => {\r\n  //   let fetchTutorRating = (tutor_id) => {\r\n  //     response_ = axios.get(\r\n  //         `${localStorage.getItem('api')}/api/tutor/getTutorDetails/${tutor_id}`\r\n  //       );\r\n  //     return (response_?.data?.rating);\r\n  //   };\r\n  //   setTutorRating(() => fetchTutorRating());\r\n  // }, [response_]);\r\n\r\n  const handleSendTemplateToAssignTutor = async (waId, tutorName, tutorId) => {\r\n    const payload = {\r\n      name: \"\",\r\n      from: \"\",\r\n      wa_id: waId,\r\n      templateName:\r\n        sessionType == \"Live Session\"\r\n          ? `sessionassigned_notify_${WAID}`\r\n          : sessionType == \"Assignment\" || sessionType == \"Project\"\r\n          ? `generalsession_assigned_notify_${WAID}`\r\n          : \"\",\r\n      templateText: `Hi *{{1}}*, This is Tutorpoint\\n\\nWe have assigned a ${sessionType} with Session Id ${sessionId} to you. You had shown interest for this session. So Please click on the button below to accept it. \\n\\n*Accepting a Live session means you take responsibility to solve all the problems according to instructions given to you. You will provide clean and suitable answers to questions and submit the required files on time before deadline*\\n\\n*Poor performance in General Sessions will impact your ratings. Maintain high ratings to receive more work from us*`,\r\n      template: {\r\n        namespace: NAME_SPACE,\r\n        language: \"en\",\r\n      },\r\n      param1: sessionType + \" Assigned\",\r\n      param2: tutorName,\r\n      param3: sessionId,\r\n      param4: `d${deviceNo}/tutorForm/${sessionId}/${tutorId}?accept_task=success`,\r\n      button: \"\",\r\n      timestamp: \"\",\r\n      operatorName: \"\",\r\n      isOwner: true,\r\n      status: \"\",\r\n      ticketId: \"\",\r\n      eventType: \"template\",\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/messages/tutorAssignTemplate`,\r\n        payload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleSendMailToAssignTutor = async (email, tutorName, tutorId) => {\r\n    const payload = {\r\n      name: tutorName,\r\n      email: email,\r\n      from: \"\",\r\n      templateName:\r\n        sessionType == \"Live Session\"\r\n          ? `sessionassigned_notify_${WAID}`\r\n          : sessionType == \"Assignment\" || sessionType == 'Project'\r\n          ? `generalsession_assigned_notify_${WAID}`\r\n          : \"\",\r\n      param1: sessionType + \" Assigned\",\r\n      param2: tutorName,\r\n      param3: sessionId,\r\n      param4: `d${deviceNo}/tutorForm/${sessionId}/${tutorId}?accept_task=success`,\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        `${localStorage.getItem(\r\n          \"api\"\r\n        )}/api/sessions/tutorAssignMailNotification`,\r\n        payload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // select TDS\r\n  const handleTDS = (e) => {\r\n    setChecked(e.target.checked);\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if(tutorPayout?.payload?.transaction?.entity?.source?.status == 'processed') {\r\n  //     //sent template for payment confirmation\r\n  //     const payload = {\r\n  //       name: tutorData.name,\r\n  //       from: '',\r\n  //       wa_id: tutorData.wa_id,\r\n  //       templateName: 'pay_tutor_send_notify',\r\n  //       templateText: \"Hi *{{1}}*. This is Tutorpoint. An amount of *Rs {{2}}* has been sent to your bank account registered with us. Following are the details :   \\n\\n1. Session ID : *{{3}}*\\n2. Tutor ID : *{{4}}*\\n2. Session Subject and Topic : *{{5}}*\\n3. Date and Time : *{{6}}*\\n4. UTR No. : *{{7}}*\\n5. TDS Deducted : *{{8}}*\",\r\n  //       template: {\r\n  //         namespace: NAME_SPACE,\r\n  //         language: 'en',\r\n  //       },\r\n  //       param1: 'Payment Notification Tutorpoint',\r\n  //       param2: tutorData.name,\r\n  //       param3: `${tutorAmt} INR`,\r\n  //       param4: sessionId,\r\n  //       param5: tutorData.tutor_id,\r\n  //       param6: subject,\r\n  //       param7: deadline,\r\n  //       param8: tutorPayout?.payload?.transaction?.entity?.source?.utr,\r\n  //       param9: tutorData.pan ? tutorAmt/9 : tutorAmt/8,\r\n  //       button: '',\r\n  //       timestamp: '',\r\n  //       operatorName: '',\r\n  //       isOwner: true,\r\n  //       status: '',\r\n  //       ticketId: '',\r\n  //       eventType: 'template',\r\n  //     };\r\n  //     const paymentAlert = await axios.post('${localStorage.getItem('api')}/api/messages3/tutorPaymentTemplate', payload, {\r\n  //       headers: ''\r\n  //     });\r\n  //   }\r\n  // }, [tutorPayout])\r\n\r\n  const handleCancelTutor = async (tutorId, sessionId) => {\r\n    try {\r\n      const payload = {\r\n        status: true,\r\n      };\r\n      const res = await axios.put(\r\n        `${localStorage.getItem(\r\n          \"api\"\r\n        )}/api/sessions/cancelNotifiedTutor/${sessionId}/${tutorId}`,\r\n        payload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const tutorPayoutStatus = async (wa_id, pout_info) => {\r\n    try {\r\n      for(let i = 0; i < pout_info.length; i++) {\r\n        const payload = {\r\n          sessionId: sessionId,\r\n          waId: wa_id\r\n        };\r\n        const res = await axios.post(\r\n          `${localStorage.getItem('api')}/api/payments/payout-update/${pout_info[i].id}`,\r\n          payload,\r\n          {\r\n            headers: {\r\n              ...payHeaders,\r\n            }\r\n          }\r\n        );\r\n      }\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  function filterArr(data, key) {\r\n    return [...new Map(data.map((x) => [key(x), x])).values()];\r\n  }\r\n\r\n  const shortText = (text) => {\r\n    if (text?.length > 12) {\r\n      return `${text?.slice(0, 12)}..`;\r\n    } else if (text?.length <= 12) {\r\n      return text;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TabContext value={value}>\r\n        <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n          <TabList\r\n            onChange={handleChange}\r\n            aria-label=\"lab API tabs example\"\r\n            centered\r\n          >\r\n            <Tab label=\"Interested Tutors\" value=\"1\" />\r\n            <Tab label=\"Notified Tutors\" value=\"2\" />\r\n            <Tab label=\"Assigned Tutors\" value=\"3\" />\r\n          </TabList>\r\n        </Box>\r\n        <TabPanel value=\"1\" style={{ padding: \"15px\" }}>\r\n          <div>\r\n            {tutor_interested?.map((tutor, index) => (\r\n              <>\r\n                <div key={index} style={{ padding: \"10px 0px\" }}>\r\n                  <span style={{ fontWeight: \"800\" }}>\r\n                    {shortText(tutor.name)}\r\n                  </span>\r\n                  <span>&nbsp;{tutor.tutor_id}</span>\r\n                  &nbsp;\r\n                  <span>\r\n                    <HtmlTooltip\r\n                      placement=\"top\"\r\n                      title={\r\n                        <>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Highest Degree: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.highest_degree}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Department: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.dept}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>College/s: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.academic_info && tutorDetails?.academic_info[0]?.college.toString()}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>WhatsApp: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.wa_id}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Subjects known: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.subjects && tutorDetails?.subjects.toString()}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Tags: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.tags && tutorDetails?.tags.toString()}</span></Typography>\r\n                        <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Rating: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.rating && <Chip size=\"small\" icon={ <StarPurple500SharpIcon style={{ color: \"#ffff\", fontSize: \"14px\" }} /> } label={(\"\" + tutorDetails.rating / 2)?.slice(0, 4)} color=\"success\" />}</span></Typography>\r\n                      </>\r\n                      }\r\n                    >\r\n                      <InfoIcon\r\n                        fontSize=\"small\"\r\n                        style={{ fontSize: \"16px\", cursor: \"pointer\" }}\r\n                        onMouseEnter={() => getTutorDetails(tutor.tutor_id)}\r\n                        onMouseLeave={() => setTutorDetails(null)}\r\n                      />\r\n                    </HtmlTooltip>\r\n                  </span>\r\n                  {/* <span>\r\n                    &nbsp; &nbsp;\r\n                    <Chip\r\n                      size='small'\r\n                      // onClick={handleClick}\r\n                      // onDelete={handleDelete}\r\n                      icon={\r\n                        <StarPurple500SharpIcon\r\n                          style={{ color: '#ffff', fontSize: '14px' }}\r\n                        />\r\n                      }\r\n                      label={('' + tutor.rating / 2)?.slice(0, 4)}\r\n                      color='success'\r\n                    />\r\n                  </span> */}\r\n                  &nbsp; &nbsp;\r\n                  <span>\r\n                    <HtmlTooltip\r\n                      placement=\"top\"\r\n                      title={\r\n                        <>\r\n                          <span style={{ marginBottom: \"10px\" }}>\r\n                            Last 5 reviews and rating\r\n                          </span>\r\n                          {tutorDetails?.rating_and_reviews\r\n                            ?.slice(\r\n                              Math.max(tutorDetails?.rating_and_reviews?.length - 5, 0)\r\n                            )\r\n                            ?.map((el, index) => (\r\n                              <Typography\r\n                                color=\"inherit\"\r\n                                style={{\r\n                                  fontSize: \"13.5px\",\r\n                                  fontWeight: \"600\",\r\n                                  marginTop: \"5px\",\r\n                                }}\r\n                              >\r\n                                <span\r\n                                  style={{\r\n                                    fontSize: \"12px\",\r\n                                    fontWeight: \"normal\",\r\n                                  }}\r\n                                >\r\n                                  {el.reviews && `- ${el.reviews}  [${el.rating}]`}\r\n                                </span>\r\n                              </Typography>\r\n                            ))}\r\n                        </>\r\n                      }\r\n                    >\r\n                      <span style={{fontSize: '11px', border: '1px solid gray', borderRadius: '20px', padding: '3px'}} onMouseEnter={() => getTutorDetails(tutor.tutor_id)}>Reviews</span>\r\n                    </HtmlTooltip>\r\n                  </span>\r\n                  {/* {!assigned_tutors.find(\r\n                      (el) => el.tutor_id == tutor.tutor_id\r\n                    ) && <span style={{marginLeft: '20px'}}>\r\n                    {sessionType == 'Live Session' &&\r\n                    <NumberFormat\r\n                      style={{width: \"50px\", outline: \"none\", borderRadius: \"3px\", border: \"1px solid gray\"}}\r\n                      format=\"## : ##\"\r\n                      placeholder=\"00 : 00\"\r\n                      onChange={(e) => setTutorDuration(e.target.value)}\r\n                      autoComplete=\"off\"\r\n                    />}\r\n                  </span>} */}\r\n                  <span\r\n                    style={{ float: \"right\", cursor: \"pointer\" }}\r\n                    onClick={() => handleAssignTutor(tutor)}\r\n                  >\r\n                    {assigned_tutors.find(\r\n                      (el) => el.tutor_id == tutor.tutor_id\r\n                    ) ? (\r\n                      <AssignmentTurnedInIcon fontSize=\"medium\" />\r\n                    ) : (\r\n                      <AssignmentTurnedInOutlinedIcon fontSize=\"medium\" />\r\n                    )}\r\n                  </span>\r\n                </div>\r\n                <hr\r\n                  style={{\r\n                    width: \"70%\",\r\n                    marginLeft: \"0px\",\r\n                    marginBottom: \"8px\",\r\n                  }}\r\n                />\r\n              </>\r\n            ))}\r\n          </div>\r\n        </TabPanel>\r\n        <TabPanel value=\"2\" style={{ padding: \"15px\" }}>\r\n          <div>\r\n            {notified_tutors?.map((tutor, index) => (\r\n              <>\r\n                <div key={index} style={{ padding: \"10px 0px\" }}>\r\n                  <span style={{ fontWeight: \"800\" }}>\r\n                    {shortText(tutor.name)}\r\n                  </span>\r\n                  <span>&nbsp;{tutor.tutor_id}&nbsp;</span>\r\n                  <span>\r\n                    <HtmlTooltip\r\n                      placement=\"top\"\r\n                      title={\r\n                        <>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Highest Degree: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.highest_degree}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Department: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.dept}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>College/s: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.academic_info && tutorDetails?.academic_info[0]?.college.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>WhatsApp: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.wa_id}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Subjects known: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.subjects && tutorDetails?.subjects.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Tags: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.tags && tutorDetails?.tags.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Notified At: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutor?.timestamp ? moment(new Date(tutor?.timestamp*1000)).format('lll') : '---'}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Rating: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.rating && <Chip size=\"small\" icon={ <StarPurple500SharpIcon style={{ color: \"#ffff\", fontSize: \"14px\" }} /> } label={(\"\" + tutorDetails.rating / 2)?.slice(0, 4)} color=\"success\" />}</span></Typography>\r\n                        </>\r\n                      }\r\n                    >\r\n                      <InfoIcon\r\n                        fontSize=\"small\"\r\n                        style={{ fontSize: \"16px\", cursor: \"pointer\" }}\r\n                        onMouseEnter={() => getTutorDetails(tutor.tutor_id)}\r\n                        onMouseLeave={() => setTutorDetails(null)}\r\n                      />\r\n                    </HtmlTooltip>\r\n                  </span>\r\n                  {tutor.medium == \"wa\" && (\r\n                    <span>\r\n                      <WhatsappOutlinedIcon\r\n                        fontSize=\"small\"\r\n                        color=\"success\"\r\n                        style={{ marginRight: \"5px\", fontSize: \"17px\" }}\r\n                      />\r\n                    </span>\r\n                  )}\r\n                  {tutor.medium == \"mail\" && (\r\n                    <span>\r\n                      <MarkEmailReadOutlinedIcon\r\n                        fontSize=\"small\"\r\n                        color=\"success\"\r\n                        style={{ marginRight: \"5px\", fontSize: \"17px\" }}\r\n                      />\r\n                    </span>\r\n                  )}\r\n                  {tutor.medium == \"wa-mail\" && (\r\n                    <span>\r\n                      <WhatsappOutlinedIcon\r\n                        fontSize=\"small\"\r\n                        color=\"success\"\r\n                        style={{ marginRight: \"5px\", fontSize: \"17px\" }}\r\n                      />{\" \"}\r\n                      <MarkEmailReadOutlinedIcon\r\n                        fontSize=\"small\"\r\n                        color=\"success\"\r\n                        style={{ marginRight: \"5px\", fontSize: \"17px\" }}\r\n                      />\r\n                    </span>\r\n                  )}\r\n                  {/* <span>\r\n                    &nbsp; &nbsp;\r\n                    <Chip\r\n                      size=\"small\"\r\n                      // onClick={handleClick}\r\n                      // onDelete={handleDelete}\r\n                      icon={\r\n                        <StarPurple500SharpIcon\r\n                          style={{ color: \"#ffff\", fontSize: \"14px\" }}\r\n                        />\r\n                      }\r\n                      label={(\"\" + tutor.rating / 2)?.slice(0, 4)}\r\n                      color=\"success\"\r\n                    />\r\n                  </span> */}\r\n                  {/* {!tutor?.cancel_tutor ? (\r\n                    <span\r\n                      style={{ float: 'right', cursor: 'pointer' }}\r\n                      onClick={() =>\r\n                        handleCancelTutor(tutor.tutor_id, sessionId)\r\n                      }\r\n                    >\r\n                      <DoNotDisturbIcon />\r\n                    </span>\r\n                  ) : (\r\n                    <span\r\n                      style={{ float: 'right' }}\r\n                    >\r\n                      <CancelIcon />\r\n                    </span>\r\n                  )} */}\r\n                </div>\r\n                <hr\r\n                  style={{\r\n                    width: \"70%\",\r\n                    marginLeft: \"0px\",\r\n                    marginBottom: \"8px\",\r\n                  }}\r\n                />\r\n              </>\r\n            ))}\r\n          </div>\r\n        </TabPanel>\r\n        <TabPanel value=\"3\" style={{ padding: \"15px\" }}>\r\n          <div>\r\n            {assigned_tutors && assigned_tutors.length > 0 ? (\r\n              assigned_tutors?.map((tutor, index) => (\r\n                <div\r\n                  style={{\r\n                    backgroundImage: `url(${\r\n                      tutor?.tutor_cancelled &&\r\n                      tutor?.tutor_cancelled === \"cancelled\" &&\r\n                      cancelPic1\r\n                    })`,\r\n                    backgroundSize: \"10rem\",\r\n                    backgroundRepeat: \"no-repeat\",\r\n                    backgroundPosition: \"right\",\r\n                  }}\r\n                >\r\n                  <div key={index} style={{ padding: \"10px 0px\" }}>\r\n                    <span style={{ fontWeight: \"800\" }}>\r\n                      {shortText(tutor.name)}\r\n                    </span>\r\n                    <span>&nbsp;{tutor.tutor_id}</span>\r\n                    &nbsp;\r\n                    <span>\r\n                      <HtmlTooltip\r\n                        placement=\"top\"\r\n                        title={\r\n                        <>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Highest Degree: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.highest_degree}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Department: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.dept}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>College/s: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.academic_info && tutorDetails?.academic_info[0]?.college.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>WhatsApp: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.wa_id}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Subjects known: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.subjects && tutorDetails?.subjects.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Tags: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.tags && tutorDetails?.tags.toString()}</span></Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Rating: <span style={{fontSize: '12px', fontWeight: 'normal'}}>{tutorDetails?.rating && <Chip size=\"small\" icon={ <StarPurple500SharpIcon style={{ color: \"#ffff\", fontSize: \"14px\" }} /> } label=\r\n                          {\r\n                            tutorDetails?.rating && tutor?.session_rating\r\n                              ? (\r\n                                  \"\" +\r\n                                  (+tutorDetails?.rating + +tutor?.session_rating) / 4\r\n                                )?.slice(0, 4)\r\n                              : tutorDetails?.rating && !tutor?.session_rating\r\n                              ? (\"\" + tutorDetails?.rating / 2)?.slice(0, 4)\r\n                              : !tutorDetails?.rating && tutor?.session_rating\r\n                              ? (\"\" + tutor?.session_rating / 2)?.slice(0, 4)\r\n                              : \"N/A\"\r\n                          } color=\"success\" />}</span>\r\n                          </Typography>\r\n                          <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px', marginTop: '10px', display: 'flex', justifyContent: 'right'}}>\r\n                              {(!tutor?.tutor_cancelled || (tutor?.tutor_cancelled && tutor?.tutor_cancelled!==\"cancelled\")) && <button\r\n                                style={{\r\n                                  backgroundColor: '#ffff',\r\n                                  color: '#FF0000',\r\n                                  border: '0.5px solid #FF0000',\r\n                                  borderRadius: '3px',\r\n                                  height: '23px',\r\n                                  cursor: 'pointer',\r\n                                  fontWeight: '600',\r\n                                }}\r\n                                onClick={() =>\r\n                                  handleCancelAssignedTutor(tutor.name,tutor.wa_id,tutor.tutor_id)\r\n                                }\r\n                              >\r\n                                Cancel Tutor\r\n                              </button>}\r\n                          </Typography>\r\n                        </>\r\n                        }\r\n                      >\r\n                        <InfoIcon\r\n                          fontSize=\"small\"\r\n                          style={{ fontSize: \"16px\", cursor: \"pointer\" }}\r\n                          onMouseEnter={() => getTutorDetails(tutor.tutor_id)}\r\n                          onMouseLeave={() => setTutorDetails(null)}\r\n                        />\r\n                      </HtmlTooltip>\r\n                    </span>\r\n                    {/* <span>\r\n                      &nbsp; &nbsp;\r\n                      <Chip\r\n                        size=\"small\"\r\n                        // onClick={handleClick}\r\n                        // onDelete={handleDelete}\r\n                        icon={\r\n                          <StarPurple500SharpIcon\r\n                            style={{ color: \"#ffff\", fontSize: \"14px\" }}\r\n                          />\r\n                        }\r\n                        label={\r\n                          tutor?.rating && tutor?.session_rating\r\n                            ? (\r\n                                \"\" +\r\n                                (+tutor?.rating + +tutor?.session_rating) / 4\r\n                              )?.slice(0, 4)\r\n                            : tutor?.rating && !tutor?.session_rating\r\n                            ? (\"\" + tutor?.rating / 2)?.slice(0, 4)\r\n                            : !tutor?.rating && tutor?.session_rating\r\n                            ? (\"\" + tutor?.session_rating / 2)?.slice(0, 4)\r\n                            : \"N/A\"\r\n                        }\r\n                        color=\"success\"\r\n                      />\r\n                    </span> */}\r\n                    {tutor?.acceptance_status == \"accepted\" && (\r\n                      <span\r\n                        style={{\r\n                          color: \"green\",\r\n                          fontSize: \"14px\",\r\n                          marginLeft: \"10px\",\r\n                        }}\r\n                      >\r\n                        <Chip size=\"small\" label=\"accepted\" color=\"success\" />\r\n                      </span>\r\n                    )}\r\n                    <span style={{ float: \"right\",width: \"110px\",marginLeft:\"15px\" }}>\r\n                      <span>\r\n                        <div style={{ fontWeight: \"800\",marginBottom:\"5px\"}}>\r\n                          {(tutor.tutor_id===assgnTutorId &&  editTutorAmt) ? (\r\n                            <span style={{ fontWeight: \"800\" }}>\r\n                              <input\r\n                                key={index}\r\n                                type=\"number\"\r\n                                style={{\r\n                                  width: \"30%\",\r\n                                  height: \"20px\",\r\n                                  marginTop: \"5px\",\r\n                                  outline: \"none\",\r\n                                  border: \"none\",\r\n                                  borderBottom: \"1px solid gray\",\r\n                                  borderRadius: \"0px\",\r\n                                }}\r\n                                value={tutorDealtAmount}\r\n                                onChange={(e) =>\r\n                                  setTutorDealtAmount(e.target.value)\r\n                                }\r\n                                autoFocus\r\n                              />{\" \"}\r\n                              &nbsp;\r\n                              {!tutor?.tutor_cancelled ? (\r\n                                <button\r\n                                  style={{\r\n                                    backgroundColor: \"#1876D1\",\r\n                                    color: \"#ffff\",\r\n                                    border: \"none\",\r\n                                    borderRadius: \"2px\",\r\n                                    height: \"25px\",\r\n                                    cursor: \"pointer\",\r\n                                  }}\r\n                                  onClick={()=>tutorAmtHandler(tutor?.tutor_id)}\r\n                                >\r\n                                  Update\r\n                                </button>\r\n                              ) : (\r\n                                <button\r\n                                  style={{\r\n                                    border: \"1px solid #e3e0e0\",\r\n                                    borderRadius: \"2px\",\r\n                                    height: \"25px\",\r\n                                  }}\r\n                                  disabled\r\n                                >\r\n                                  <CircularProgress\r\n                                    fontSize=\"small\"\r\n                                    style={{ width: \"15px\", height: \"15px\" }}\r\n                                  />{\" \"}\r\n                                  Update\r\n                                </button>\r\n                              )}\r\n                            </span>\r\n                          ):\r\n                          (\r\n                            <div style={{ fontWeight: \"800\",marginBottom:\"5px\" }}>\r\n                              <>\r\n                              <span>{tutor?.tutor_dealt_amount ? `${(tutor?.tutor_dealt_amount) / 100} INR` : `--- INR`}</span>\r\n                                &nbsp;\r\n                                <span style={{ cursor: \"pointer\" }}>\r\n                                  <EditIcon\r\n                                    key={index}\r\n                                    fontSize=\"x-small\"\r\n                                    style={{ fontSize: \"15px\" }}\r\n                                    onClick={(e) => editTutorAmtFunc(e,tutor.tutor_id,index)}\r\n                                  />\r\n                                </span>\r\n                              </>\r\n                            </div>\r\n                          ) \r\n                          }\r\n                        </div>\r\n                      </span>\r\n                      {tutor?.session_rating && !tutor?.tutor_cancelled ? (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          size=\"small\"\r\n                          style={{ maxWidth: \"52px\" }}\r\n                          onClick={() => handleOpenTutorPayment(index, tutor)}\r\n                        >\r\n                          Pay\r\n                        </Button>\r\n                      ) : (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          size=\"small\"\r\n                          style={{ maxWidth: \"52px\" }}\r\n                          disabled\r\n                        >\r\n                          Pay\r\n                        </Button>\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"500\",\r\n                      marginRight: \"5px\",\r\n                      marginBottom: \"12px\",\r\n                    }}\r\n                  >\r\n                    <span>\r\n                      &nbsp;\r\n                      {!disableRateBtn &&\r\n                      tutor?.tutor_unassigned == \"assigned\" ? (\r\n                        <Chip\r\n                          style={{\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          size=\"small\"\r\n                          label=\"Rating & Reviews\"\r\n                          variant=\"outlined\"\r\n                          onClick={() =>\r\n                            handleTutorRating(\r\n                              tutor.rating_and_reviews,\r\n                              tutor.tutor_id\r\n                            )\r\n                          }\r\n                        />\r\n                      ) : (\r\n                        <Chip\r\n                          style={{ cursor: \"pointer\" }}\r\n                          size=\"small\"\r\n                          label=\"Rating & Reviews\"\r\n                          variant=\"outlined\"\r\n                          disabled\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    &nbsp;\r\n                    <span>\r\n                      <HtmlTooltip\r\n                        placement=\"top\"\r\n                        title={\r\n                          <>\r\n                            <span style={{ marginBottom: \"10px\" }}>\r\n                              Last 5 reviews and rating\r\n                            </span>\r\n                            {tutorDetails?.rating_and_reviews\r\n                              ?.slice(\r\n                                Math.max(tutorDetails?.rating_and_reviews?.length - 5, 0)\r\n                              )\r\n                              ?.map((el, index) => (\r\n                                <Typography\r\n                                  color=\"inherit\"\r\n                                  style={{\r\n                                    fontSize: \"13.5px\",\r\n                                    fontWeight: \"600\",\r\n                                    marginTop: \"5px\",\r\n                                  }}\r\n                                >\r\n                                  <span\r\n                                    style={{\r\n                                      fontSize: \"12px\",\r\n                                      fontWeight: \"normal\",\r\n                                    }}\r\n                                  >\r\n                                    {el.reviews && `- ${el.reviews}  [${el.rating}]`}\r\n                                  </span>\r\n                                </Typography>\r\n                              ))}\r\n                          </>\r\n                        }\r\n                      >\r\n                        <InfoIcon\r\n                          fontSize=\"small\"\r\n                          style={{ fontSize: \"16px\" }}\r\n                        />                      \r\n                      </HtmlTooltip>\r\n                    </span>\r\n                    {tutor?.tutor_unassigned == \"assigned\" ? (\r\n                      <span style={{ marginLeft: \"20px\" }}>\r\n                        <Chip\r\n                          style={{ cursor: \"pointer\" }}\r\n                          size=\"small\"\r\n                          label=\"assigned\"\r\n                          onClick={() =>\r\n                            handleUnAssignTutor(tutor.tutor_id, \"unassigned\")\r\n                          }\r\n                        />\r\n                      </span>\r\n                    ) : (\r\n                      <span style={{ marginLeft: \"20px\" }}>\r\n                        <Chip\r\n                          style={{ cursor: \"pointer\" }}\r\n                          size=\"small\"\r\n                          label=\"unassigned\"\r\n                          variant=\"outlined\"\r\n                          onClick={() =>\r\n                            handleUnAssignTutor(tutor.tutor_id, \"assigned\")\r\n                          }\r\n                        />\r\n                      </span>\r\n                    )}\r\n                    {/* {(tutor?.tutor_cancelled && tutor?.tutor_cancelled===\"cancelled\") ? (\r\n                      <span style={{ marginLeft: '20px' }}>\r\n                        <Chip\r\n                          style={{ cursor: 'pointer' }}\r\n                          size='small'\r\n                          label='cancelled'\r\n                          disabled\r\n                        />\r\n                      </span>\r\n                    ) : !tutor?.tutor_cancelled && tutor?.tutor_unassigned == 'assigned' ? (\r\n                      <span style={{ marginLeft: '20px' }}>\r\n                        <Chip\r\n                          style={{ cursor: 'pointer' }}\r\n                          size='small'\r\n                          label='assigned'\r\n                          onClick={() =>\r\n                            handleUnAssignTutor(tutor.tutor_id, 'unassigned')\r\n                          }\r\n                        />\r\n                      </span>\r\n                    ) : (\r\n                      <span style={{ marginLeft: '20px' }}>\r\n                        <Chip\r\n                          style={{ cursor: 'pointer' }}\r\n                          size='small'\r\n                          label='unassigned'\r\n                          variant='outlined'\r\n                          onClick={() =>\r\n                            handleUnAssignTutor(tutor.tutor_id, 'assigned')\r\n                          }\r\n                        />\r\n                      </span>\r\n                    )} */}\r\n                    {/* <span style={{marginLeft:\"47px\"}}>\r\n                      {(!tutor?.tutor_cancelled || (tutor?.tutor_cancelled && tutor?.tutor_cancelled!==\"cancelled\") ) &&  (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          style={{\r\n                            border:\"none\",\r\n                            borderRadius: '5px',\r\n                            height: '25px',\r\n                            borderRadius:\"5px\",\r\n                            backgroundColor:\"#df0303\",\r\n                            color:\"#ffff\",\r\n                            width:\"70px\"\r\n\r\n                          }}\r\n                          onClick={()=>handleCancelAssignedTutor(tutor.name,tutor.wa_id,tutor.tutor_id)}\r\n\r\n                        >\r\n                          cancel\r\n                        </Button>\r\n                      )}\r\n                    </span> */}\r\n                  </div>\r\n                  <p\r\n                    style={{\r\n                      margin: \"0px\",\r\n                      fontSize: \"12.5px\",\r\n                      color: \"chocolate\",\r\n                    }}\r\n                  >\r\n                    All Payments: &nbsp; {tutor?.pout_info && tutor?.pout_info.length > 0 && <div style={{cursor: 'pointer', float: 'right'}} onClick={() => tutorPayoutStatus(tutor.wa_id, tutor.pout_info)}><RefreshIcon fontSize='medium' /></div>}\r\n                    <span>\r\n                      {tutor?.pout_info &&\r\n                        filterArr(\r\n                          tutor?.pout_info.sort((a, b) => {\r\n                            return b.created_at - a.created_at;\r\n                          }),\r\n                          (it) => it.id\r\n                        ).map((i) => (\r\n                          <>\r\n                            <p style={{ margin: \"5px 0px\" }}>\r\n                              {i.amount / 100} {i.currency}\r\n                              {\" (\" + i.status + \")\"}\r\n                              {\" [TDS (\"}\r\n                              {i.notes.TDS}\r\n                              {\" INR)\"}\r\n                              {\" Amount (\"}\r\n                              {+i.amount / 100 + i.notes.TDS}\r\n                              {\" INR)]\"}\r\n                              {' [Payment ID: '}\r\n                              {i.id.replace('pout_', '')}\r\n                              {']'}\r\n                            </p>\r\n                          </>\r\n                        ))}\r\n                    </span>\r\n                  </p>\r\n                  <hr\r\n                    style={{\r\n                      width: \"70%\",\r\n                      marginLeft: \"0px\",\r\n                      marginBottom: \"8px\",\r\n                    }}\r\n                  />\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div>No Tutors Assigned</div>\r\n            )}\r\n            {showTutorRatingBox && (\r\n              <TutorRatingAndReviews\r\n                rating_and_reviews={assgnTutorRating}\r\n                tutorId={assgnTutorId}\r\n                handleAssignTutorRating={handleAssignTutorRating}\r\n                setShowTutorRatingBox={setShowTutorRatingBox}\r\n                showTutorRatingBox={showTutorRatingBox}\r\n                setStoreTutorRating={setStoreTutorRating}\r\n              />\r\n            )}\r\n          </div>\r\n        </TabPanel>\r\n        <Dialog open={openPayment} onClose={handleCloseTutorPayment}>\r\n          <DialogTitle>Tutor Payment</DialogTitle>\r\n          {paymentLoading && !paymentSuccess ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                padding: \"120px 200px\",\r\n              }}\r\n            >\r\n              <CircularProgress\r\n                style={{ alignSelf: \"center\", marginBottom: \"30px\" }}\r\n              />\r\n              <em>Payment Processing...</em>\r\n            </div>\r\n          ) : paymentLoading && paymentSuccess ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                padding: \"120px 200px\",\r\n              }}\r\n            >\r\n              <em>Payment {tutorPayout?.payload?.payout?.entity?.status}</em>\r\n            </div>\r\n          ) : (\r\n            <DialogContent>\r\n              <label style={{ fontSize: \"13px\" }}>Tutor Name</label>\r\n              <TextField\r\n                // autoFocus\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                // label=\"Session ID\"\r\n                // placeholder=\"Session ID\"\r\n                type=\"text\"\r\n                value={tutorName}\r\n                fullWidth\r\n                variant=\"standard\"\r\n                style={{ marginBottom: \"30px\" }}\r\n              />\r\n\r\n              <label style={{ fontSize: \"13px\" }}>Amount</label>\r\n              <TextField\r\n                // autoFocus\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                // label=\"Session ID\"\r\n                // placeholder=\"Session ID\"\r\n                type=\"number\"\r\n                value={tutorAmt}\r\n                onChange={handleChangeTutorAmt}\r\n                style={{ marginBottom: \"5px\" }}\r\n                fullWidth\r\n                variant=\"standard\"\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n              <div style={{ marginBottom: \"27px\", fontSize: \"13px\" }}>\r\n                Actual amount:{\" \"}\r\n                {!checked && tutorData?.pan && tutorAmt\r\n                  ? tutorAmt - tutorAmt * 0.1\r\n                  : !checked && !tutorData?.pan && tutorAmt\r\n                  ? tutorAmt - tutorAmt * 0.2\r\n                  : checked\r\n                  ? tutorAmt\r\n                  : \"0\"}{\" \"}\r\n                INR, TDS:{\" \"}\r\n                {!checked && tutorData?.pan && tutorAmt\r\n                  ? tutorAmt * 0.1\r\n                  : !checked && !tutorData?.pan && tutorAmt\r\n                  ? tutorAmt * 0.2\r\n                  : checked\r\n                  ? \"0\"\r\n                  : \"0\"}{\" \"}\r\n                INR{\" \"}\r\n                <span>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={checked}\r\n                        onChange={handleTDS}\r\n                        defaultChecked\r\n                        size=\"small\"\r\n                        style={{ padding: \"0px 4px\" }}\r\n                      />\r\n                    }\r\n                    label=\"Without TDS\"\r\n                    style={{ marginLeft: \"20px\" }}\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div></div>\r\n              <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\">Choose Payment Option</FormLabel>\r\n                <RadioGroup\r\n                  row\r\n                  aria-label=\"gender\"\r\n                  name=\"row-radio-buttons-group\"\r\n                  onChange={handlePayMode}\r\n                >\r\n                  <FormControlLabel\r\n                    value=\"bank\"\r\n                    control={<Radio />}\r\n                    label=\"Bank Transfer\"\r\n                  />\r\n                  <FormControlLabel\r\n                    value=\"upi\"\r\n                    control={<Radio />}\r\n                    label=\"UPI Transfer\"\r\n                  />\r\n                </RadioGroup>\r\n              </FormControl>\r\n              <div style={{ marginTop: \"20px\" }}>\r\n                {payOption === \"bank\" ? (\r\n                  <>\r\n                    <label style={{ fontSize: \"13px\" }}>Account Number</label>\r\n                    <TextField\r\n                      // autoFocus\r\n                      margin=\"dense\"\r\n                      id=\"name\"\r\n                      // label=\"Session ID\"\r\n                      // placeholder=\"Session ID\"\r\n                      type=\"text\"\r\n                      value={accNo}\r\n                      style={{ marginBottom: \"27px\" }}\r\n                      fullWidth\r\n                      variant=\"standard\"\r\n                    />\r\n                    <label style={{ fontSize: \"13px\" }}>IFSC</label>\r\n                    <TextField\r\n                      // autoFocus\r\n                      margin=\"dense\"\r\n                      id=\"name\"\r\n                      // label=\"Session ID\"\r\n                      // placeholder=\"Session ID\"\r\n                      type=\"text\"\r\n                      value={ifsc}\r\n                      style={{ marginBottom: \"27px\" }}\r\n                      fullWidth\r\n                      variant=\"standard\"\r\n                    />\r\n                    <p style={{ fontSize: \"13px\", padding: \"3px 0px 8px 0px\" }}>\r\n                      Mode\r\n                    </p>\r\n                    <NativeSelect\r\n                      defaultValue=\"NEFT\"\r\n                      inputProps={{\r\n                        name: \"amount\",\r\n                        id: \"uncontrolled-native\",\r\n                      }}\r\n                      // style={{ width: '20%', padding: '6px 5px', marginTop: '8px', fontSize: '14px'}}\r\n                      onChange={handleChangePayMode}\r\n                    >\r\n                      <option value=\"IMPS\">IMPS</option>\r\n                      {/* <option value='NEFT'>NEFT</option>\r\n                      <option value='RTGS'>RTGS</option> */}\r\n                    </NativeSelect>\r\n                  </>\r\n                ) : payOption === \"upi\" ? (\r\n                  <>\r\n                    {upiId ? (\r\n                      <>\r\n                        <label style={{ fontSize: \"13px\" }}>UPI ID</label>\r\n                        <TextField\r\n                          // autoFocus\r\n                          margin=\"dense\"\r\n                          id=\"upi\"\r\n                          // label=\"Session ID\"\r\n                          // placeholder=\"Session ID\"\r\n                          type=\"text\"\r\n                          value={upiId}\r\n                          style={{ marginBottom: \"27px\" }}\r\n                          fullWidth\r\n                          variant=\"standard\"\r\n                          autoComplete=\"off\"\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      <p style={{ textAlign: \"center\", color: \"gray\" }}>\r\n                        UPI ID is not Available\r\n                      </p>\r\n                    )}\r\n                  </>\r\n                ) : null}\r\n              </div>\r\n            </DialogContent>\r\n          )}\r\n          {tutorAmt >= 10000 && (\r\n            <DialogContent>\r\n              <div style={{ fontSize: \"12px\", color: \"red\" }}>\r\n                *Tutor amount should be less than 10,000 INR\r\n              </div>\r\n            </DialogContent>\r\n          )}\r\n          {paymentLoading && !paymentSuccess ? (\r\n            <em\r\n              style={{\r\n                textAlign: \"center\",\r\n                marginBottom: \"45px\",\r\n                color: \"coral\",\r\n              }}\r\n            >\r\n              #Please don't close this window\r\n            </em>\r\n          ) : paymentLoading && paymentSuccess ? (\r\n            <DialogActions>\r\n              <Button onClick={handleClosePayWindow}>Close</Button>\r\n            </DialogActions>\r\n          ) : (\r\n            <DialogActions>\r\n              <Button onClick={handleCloseTutorPayment}>Cancel</Button>\r\n              {tutorAmt > 0 && tutorAmt < 10000 && payOption ? (\r\n                <Button onClick={payTutor}>Pay</Button>\r\n              ) : (\r\n                <Button disabled>Pay</Button>\r\n              )}\r\n            </DialogActions>\r\n          )}\r\n        </Dialog>\r\n      </TabContext>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotifiedTutors;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./session.css\";\r\nimport moment from \"moment\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\nimport Badge from \"@mui/material/Badge\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport Box from \"@mui/material/Box\";\r\nimport StarIcon from \"@mui/icons-material/Star\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Fab from \"@mui/material/Fab\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport base64 from \"base-64\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\r\nimport ArrowRightAltIcon from \"@mui/icons-material/ArrowRightAlt\";\r\nimport { sendtemplateMsgUrl } from \"../../serviceUrls/Message-Services\";\r\n\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nimport Pagination from \"@mui/material/Pagination\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\n\r\nimport StarPurple500SharpIcon from \"@mui/icons-material/StarPurple500Sharp\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\n\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport NotifiedTutors from \"./NotifiedTutors\";\r\nimport PendingIcon from \"@mui/icons-material/Pending\";\r\nimport NativeSelect from \"@mui/material/NativeSelect\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport NotificationsActiveIcon from \"@mui/icons-material/NotificationsActive\";\r\nimport CircleNotificationsIcon from \"@mui/icons-material/CircleNotifications\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\nimport AssignmentTurnedInIcon from \"@mui/icons-material/AssignmentTurnedIn\";\r\nimport DoNotDisturbIcon from \"@mui/icons-material/DoNotDisturb\";\r\nimport BorderColorIcon from \"@mui/icons-material/BorderColor\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Tooltip, { tooltipClasses } from \"@mui/material/Tooltip\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport DoneOutlineRoundedIcon from \"@mui/icons-material/DoneOutlineRounded\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport LinearProgress from \"@mui/material/LinearProgress\";\r\nimport AutorenewRoundedIcon from \"@mui/icons-material/AutorenewRounded\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport MarkEmailReadOutlinedIcon from \"@mui/icons-material/MarkEmailReadOutlined\";\r\nimport WhatsappOutlinedIcon from \"@mui/icons-material/WhatsappOutlined\";\r\nimport PriorityHighOutlinedIcon from \"@mui/icons-material/PriorityHighOutlined\";\r\nimport SettingsBackupRestoreIcon from \"@mui/icons-material/SettingsBackupRestore\";\r\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\r\nimport { NAME_SPACE, WAID } from \"../../utils/variables\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst HtmlTooltip = styled(({ className, ...props }) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: \"rgba(80, 80, 80, 0.92)\",\r\n    color: \"#ffff\",\r\n    fontWeight: \"500\",\r\n    maxWidth: 350,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid rgba(80, 80, 80, 0.92)\",\r\n  },\r\n}));\r\n\r\nconst SessionList = ({\r\n  conversation,\r\n  tutorList,\r\n  setTutorList,\r\n  searchTutor,\r\n  tutorCount,\r\n  setAssignedTutor,\r\n  interestedTutors,\r\n  clientPayment,\r\n  tutorPayout,\r\n  updated,\r\n  setUpdated,\r\n  reload,\r\n  setReload,\r\n  handleSearchTutors,\r\n}) => {\r\n  const [msg, setMsg] = useState([]);\r\n  const [alertText, setAlertText] = useState([]);\r\n  const [alertMessage, setAlertMessage] = useState([]);\r\n  // const [hide, setHide] = useState(false);\r\n  const [msgCount, setMsgCount] = useState();\r\n  const [value, setValue] = useState(2);\r\n  const [hover, setHover] = useState(-1);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [tagValue, setTagValue] = useState();\r\n  const [ratingVal, setRatingVal] = useState();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [scroll, setScroll] = useState(\"paper\");\r\n  const descriptionElementRef = useRef(null);\r\n\r\n  const [tutorPage, setTutorPage] = useState(1);\r\n  const [tutorListLoading, setTutorListLoading] = useState(false);\r\n  const [sendingText, setSendingText] = useState(false);\r\n\r\n  const [color, setColor] = useState(false);\r\n  const [removedNum, setRemovedNum] = useState();\r\n  const [check, setCheck] = useState([]);\r\n  const [checked, setChecked] = useState(false);\r\n\r\n  const [showSessionDetails, setShowSessionDetails] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [editTutorAmt, setEditTutorAmt] = useState(false);\r\n  const [taskStatus, setTaskStatus] = useState(\"\");\r\n\r\n  const [selectClientAmount, setSelectClientAmount] = useState();\r\n  const [selectCurrency, setSelectCurrency] = useState(\"USD\");\r\n  const [agentComment, setAgentComment] = useState();\r\n  const [tutorDealtAmount, setTutorDealtAmount] = useState();\r\n  const [openRefundWin, setOpenRefundWin] = useState(false);\r\n  const [virtualAccPayments, setVirtualAccPayments] = useState();\r\n  const [clientInfo, setClientInfo] = useState();\r\n  const [checkPaypal, setCheckPaypal] = useState(conversation?.show_paypal_url);\r\n  const [paypalOption, setPaypalOption] = useState(false);\r\n  const [isEditClientAmt, setIsEditClientAmt] = useState(false);\r\n  const [disableUpdate, setDisableUpdate] = useState(false);\r\n  const [disableUpdateTutor, setDisableUpdateTutor] = useState(false);\r\n  const [showSendTemplate, setShowSendTemplate] = useState(true);\r\n  const [sessionPayment, setSessionPayment] = useState(\r\n    conversation?.payment_status == \"paid\" ? true : false\r\n  );\r\n  const [refundAmount, setRefundAmount] = useState();\r\n  const [tutorDeadline, setTutorDeadline] = useState(\r\n    conversation?.tutor_deadline ? conversation?.tutor_deadline : \"\"\r\n  );\r\n  const [tutorDuration, setTutorDuration] = useState(\r\n    conversation?.tutor_duration ? conversation?.tutor_duration : \"\"\r\n  );\r\n\r\n  const [lastIndex, setLastIndex] = useState(1);\r\n  const [paymentStatusCheck,setPaymentStatusCheck] = useState(\"\");\r\n  let deviceNo = localStorage.getItem(\"device\");\r\n\r\n  const linkBaseURL = `https://client-response.tutorpoint.in/d${deviceNo}/live-session-form`;\r\n\r\n  // razorpay header\r\n  const payHeaders = {\r\n    username: \"rzp_live_Jk4vwq7tyL9Aeg\",\r\n    password: \"qUjOJWotN6x47WSDExJ4NURs\",\r\n  };\r\n\r\n  // paypal header\r\n  const paypalHeaders = {\r\n    username:\r\n      \"AfPpkQlf6R1TvJWkD-5_vq7DC0wnAk-xIVbDVAZb_Kw5y3mDvr1ujmggArTagrn8WALUZU4Y4esITtYS\",\r\n    password:\r\n      \"EMFMuTLku9sIqiY26uLHfhcYKsAoV77xaqanpDAZNsIiBJ0p6RrFk-1TdBaxknoGxbkDucu6UQZBhBro\",\r\n  };\r\n\r\n  // const socket = useRef();\r\n  // const alertIcon = useRef();\r\n  // const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  // const headerKey = {\r\n  //   Accept: 'application/json',\r\n  //   Authorization:\r\n  //     'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTYyMWZkZi0wYjJjLTQxYzAtOWZmMS1iZDk5NWZmYTQ2ZTUiLCJ1bmlxdWVfbmFtZSI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwibmFtZWlkIjoib2ZmaWNlQHR1dG9ycG9pbnQuaW4iLCJlbWFpbCI6Im9mZmljZUB0dXRvcnBvaW50LmluIiwiYXV0aF90aW1lIjoiMDgvMDQvMjAyMSAwODoxMTowMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFETUlOSVNUUkFUT1IiLCJleHAiOjI1MzQwMjMwMDgwMCwiaXNzIjoiQ2xhcmVfQUkiLCJhdWQiOiJDbGFyZV9BSSJ9.lSSh1EL29ksj23Y_rTSrLhYVwhOFyddK1c6bKU-_HB4',\r\n  // };\r\n\r\n  //   const [anchorEl, setAnchorEl] = useState(null);\r\n  //   const open = Boolean(anchorEl);\r\n  //   const handleClick = () => {\r\n  //     setShowMenu(!showMenu);\r\n  //   };\r\n  //   const handleClose = () => {\r\n  //     setAnchorEl(null);\r\n  //   };\r\n  //   console.log(msg);\r\n\r\n  // useEffect(() => {\r\n  //   const friendId = conversation.id;\r\n\r\n  //   const getUser = async () => {\r\n  //     try {\r\n  //       const res = await axios(getCustomersUrl + `/${friendId}`, {headers: {...headerKey}});\r\n  //       setUser(res.data);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getUser();\r\n  // }, [conversation]);\r\n\r\n  // useEffect(() => {\r\n  //   socket.current = io('ws://localhost:8900');\r\n  //   socket.current.on('getAlert', (msg) => {\r\n  //     // storeFiles(msg); //store incoming files data to excel\r\n  //     setAlertMsg([msg]);\r\n  //   });\r\n  // }, []);\r\n\r\n  // const [play] = useSound(notification);\r\n\r\n  // useEffect(() => {\r\n  //   const getMessages = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         msgUrl + `/${conversation?.wa_id}?page=0&limit=20`,\r\n  //         {\r\n  //           headers: { ...headerKey },\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getMessages();\r\n  // }, [newNotification, alertMsg]);\r\n\r\n  // console.log(arrivalMessage.length);\r\n\r\n  // // useEffect(() => {\r\n  // //   play();\r\n  // // }, [arrivalMessage?.length])\r\n\r\n  // useEffect(() => {\r\n  //   const getAlert = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(alertMsgUrl + `/${conversation?.wa_id}`, {\r\n  //         headers: {},\r\n  //       });\r\n  //       console.log(res.data);\r\n  //       // setMessages(() =>\r\n  //       //   res?.data?.messages?.items\r\n  //       //     .filter((f) => f.eventType === 'message')\r\n  //       //     .reverse()\r\n  //       // );\r\n  //       setMsg([...res?.data]);\r\n  //       setMsgCount(() => res?.data?.filter((i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id).length);\r\n  //       setHide(false);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getAlert();\r\n  // }, [alertMsg, newNotification]);\r\n\r\n  // console.log(alertMessage);\r\n\r\n  // useEffect(() => {\r\n  //   setMsgCount(\r\n  //     () =>\r\n  //       alertMessage?.filter(\r\n  //         (i) => i.status === 'newMsg' && i.wa_id == conversation?.wa_id\r\n  //       ).length\r\n  //   );\r\n  // }, [alertMessage, alertMsg, newNotification]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setShowMenu(!showMenu);\r\n  };\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n    setTutorDeadline(conversation?.tutor_deadline);\r\n    setTutorDuration(conversation?.tutor_duration);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setCheck([]);\r\n    setChecked(false);\r\n  };\r\n\r\n  const handleOpenRefundWindow = () => {\r\n    setOpenRefundWin(true);\r\n  };\r\n\r\n  const handleCloseRefundWindow = () => {\r\n    setOpenRefundWin(false);\r\n  };\r\n\r\n  const handlePlinkupdate = async () => {\r\n    try{\r\n    const resPlink = await axios.get(\r\n      `${localStorage.getItem('api')}/api/payments/getPaymentLink/${conversation.plink_id}`,\r\n      {\r\n        headers: {\r\n          ...payHeaders,\r\n        },\r\n      }\r\n    );\r\n    if(resPlink){\r\n      setPaymentStatusCheck(\"\")\r\n    }else{\r\n      setPaymentStatusCheck(\"Error getting plink\");\r\n    }\r\n    \r\n\r\n    const resValink = await axios.get(\r\n      `${localStorage.getItem('api')}/api/payments/virtual_accounts/${conversation.va_id}/payments`,\r\n      {\r\n        headers: {\r\n          ...payHeaders,\r\n        },\r\n      }\r\n    );\r\n\r\n      if(resValink){\r\n        setPaymentStatusCheck(\"\")\r\n      }else{\r\n        setPaymentStatusCheck(\"Error in getting Va\");\r\n      }\r\n\r\n    let paymLinkAr = [];\r\n    resPlink?.data?.payments?.map(async (el) => {\r\n      paymLinkAr.push({payment_id: el?.payment_id, type:\"plink\"});\r\n    });\r\n    \r\n    resValink?.data?.items?.map(async (el) => {\r\n      paymLinkAr.push({payment_id: el?.id, type:\"vpa\"});\r\n    });\r\n    \r\n\r\n    const savePaymentInfo = await axios.post(\r\n      `${localStorage.getItem(\"api\")}/api/sessions/refreshPaymentInfo`,\r\n      {\r\n        session_id: conversation.session_id,\r\n        plink_id: conversation.plink_id,\r\n        paymentIdAr: paymLinkAr,\r\n        payment_status: resPlink?.data?.status,\r\n      },\r\n      {\r\n        headers: {\r\n          ...payHeaders,\r\n        },\r\n      }\r\n    );\r\n    console.log({ resPlink });\r\n    if(savePaymentInfo){\r\n      setPaymentStatusCheck(\"success\");\r\n      setUpdated(!updated);\r\n      toast.success(`Updated payment informations successfully!`, {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    }else{\r\n      setPaymentStatusCheck(\"Error in updating\");\r\n    }\r\n  }catch(err){\r\n    toast.error(`Something went wrong while updating payment informations!`, {\r\n      position: \"top-right\",\r\n      autoClose: 3000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n  };\r\nconsole.log({paymentStatusCheck})\r\n  // const handleVaUpdate = async () => {\r\n  //   const resVa = await axios.get(\r\n  //     `https://annular-arena-331607.el.r.appspot.com/api/payments/virtual_accounts/${conversation.va_id}`,\r\n  //     {\r\n  //       headers: {\r\n  //         ...payHeaders,\r\n  //       },\r\n  //     }\r\n  //   );\r\n  //  console.log({resVa:resVa.data})\r\n  //   // let paymLinkAr = [];\r\n  //   // resPlink?.data?.payments?.map(async (el) => {\r\n  //   //   paymLinkAr.push(el?.payment_id);\r\n  //   // });\r\n\r\n  //   // const savePaymentInfo = await axios.post(\r\n  //   //   \"http://localhost:8800/api/sessions/refreshPaymentInfo\",\r\n  //   //   {\r\n  //   //     session_id: conversation.session_id,\r\n  //   //     plink_id: conversation.plink_id,\r\n  //   //     paymentIdAr: paymLinkAr,\r\n  //   //     payment_status: resPlink?.data?.status,\r\n  //   //   },\r\n  //   //   {\r\n  //   //     headers: {\r\n  //   //       ...payHeaders,\r\n  //   //     },\r\n  //   //   }\r\n  //   // );\r\n  //   // console.log({ resPlink });\r\n  // };\r\n\r\n  // const handleVaUpdate =()=>{\r\n  //   createVirtualAcc()\r\n\r\n  // }\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  //fetch virtual account's all payment details\r\n  useEffect(() => {\r\n    // const getVirtualAccount = async () => {\r\n    //   const res = await axios.get(\r\n    //     `https://annular-arena-331607.el.r.appspot.com/api/payments/virtual_accounts/${conversation?.va_id}/payments`,\r\n    //     {\r\n    //       headers: { ...payHeaders },\r\n    //     }\r\n    //   );\r\n    //   setVirtualAccPayments(res?.data?.items);\r\n    // };\r\n    const getClient = async () => {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem(\"api\")}/api/sessions/getclientinfo/${\r\n          conversation?.client_id\r\n        }`\r\n      );\r\n      setClientInfo(res?.data);\r\n    };\r\n\r\n    //saving tutorpayment status\r\n    const updateTutorPaymentStatus = async (status) => {\r\n      const payload = {\r\n        tutor_payment_status: status,\r\n      };\r\n      try {\r\n        const res = await axios.put(\r\n          `${localStorage.getItem(\r\n            \"api\"\r\n          )}/api/sessions/updateTutorPaymentStatus/${conversation?.session_id}`,\r\n          payload\r\n        );\r\n        console.log(res);\r\n        // setUpdated(!updated);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    // if(conversation?.va_id) {\r\n    //   getVirtualAccount();\r\n    // }\r\n    getClient();\r\n    if (\r\n      conversation?.tutor_payment_status != \"paid\" &&\r\n      conversation?.assigned_tutors &&\r\n      conversation?.assigned_tutors?.filter(\r\n        (e) => e?.tutor_unassigned == \"assigned\"\r\n      )?.length > 0 &&\r\n      conversation?.assigned_tutors?.filter(\r\n        (e) => e?.tutor_unassigned == \"assigned\"\r\n      )?.length ==\r\n        conversation?.assigned_tutors\r\n          ?.filter((e) => e?.tutor_unassigned == \"assigned\")\r\n          ?.filter(\r\n            (f) =>\r\n              f?.pout_info?.filter((f) => f.status == \"processed\").length > 0\r\n          ).length\r\n    ) {\r\n      updateTutorPaymentStatus(\"paid\");\r\n    }\r\n  }, []);\r\n\r\n  // payment methods generation for client\r\n  // razorpay link\r\n  const getnewPaymentLink = async () => {\r\n    try {\r\n      const payload = {\r\n        reference_id: \"ssn_ref\" + Math.floor(new Date().getTime() / 1000.0),\r\n        session_id: conversation?.session_id,\r\n        amount: selectClientAmount * 100,\r\n        currency: selectCurrency,\r\n        show_default_blocks: paypalOption,\r\n      };\r\n      const res = await axios.post(\r\n        `${localStorage.getItem('api')}/api/sessions/new-payment-link`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            ...payHeaders,\r\n          },\r\n        }\r\n      );\r\n      const paymentPayload = {\r\n        name: \"\",\r\n        from: \"\",\r\n        wa_id: conversation?.client_waId,\r\n        templateName: `clientprice_setting_${WAID}`,\r\n        templateText:\r\n          \"Hi *{{1}}*, This is Tutorpoint\\n\\nWe have set the price for the session with Session ID - {{2}}\\nThe price is {{3}} {{4}}.\\nPlease click on the button below to get back to the details and pay the required amount\",\r\n        template: {\r\n          namespace: NAME_SPACE,\r\n          language: \"en\",\r\n        },\r\n        param1: \"Price Quoted for Session \" + conversation?.session_id,\r\n        param2: conversation?.client_name,\r\n        param3: conversation?.session_id,\r\n        param4: selectClientAmount,\r\n        param5: selectCurrency,\r\n        param6: `d${deviceNo}/live-session-form/${conversation?.session_id}/${conversation?.client_id}`,\r\n        button: \"\",\r\n        timestamp: \"\",\r\n        operatorName: \"\",\r\n        isOwner: true,\r\n        status: \"\",\r\n        ticketId: \"\",\r\n        eventType: \"template\",\r\n      };\r\n      const sendNewPaymentMsg = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/messages/new-payment-notification`,\r\n        paymentPayload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      // setPaymentLink(res?.data?.result);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  // vpa details\r\n  const createVirtualAcc = async () => {\r\n    try {\r\n      const payload = {\r\n        session_id: conversation?.session_id,\r\n        receivers: {\r\n          types: [\"bank_account\", \"vpa\"],\r\n        },\r\n        description: \"Virtual Account created for tutorpoint\",\r\n        close_by: 1681615838,\r\n        notes: {\r\n          project_name: \"Banking Software\",\r\n        },\r\n      };\r\n      const res = await axios.post(\r\n        `${localStorage.getItem('api')}/api/payments/virtual_accounts`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            ...payHeaders,\r\n          },\r\n        }\r\n      );\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  // paypal link\r\n  // const createPaypalLink = async () => {\r\n  //   try {\r\n  //     const payload = {\r\n  //       session_id: conversation?.session_id,\r\n  //       invoice_number: `#${conversation?.session_id}`,\r\n  //       reference: `ED${conversation?.client_id}`,\r\n  //       invoice_date: new Date().toISOString().slice(0, 10),\r\n  //       // payment_due_date: new Date(moment(new Date()).add(10, 'days').calendar()).toISOString().slice(0, 10),\r\n  //       client_name: clientInfo?.client_name,\r\n  //       client_email: clientInfo?.email,\r\n  //       item_name: `${conversation?.subject.toUpperCase()} ${conversation?.type}`,\r\n  //       amount: (conversation?.client_amount/100).toString(),\r\n  //       currency: conversation?.currency\r\n  //     };\r\n  //     const res = await axios.post(`${localStorage.getItem('api')}/api/payments/paypal/invoicing`, payload, {\r\n  //       headers: {\r\n  //         ...paypalHeaders,\r\n  //       },\r\n  //     });\r\n  //     console.log(res);\r\n  //     const payload_ = {\r\n  //       session_id: conversation?.session_id,\r\n  //       href: res?.data?.href\r\n  //     };\r\n  //     const paypal_link = await axios.post(`${localStorage.getItem('api')}/api/payments/paypal/send-invoice`, payload_, {\r\n  //       headers: {\r\n  //         ...paypalHeaders,\r\n  //       },\r\n  //     });\r\n  //     console.log(paypal_link);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n  // paypal link activation/inactivation\r\n  // const handleChangePaypalStatus = async (event) => {\r\n  //   setCheckPaypal(event.target.checked);\r\n  //   if(!conversation?.paypal_url) {\r\n  //     await createPaypalLink();\r\n  //   }\r\n  //   const payload = {\r\n  //     show_paypal_url: !checkPaypal,\r\n  //   };\r\n  //   await axios.put(\r\n  //     `${localStorage.getItem('api')}/api/sessions/active-inactive-paypal_link/${conversation?.session_id}`,\r\n  //     payload\r\n  //   );\r\n  // };\r\n\r\n  const clientAmtHandler = async () => {\r\n    if (selectClientAmount) {\r\n      setDisableUpdate(true);\r\n      await getnewPaymentLink();\r\n      await createVirtualAcc();\r\n      setIsEditClientAmt(false);\r\n      setDisableUpdate(false);\r\n      setUpdated(!updated);\r\n    }\r\n  };\r\n\r\n  const handleCheckPayPal = (event) => {\r\n    setPaypalOption(event.target.checked);\r\n  };\r\n  const tutorAmtHandler = async () => {\r\n    setDisableUpdateTutor(true);\r\n    const payload = {\r\n      session_id: conversation?.session_id,\r\n      tutor_dealt_amount: tutorDealtAmount * 100,\r\n    };\r\n    try {\r\n      const response = await axios.put(\r\n        `${localStorage.getItem(\"api\")}/api/sessions/update-tutor-amount`,\r\n        payload\r\n      );\r\n      setDisableUpdateTutor(false);\r\n      setEditTutorAmt(false);\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setDisableUpdateTutor(false);\r\n    }\r\n  };\r\n\r\n  const handleTutorList = async (event, value) => {\r\n    if (searchTutor) {\r\n      setTutorListLoading(true);\r\n      setTutorPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors/${searchTutor}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: \"\",\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setTutorList(res.data.result);\r\n        setTutorListLoading(false);\r\n        setChecked(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setTutorListLoading(true);\r\n      setTutorPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: \"\",\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setTutorList(res.data.result);\r\n        setTutorListLoading(false);\r\n        setChecked(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCheck = (tutor) => {\r\n    if (check?.find((element) => element.wa_id == tutor.wa_id)) {\r\n      let index = check?.findIndex((element) => {\r\n        if (element.wa_id === tutor.wa_id) {\r\n          return true;\r\n        }\r\n      });\r\n      console.log(index);\r\n      // let index = check.indexOf(val);\r\n      let removedNo = check.splice(index, 1);\r\n      console.log(check);\r\n      setCheck(check);\r\n      console.log(removedNo);\r\n      setRemovedNum(removedNo[0].wa_id);\r\n      setColor(false);\r\n    } else {\r\n      setCheck([...check, tutor]);\r\n      setColor(true);\r\n    }\r\n  };\r\n  console.log(check);\r\n\r\n  const shortText = (text) => {\r\n    if (text.length > 16) {\r\n      return `${text.slice(0, 16)}..`;\r\n    } else if (text.length <= 16) {\r\n      return text;\r\n    }\r\n  };\r\n\r\n  const notify = (msg) =>\r\n    toast.error(`Failed to send WhatsApp notification to ${msg}`, {\r\n      position: \"top-right\",\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  // send template message\r\n  const sendTemplateAlert = async () => {\r\n    setShowSendTemplate(false);\r\n    // setTutorListLoading(true);\r\n    setSendingText(true);\r\n    try {\r\n      const payload1 = {\r\n        sessionId: conversation?.session_id,\r\n        tutor_deadline: tutorDeadline,\r\n        tutor_duration: tutorDuration,\r\n      };\r\n      const res = await axios.put(\r\n        `${localStorage.getItem(\"api\")}/api/sessions/set-tutor-deadline`,\r\n        payload1\r\n      );\r\n      for (let i = 0; i < check.length; i++) {\r\n        const payload = {\r\n          name: check[i].name,\r\n          from: \"\",\r\n          wa_id: check[i].wa_id,\r\n          templateName:\r\n            conversation.type == \"Live Session\"\r\n              ? `live_session_tutor_notify_${WAID}`\r\n              : conversation.type == \"Assignment\" || conversation.type == 'Project'\r\n              ? `assign_session_tutor_notify_${WAID}`\r\n              : \"\",\r\n          templateText: `Hey ! We have a session for you. \\n\\nSession ID : ${conversation?.session_id}\\nSubject/Topic name is *{{2}}* \\nDate and Time is *{{3}}* \\nDuration is *{{4}}*  \\nWe will pay you *{{5}}* \\n\\nPlease check the study materials by pressing the button below. Are you confident in this subject? Can you perform very well in this session? If yes, then press on the below button to show your interest. \\n\\nPlease wait after you show your interest. We will get back to you shortly to get your confirmation for this session. \\nDisclaimer:  \\n*1.Never take these sessions casually. They impact your ratings.*  \\n*2. Showing interest doesn't mean that we have assigned the session to you.*  \\n\\nTo stop receiving Whatsapp notifications from us, send an official email to us.`,\r\n          template: {\r\n            namespace: NAME_SPACE,\r\n            language: \"en\",\r\n          },\r\n          param1: \"New \" + conversation?.type + \" Available\",\r\n          param2:\r\n            conversation?.type.slice(0, 4).toUpperCase() +\r\n            conversation?.session_id,\r\n          param3: conversation?.subject.toUpperCase(),\r\n          param4: new Date(\r\n            tutorDeadline ? tutorDeadline : conversation?.deadline\r\n          ).toLocaleString(),\r\n          param5:\r\n            (tutorDuration ? tutorDuration : conversation?.duration) +\r\n            \" (hh : mm)\",\r\n          param6: `${conversation?.tutor_dealt_amount / 100} INR`,\r\n          param7: `d${deviceNo}/tutorForm/${conversation?.session_id}/${check[i].tutor_id}`,\r\n          button: \"\",\r\n          timestamp: \"\",\r\n          operatorName: \"\",\r\n          isOwner: true,\r\n          status: \"\",\r\n          ticketId: \"\",\r\n          eventType: \"template\",\r\n        };\r\n        try {\r\n        await axios\r\n          .post(\r\n            `${localStorage.getItem(\"api\")}/api/messages/tutorTemplate`,\r\n            payload,\r\n            {\r\n              headers: \"\",\r\n            }\r\n          )\r\n          .then(\r\n            async (res) => {\r\n              console.log(res);\r\n              // email notification\r\n              if (check[i].email) {\r\n                /* whatsapp and email both */\r\n                const payload2 = {\r\n                  name: check[i].name,\r\n                  email: check[i].email,\r\n                  tutorId: check[i].tutor_id,\r\n                  sessionId: conversation?.session_id,\r\n                  wa_id: check[i].wa_id,\r\n                  templateName:\r\n                    conversation.type == \"Live Session\"\r\n                      ? `live_session_tutor_notify_${WAID}`\r\n                      : conversation.type == \"Assignment\"  || conversation.type == 'Project'\r\n                      ? `assign_session_tutor_notify_${WAID}`\r\n                      : \"\",\r\n                  param1: \"New \" + conversation?.type + \" Available\",\r\n                  param2:\r\n                    conversation?.type.slice(0, 4).toUpperCase() +\r\n                    conversation?.session_id,\r\n                  param3: conversation?.subject.toUpperCase(),\r\n                  param4: new Date(\r\n                    tutorDeadline ? tutorDeadline : conversation?.deadline\r\n                  ).toLocaleString(),\r\n                  param5:\r\n                    (tutorDuration ? tutorDuration : conversation?.duration) +\r\n                    \" (hh : mm)\",\r\n                  param6: `${conversation?.tutor_dealt_amount / 100} INR`,\r\n                  param7: `d${deviceNo}/tutorForm/${conversation?.session_id}/${check[i].tutor_id}`,\r\n                };\r\n                await axios.post(\r\n                  `${localStorage.getItem(\r\n                    \"api\"\r\n                  )}/api/sessions/tutorEmailNotification`,\r\n                  payload2,\r\n                  {\r\n                    headers: \"\",\r\n                  }\r\n                );\r\n\r\n                const paydata = {\r\n                  session_id: conversation.session_id,\r\n                  notified_tutors: { name: check[i]?.name, wa_id: check[i]?.wa_id, tutor_id: check[i]?.tutor_id, timestamp: Math.floor(Date.now() / 1000), medium: 'wa-mail'}\r\n                };\r\n                const res2 = await axios.post(\r\n                  `${localStorage.getItem(\r\n                    \"api\"\r\n                  )}/api/sessions/updateNotifiedTutors`,\r\n                  paydata,\r\n                  {\r\n                    headers: \"\",\r\n                  }\r\n                );\r\n                console.log(res2);\r\n              } else {\r\n                /* only whatsapp */\r\n                const paydata = {\r\n                  session_id: conversation.session_id,\r\n                  notified_tutors: { name: check[i]?.name, wa_id: check[i]?.wa_id, tutor_id: check[i]?.tutor_id, timestamp: Math.floor(Date.now() / 1000), medium: 'wa'}\r\n                };\r\n                const res2 = await axios.post(\r\n                  `${localStorage.getItem(\r\n                    \"api\"\r\n                  )}/api/sessions/updateNotifiedTutors`,\r\n                  paydata,\r\n                  {\r\n                    headers: \"\",\r\n                  }\r\n                );\r\n                console.log(res2);\r\n              }\r\n            },\r\n            async (error) => {\r\n              console.log(error);\r\n              notify(check[i].name);\r\n              /* only email */\r\n              const payload2 = {\r\n                name: check[i].name,\r\n                email: check[i].email,\r\n                tutorId: check[i].tutor_id,\r\n                sessionId: conversation?.session_id,\r\n                wa_id: check[i].wa_id,\r\n                templateName:\r\n                  conversation.type == \"Live Session\"\r\n                    ? `live_session_tutor_notify_${WAID}`\r\n                    : conversation.type == \"Assignment\"  || conversation.type == 'Project'\r\n                    ? `assign_session_tutor_notify_${WAID}`\r\n                    : \"\",\r\n                param1: \"New \" + conversation?.type + \" Available\",\r\n                param2:\r\n                  conversation?.type.slice(0, 4).toUpperCase() +\r\n                  conversation?.session_id,\r\n                param3: conversation?.subject.toUpperCase(),\r\n                param4: new Date(\r\n                  tutorDeadline ? tutorDeadline : conversation?.deadline\r\n                ).toLocaleString(),\r\n                param5:\r\n                  (tutorDuration ? tutorDuration : conversation?.duration) +\r\n                  \" (hh : mm)\",\r\n                param6: `${conversation?.tutor_dealt_amount / 100} INR`,\r\n                param7: `d${deviceNo}/tutorForm/${conversation?.session_id}/${check[i].tutor_id}`,\r\n                medium: \"mail\",\r\n                notified_tutors: { name: check[i]?.name, wa_id: check[i]?.wa_id, tutor_id: check[i]?.tutor_id, timestamp: Math.floor(Date.now() / 1000), medium: 'mail'}\r\n              };\r\n              await axios.post(\r\n                `${localStorage.getItem(\r\n                  \"api\"\r\n                )}/api/sessions/tutorEmailNotification`,\r\n                payload2,\r\n                {\r\n                  headers: \"\",\r\n                }\r\n              );\r\n\r\n              // setShowSendTemplate(true);\r\n              // setTutorListLoading(false);\r\n            }\r\n          );\r\n\r\n        //send push notification to app\r\n        let payloadTutor = {\r\n          tutor_id: check[i].tutor_id,\r\n        }\r\n        if(check[i]?.device_type === 'tp') { \r\n          await axios.post(`https://device6chatapi.el.r.appspot.com/api/tutor/increaseNotificationCount`, payloadTutor, {\r\n          headers: '',\r\n          });\r\n        }\r\n\r\n        // setTimeout(() => {\r\n        //   console.log('This will run after 0.1 second!');\r\n        //   setSent(!sent);\r\n        // }, 100);\r\n        // setShowTemplateMsg(false);\r\n\r\n        } catch (err) {\r\n          console.log(err);\r\n          setShowSendTemplate(true);\r\n          // alert('Failed to send template message!');\r\n        }\r\n      }\r\n      const workStatusPayload = {\r\n        status: \"Tutors Notified\",\r\n      };\r\n      const res3 = await axios.put(\r\n        `${localStorage.getItem(\"api\")}/api/sessions/updateSessionStatus/${\r\n          conversation?.session_id\r\n        }`,\r\n        workStatusPayload,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setOpen(false);\r\n      setCheck([]);\r\n      setChecked(false);\r\n      setShowSendTemplate(true);\r\n      setUpdated(!updated);\r\n      // setTutorListLoading(false);\r\n      setSendingText(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setShowSendTemplate(true);\r\n      // setTutorListLoading(false);\r\n      setSendingText(false);\r\n      alert(\"Failed to send notification!\");\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (check.length >= 0 && checked === false) {\r\n      let arr = [];\r\n      tutorList?.filter((f) => f?.tutor_status == \"active\").forEach((e) => {\r\n        // let obj = {\r\n        //   wa_id: e.wa_id,\r\n        //   tutor_id: e.tutor_id,\r\n        //   name: e.name,\r\n        //   rating: e.rating,\r\n        // };\r\n        if (!check.find((f) => f.wa_id == e.wa_id)) {\r\n          arr.push(e);\r\n        }\r\n      });\r\n      setCheck([...check, ...arr]);\r\n      setChecked(true);\r\n    } else if (checked) {\r\n      setCheck([]);\r\n      setChecked(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseSessionDetails = () => {\r\n    setShowSessionDetails(false);\r\n    setEdit(false);\r\n    setReload(!reload);\r\n  };\r\n  const handleOpenSessionDetails = () => {\r\n    setReload(!reload);\r\n    setShowSessionDetails(true);\r\n  };\r\n\r\n  const handleChangeStatus = async (event) => {\r\n    setTaskStatus(event.target.value);\r\n    console.log(event.target.value);\r\n    if (event.target.value) {\r\n      const payload = {\r\n        status: event.target.value,\r\n      };\r\n      let payload1;\r\n      if (event.target.value === \"Completed\") {\r\n        payload1 = {\r\n          clientId: conversation?.client_id,\r\n          sessionId: conversation?.session_id,\r\n          sessionStatus: \"completed\",\r\n        };\r\n      } else {\r\n        payload1 = {\r\n          clientId: conversation?.client_id,\r\n          sessionId: conversation?.session_id,\r\n          sessionStatus: event.target.value,\r\n        };\r\n      }\r\n      try {\r\n        const res = await axios.put(\r\n          `${localStorage.getItem(\"api\")}/api/sessions/updateSessionStatus/${\r\n            conversation.session_id\r\n          }`,\r\n          payload\r\n        );\r\n        const resSolnFolderAccess = await axios.post(\r\n          `${localStorage.getItem(\"api\")}/api/sessions/solutionFolderAccess`,\r\n          payload1\r\n        );\r\n        if (resSolnFolderAccess) {\r\n          console.log({\r\n            resultSolutionAccess: resSolnFolderAccess.data.driveType,\r\n          });\r\n        } else {\r\n          console.log(\"drive permission doesnot change\");\r\n        }\r\n        // cancel tutors after session is completed\r\n        if (\r\n          event.target.value === \"Solution Sent\" &&\r\n          conversation?.notified_tutors.length > 0\r\n        ) {\r\n          try {\r\n            //   for(let i = 0; i < conversation?.notified_tutors.length; i++) {\r\n            //   const _payload_ = {\r\n            //     status: true,\r\n            //   }\r\n            //   const res = await axios.put(`https://annular-arena-331607.el.r.appspot.com/api/sessions/cancelNotifiedTutor/${conversation?.session_id}/${conversation?.notified_tutors[i].tutor_id}`, _payload_, {\r\n            //     headers: ''\r\n            //   });\r\n            // }\r\n            let payload2 = {\r\n              name: conversation?.client_name,\r\n              from: \"\",\r\n              wa_id: conversation?.client_waId,\r\n              templateName: \"session_done\",\r\n              templateText: `Hi ${conversation?.client_name}, The session with Session ID- ${conversation?.session_id} is completed now. You can view the solution by clicking the Solution button below.`,\r\n              template: {\r\n                namespace: NAME_SPACE,\r\n                language: \"en\",\r\n              },\r\n              param1: conversation?.session_id,\r\n              param2: conversation?.client_name,\r\n              param3: conversation?.session_id,\r\n              param4: conversation?.folderlink.replace(\r\n                \"https://drive.google.com/\",\r\n                \"\"\r\n              ),\r\n              button: \"\",\r\n              timestamp: \"\",\r\n              operatorName: \"\",\r\n              isOwner: true,\r\n              status: \"\",\r\n              ticketId: \"\",\r\n              eventType: \"template\",\r\n            };\r\n            await axios.post(\r\n              `${localStorage.getItem(\r\n                \"api\"\r\n              )}/api/messages/sessionCompleteTemplate`,\r\n              payload2,\r\n              {\r\n                headers: \"\",\r\n              }\r\n            );\r\n            setUpdated(!updated);\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n        }\r\n        setTaskStatus(event.target.value);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  const descriptionElementRef_ = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (showSessionDetails) {\r\n      const { current: descriptionElement } = descriptionElementRef_;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [showSessionDetails]);\r\n\r\n  const agentCommentHandler = async (event) => {\r\n    event.preventDefault();\r\n    if (agentComment) {\r\n      const payload = {\r\n        session_id: conversation.session_id,\r\n        agent_comments: {\r\n          agent_comment: agentComment,\r\n          timestamp: new Date().toISOString(),\r\n        },\r\n      };\r\n      try {\r\n        const res = await axios.put(\r\n          `${localStorage.getItem(\"api\")}/api/sessions/saveAgentComment`,\r\n          payload\r\n        );\r\n        console.log(res);\r\n        setAgentComment(\"\");\r\n        setUpdated(!updated);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleInitiateRefund = async (payId) => {\r\n    try {\r\n      const payload = {\r\n        amount: +refundAmount * 100,\r\n      };\r\n\r\n      const resp1 = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/payments/initiate-refund/${payId}`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            ...payHeaders,\r\n          },\r\n        }\r\n      );\r\n\r\n      const payload2 = {\r\n        refundInfo: resp1.data,\r\n      };\r\n      const resp = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/payments/refund/${\r\n          conversation?.session_id\r\n        }/${payId}`,\r\n        payload2,\r\n        {\r\n          headers: \"\",\r\n        }\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  console.log(clientPayment);\r\n\r\n  // change session payment status manually\r\n  const handleSessionPaymentStatus = async (event) => {\r\n    // console.log(event.target.checked);\r\n    // setSessionPayment(event.target.checked);\r\n    try {\r\n      const payload = {\r\n        sessionId: conversation?.session_id,\r\n        payment_status: event.target.checked ? \"paid\" : \"not_paid\",\r\n      };\r\n      const res = await axios.put(\r\n        `${localStorage.getItem(\r\n          \"api\"\r\n        )}/api/sessions/update-session-payment-status`,\r\n        payload\r\n      );\r\n      setUpdated(!updated);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const snackBarPos = {\r\n    vertical: \"top\",\r\n    horizontal: \"center\",\r\n  };\r\n  const { vertical, horizontal } = snackBarPos;\r\n\r\n  const [alertText_, setAlertText_] = useState(\"\");\r\n  const [openSnackBar, setOpenSnackBar] = useState(false);\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  // validate contact\r\n  const handleContactValidate = async (waId) => {\r\n    let payload = {\r\n      wa_id: `+${waId}`,\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        `${localStorage.getItem(\"api\")}/api/conversations/contactValidation`,\r\n        payload\r\n      );\r\n      setOpenSnackBar(true);\r\n      setAlertText_(res.data.contacts[0].status + \" contact\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleTutorDeadline = (e) => {\r\n    if (new Date(e.target.value) < new Date(conversation?.deadline)) {\r\n      setTutorDeadline(e.target.value);\r\n    } else {\r\n      alert(\"Tutor deadline must be before the session deadline!\");\r\n    }\r\n  };\r\n\r\n  const today = new Date();\r\n  let after2days = new Date();\r\n  after2days.setDate(today.getDate() + 2);\r\n\r\n  // console.log(conversation?.assigned_tutors?.map(i => i?.pout_info?.amount).filter((e) => { return e !== undefined }).reduce((a, b) => a + b, 0))\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          conversation.type == \"Live Session\"\r\n            ? \"sessionlist live\"\r\n            : conversation.type == \"Assignment\"\r\n            ? \"sessionlist\"\r\n            : conversation.type == \"Project\"\r\n            ? \"sessionlist project\"\r\n            : \"sessionlist notFilled\"\r\n        }\r\n        // onClick={() => {\r\n        //   updateAlert(conversation?.wa_id);\r\n        // }}\r\n      >\r\n        <div style={{ marginBottom: \"-4px\" }} className=\"userTab_\">\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"38%\" }}>\r\n            <div style={{ height: \"22px\", fontSize: \"13px\" }}>SI:</div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"bolder\",\r\n              }}\r\n            >\r\n              &nbsp;{conversation?.session_id}\r\n              <HtmlTooltip\r\n                placement=\"right\"\r\n                title={\r\n                  <>\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                      Subject:{\" \"}\r\n                      <span style={{ fontSize: \"12px\", fontWeight: \"normal\" }}>\r\n                        {conversation?.subject}\r\n                      </span>\r\n                    </Typography>\r\n                    {conversation?.client_comments && (\r\n                      <Typography\r\n                        color=\"inherit\"\r\n                        style={{\r\n                          fontSize: \"13.5px\",\r\n                          fontWeight: \"600\",\r\n                          marginBottom: \"5px\",\r\n                        }}\r\n                      >\r\n                        Work Details:{\" \"}\r\n                        <span\r\n                          style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                        >\r\n                          {conversation?.client_comments}\r\n                        </span>\r\n                      </Typography>\r\n                    )}\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                      Created At:{\" \"}\r\n                      <span style={{ fontSize: \"12px\", fontWeight: \"normal\" }}>\r\n                        {new Date(conversation?.createdAt).toLocaleDateString(\r\n                          \"en-IN\"\r\n                        ) + moment(conversation?.createdAt).format(\", h:mm a\")}\r\n                      </span>\r\n                    </Typography>\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                      Updated At:{\" \"}\r\n                      <span style={{ fontSize: \"12px\", fontWeight: \"normal\" }}>\r\n                        {new Date(conversation?.updatedAt).toLocaleDateString(\r\n                          \"en-IN\"\r\n                        ) + moment(conversation?.updatedAt).format(\", h:mm a\")}\r\n                      </span>\r\n                    </Typography>\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                      Tutor Deadline:{\" \"}\r\n                      <span style={{ fontSize: \"12px\", fontWeight: \"normal\" }}>\r\n                        {new Date(\r\n                          conversation?.tutor_deadline\r\n                        ).toLocaleDateString(\"en-IN\") +\r\n                          moment(conversation?.tutor_deadline).format(\r\n                            \", h:mm a\"\r\n                          )}\r\n                      </span>\r\n                    </Typography>\r\n                    <Typography\r\n                      color=\"inherit\"\r\n                      style={{\r\n                        fontSize: \"13.5px\",\r\n                        fontWeight: \"600\",\r\n                        marginBottom: \"5px\",\r\n                      }}\r\n                    >\r\n                      Form Creator:{\" \"}\r\n                      <span style={{ fontSize: \"12px\", fontWeight: \"normal\" }}>\r\n                        {conversation?.opExecutive ? conversation?.opExecutive : 'N/A'}\r\n                      </span>\r\n                    </Typography>\r\n                  </>\r\n                }\r\n              >\r\n                <InfoIcon\r\n                  fontSize=\"small\"\r\n                  style={{\r\n                    fontSize: \"12px\",\r\n                    cursor: \"pointer\",\r\n                    marginLeft: \"1px\",\r\n                  }}\r\n                />\r\n              </HtmlTooltip>\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"24%\" }}>\r\n            <div style={{ height: \"22px\", fontSize: \"13px\" }}>CI:</div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"bolder\",\r\n              }}\r\n            >\r\n              &nbsp;{conversation.client_id}\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: \"38%\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"end\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"800\",\r\n              maxWidth: \"100px\",\r\n              textAlign: \"center\",\r\n              // marginTop: '15px',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignSelf: \"center\",\r\n                cursor: \"pointer\",\r\n                marginRight: \"4px\",\r\n              }}\r\n            >\r\n              {interestedTutors &&\r\n                interestedTutors?.find(\r\n                  (i) => i.session_id == conversation.session_id\r\n                ) && <div className=\"circle red\"></div>}\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignSelf: \"center\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={handleClickOpen(\"paper\")}\r\n            >\r\n              {/* {interestedTutors && interestedTutors.find(i => i.session_id == conversation.session_id) ? <NotificationsActiveIcon /> : <NotificationsIcon />} */}\r\n              {conversation.notified_tutors &&\r\n              conversation.tutor_interested &&\r\n              conversation.notified_tutors.length > 0 &&\r\n              conversation.tutor_interested.length > 0 ? (\r\n                <CircleNotificationsIcon fontSize=\"small\" />\r\n              ) : conversation.notified_tutors &&\r\n                conversation.notified_tutors.length > 0 ? (\r\n                <NotificationsActiveIcon fontSize=\"small\" />\r\n              ) : (\r\n                <NotificationsIcon fontSize=\"small\" />\r\n              )}\r\n              {conversation?.assigned_tutors &&\r\n              conversation.assigned_tutors.length > 0 &&\r\n              conversation?.assigned_tutors[0].acceptance_status ==\r\n                \"accepted\" ? (\r\n                <AssignmentTurnedInIcon\r\n                  fontSize=\"small\"\r\n                  color=\"success\"\r\n                  style={{ marginLeft: \"1px\" }}\r\n                />\r\n              ) : (\r\n                conversation.assigned_tutors &&\r\n                conversation.assigned_tutors.length > 0 && (\r\n                  <AssignmentTurnedInIcon\r\n                    fontSize=\"small\"\r\n                    style={{ marginLeft: \"1px\" }}\r\n                  />\r\n                )\r\n              )}\r\n            </div>\r\n            <Dialog\r\n              open={open}\r\n              onClose={handleClose}\r\n              scroll={scroll}\r\n              aria-labelledby=\"scroll-dialog-title\"\r\n              aria-describedby=\"scroll-dialog-description\"\r\n            >\r\n              <DialogTitle\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                  padding: \"16px 10px 10px 24px\",\r\n                }}\r\n                id=\"scroll-dialog-title\"\r\n              >\r\n                TUTOR LIST\r\n                {/* <Checkbox size='medium' color='success' /> */}\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  style={{\r\n                    width: \"130px\",\r\n                    outline: \"none\",\r\n                    borderRadius: \"3px\",\r\n                    border: \"1px solid gray\",\r\n                    fontFamily: \"inherit\",\r\n                  }}\r\n                  value={tutorDeadline}\r\n                  onChange={handleTutorDeadline}\r\n                />\r\n                {conversation?.type == \"Live Session\" && (\r\n                  <NumberFormat\r\n                    style={{\r\n                      width: \"60px\",\r\n                      outline: \"none\",\r\n                      borderRadius: \"3px\",\r\n                      border: \"1px solid gray\",\r\n                    }}\r\n                    format=\"## : ##\"\r\n                    placeholder=\"Duration\"\r\n                    value={tutorDuration}\r\n                    onChange={(e) => setTutorDuration(e.target.value)}\r\n                    autoComplete=\"off\"\r\n                  />\r\n                )}\r\n                <FormControlLabel\r\n                  label=\"SELECT ALL\"\r\n                  control={\r\n                    <Checkbox\r\n                      size=\"medium\"\r\n                      color=\"success\"\r\n                      checked={checked}\r\n                      // indeterminate={checked[0] !== checked[1]}\r\n                      onChange={handleSelectAll}\r\n                    />\r\n                  }\r\n                />\r\n              </DialogTitle>\r\n              <DialogTitle\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                  padding: \"0px 7px 15px 24px\",\r\n                }}\r\n              >\r\n                <input\r\n                  placeholder=\"Search for tutors\"\r\n                  className=\"chatMenuInput\"\r\n                  // onChange={(e) => handleSearchTutors(e)}\r\n                  onKeyPress={handleSearchTutors}\r\n                />\r\n              </DialogTitle>\r\n              <DialogContent\r\n                dividers={scroll === \"paper\"}\r\n                style={{ padding: \"16px 0px\" }}\r\n              >\r\n                {tutorListLoading ? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      padding: \"255px 210px\",\r\n                    }}\r\n                  >\r\n                    <CircularProgress />\r\n                  </div>\r\n                ) : (\r\n                  <DialogContentText\r\n                    id=\"scroll-dialog-description\"\r\n                    ref={descriptionElementRef}\r\n                    tabIndex={-1}\r\n                  >\r\n                    <>\r\n                      {tutorList\r\n                        ?.filter((f) => f?.tutor_status == \"active\")\r\n                        ?.map((tutor, index) => {\r\n                          return (\r\n                            <div\r\n                              className={\r\n                                check?.find(\r\n                                  (element) => element.wa_id == tutor.wa_id\r\n                                )\r\n                                  ? \"selected_card\"\r\n                                  : removedNum == tutor.wa_id\r\n                                  ? \"card\"\r\n                                  : conversation?.notified_tutors &&\r\n                                    conversation?.notified_tutors.find(\r\n                                      (el) => el.tutor_id == tutor.tutor_id\r\n                                    )\r\n                                  ? \"success_card\"\r\n                                  : \"card\"\r\n                              }\r\n                              onClick={() => handleCheck(tutor)}\r\n                            >\r\n                              <div style={{ display: \"flex\" }}>\r\n                                {check?.find(\r\n                                  (element) => element.wa_id == tutor.wa_id\r\n                                ) && (\r\n                                  <CheckCircleIcon\r\n                                    fontSize=\"small\"\r\n                                    style={{ color: \"rgb(11 145 102)\" }}\r\n                                  />\r\n                                )}\r\n                                <label\r\n                                  for={tutor.tutor_id}\r\n                                  style={{\r\n                                    display: \"flex\",\r\n                                    marginLeft: \"10px\",\r\n                                    cursor: \"pointer\",\r\n                                    fontSize: \"15px\",\r\n                                  }}\r\n                                >\r\n                                  {conversation?.notified_tutors &&\r\n                                    conversation?.notified_tutors.find(\r\n                                      (el) => el.tutor_id == tutor.tutor_id\r\n                                    ) && (\r\n                                      <DoneOutlineRoundedIcon\r\n                                        fontSize=\"small\"\r\n                                        color=\"success\"\r\n                                        style={{ marginRight: \"5px\" }}\r\n                                      />\r\n                                    )}\r\n                                  {conversation?.notified_tutors &&\r\n                                    conversation?.notified_tutors.find(\r\n                                      (el) =>\r\n                                        el.tutor_id == tutor.tutor_id &&\r\n                                        el.medium == \"mail\"\r\n                                    ) && (\r\n                                      <MarkEmailReadOutlinedIcon\r\n                                        fontSize=\"small\"\r\n                                        color=\"success\"\r\n                                        style={{ marginRight: \"5px\" }}\r\n                                      />\r\n                                    )}\r\n                                  {conversation?.notified_tutors &&\r\n                                    conversation?.notified_tutors.find(\r\n                                      (el) =>\r\n                                        el.tutor_id == tutor.tutor_id &&\r\n                                        el.medium == \"wa\"\r\n                                    ) && (\r\n                                      <WhatsappOutlinedIcon\r\n                                        fontSize=\"small\"\r\n                                        color=\"success\"\r\n                                        style={{ marginRight: \"5px\" }}\r\n                                      />\r\n                                    )}\r\n                                  {conversation?.notified_tutors &&\r\n                                    conversation?.notified_tutors.find(\r\n                                      (el) =>\r\n                                        el.tutor_id == tutor.tutor_id &&\r\n                                        el.medium == \"wa-mail\"\r\n                                    ) && (\r\n                                      <>\r\n                                        <WhatsappOutlinedIcon\r\n                                          fontSize=\"small\"\r\n                                          color=\"success\"\r\n                                          style={{ marginRight: \"5px\" }}\r\n                                        />{\" \"}\r\n                                        <MarkEmailReadOutlinedIcon\r\n                                          fontSize=\"small\"\r\n                                          color=\"success\"\r\n                                          style={{ marginRight: \"5px\" }}\r\n                                        />\r\n                                      </>\r\n                                    )}\r\n                                  <span\r\n                                    style={{\r\n                                      fontWeight: \"600\",\r\n                                      marginRight: \"5px\",\r\n                                    }}\r\n                                  >\r\n                                    {shortText(tutor.name)}\r\n                                  </span>{\" \"}\r\n                                  {tutor.tutor_id}\r\n                                  &nbsp;\r\n                                  <span>\r\n                                    <HtmlTooltip\r\n                                      placement=\"top\"\r\n                                      title={\r\n                                        <>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Highest Degree:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.highest_degree}\r\n                                            </span>\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Department:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.dept}\r\n                                            </span>\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            College/s:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.academic_info &&\r\n                                                tutor?.academic_info[0]?.college.toString()}\r\n                                            </span>\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            WhatsApp:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.wa_id}\r\n                                            </span>\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Subjects known:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.subjects &&\r\n                                                tutor?.subjects.toString()}\r\n                                            </span>\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Tags:{\" \"}\r\n                                            <span\r\n                                              style={{\r\n                                                fontSize: \"12px\",\r\n                                                fontWeight: \"normal\",\r\n                                              }}\r\n                                            >\r\n                                              {tutor?.tags &&\r\n                                                tutor?.tags.toString()}\r\n                                            </span>\r\n                                          </Typography>\r\n                                        </>\r\n                                      }\r\n                                    >\r\n                                      <InfoIcon\r\n                                        fontSize=\"small\"\r\n                                        style={{ fontSize: \"16px\" }}\r\n                                      />\r\n                                    </HtmlTooltip>\r\n                                  </span>\r\n                                  {tutor?.writer && (\r\n                                    <span style={{ marginLeft: \"5px\" }}>\r\n                                      <BorderColorIcon\r\n                                        fontSize=\"small\"\r\n                                        style={{ fontSize: \"14px\" }}\r\n                                      />\r\n                                    </span>\r\n                                  )}\r\n                                  <span>\r\n                                    <AutorenewRoundedIcon\r\n                                      fontSize=\"small\"\r\n                                      style={{ fontSize: \"18px\" }}\r\n                                      onClick={() =>\r\n                                        handleContactValidate(tutor?.wa_id)\r\n                                      }\r\n                                    />\r\n                                  </span>\r\n                                  <span\r\n                                    style={{\r\n                                      fontSize: \"12px\",\r\n                                      color: \"green\",\r\n                                      marginLeft: \"5px\",\r\n                                    }}\r\n                                  >\r\n                                    {tutor?.highlights &&\r\n                                      tutor?.highlights.map((i) => (\r\n                                        <span>\r\n                                          {i?.path?.slice(0, 1)}\r\n                                          {\": \"}\r\n                                          {i?.texts?.map((j) => (\r\n                                            <span>{j.value}&nbsp;</span>\r\n                                          ))}\r\n                                        </span>\r\n                                      ))}\r\n                                  </span>\r\n                                </label>\r\n                              </div>\r\n                              <div style={{ display: \"flex\" }}>\r\n                                {tutor?.sessions_assigned &&\r\n                                  tutor?.sessions_assigned?.filter(\r\n                                    (f) =>\r\n                                      new Date(f.deadline) >= today &&\r\n                                      new Date(f.deadline) <= after2days\r\n                                  ) &&\r\n                                  tutor?.sessions_assigned?.filter(\r\n                                    (f) =>\r\n                                      new Date(f.deadline) >= today &&\r\n                                      new Date(f.deadline) <= after2days\r\n                                  ).length >= 2 && (\r\n                                    <HtmlTooltip\r\n                                      placement=\"top\"\r\n                                      title={\r\n                                        <>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            WARNING!!!\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            This tutor is already assigned for 2\r\n                                            or more than 2 sessions in next 2\r\n                                            days..\r\n                                          </Typography>\r\n                                          <Typography\r\n                                            color=\"inherit\"\r\n                                            style={{\r\n                                              fontSize: \"13.5px\",\r\n                                              fontWeight: \"600\",\r\n                                              marginBottom: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Sessions Assigned:\r\n                                          </Typography>\r\n                                          {tutor?.sessions_assigned\r\n                                            ?.filter(\r\n                                              (f) =>\r\n                                                new Date(f.deadline) > today &&\r\n                                                new Date(f.deadline) <\r\n                                                  after2days\r\n                                            )\r\n                                            .map((i) => (\r\n                                              <Typography\r\n                                                color=\"inherit\"\r\n                                                style={{\r\n                                                  fontSize: \"13.5px\",\r\n                                                  fontWeight: \"600\",\r\n                                                  marginBottom: \"5px\",\r\n                                                }}\r\n                                              >\r\n                                                <span\r\n                                                  style={{\r\n                                                    fontSize: \"12px\",\r\n                                                    fontWeight: \"normal\",\r\n                                                  }}\r\n                                                >\r\n                                                  ID: {i?.session_id}\r\n                                                </span>\r\n                                                <span\r\n                                                  style={{\r\n                                                    fontSize: \"12px\",\r\n                                                    fontWeight: \"normal\",\r\n                                                  }}\r\n                                                >\r\n                                                  &nbsp; | &nbsp;Type: {i?.type}\r\n                                                </span>\r\n                                              </Typography>\r\n                                            ))}\r\n                                        </>\r\n                                      }\r\n                                    >\r\n                                      <PriorityHighOutlinedIcon\r\n                                        fontSize=\"small\"\r\n                                        style={{ fontSize: \"21px\" }}\r\n                                        color=\"error\"\r\n                                      />\r\n                                    </HtmlTooltip>\r\n                                  )}\r\n                              </div>\r\n                              <Box\r\n                                sx={{\r\n                                  width: 150,\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                                  justifyContent: \"flex-end\",\r\n                                }}\r\n                              >\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  // onClick={handleClick}\r\n                                  // onDelete={handleDelete}\r\n                                  icon={\r\n                                    <StarPurple500SharpIcon\r\n                                      style={{\r\n                                        color: \"#ffff\",\r\n                                        fontSize: \"14px\",\r\n                                      }}\r\n                                    />\r\n                                  }\r\n                                  label={(\"\" + tutor?.rating / 2)?.slice(0, 4)}\r\n                                  color=\"success\"\r\n                                />\r\n                                {/* <span style={{ paddingLeft: '5px' }}>\r\n                              {showMenu ? (\r\n                                <KeyboardArrowUpIcon\r\n                                  fontSize='medium'\r\n                                  color='action'\r\n                                  onClick={handleClick}\r\n                                />\r\n                              ) : (\r\n                                <KeyboardArrowDownIcon\r\n                                  fontSize='medium'\r\n                                  color='action'\r\n                                  onClick={handleClick}\r\n                                />\r\n                              )}\r\n                            </span> */}\r\n                              </Box>\r\n                              {/* {showMenu && (\r\n        <div className='conversationDetails'>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              margin: '7px',\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              Highest Degree: <span>{tutor?.highest_degree}</span>\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: '15px 7px 7px 7px' }}>\r\n            <span\r\n              style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              College:{' '}\r\n              <span>\r\n                {tutor?.academic_info &&\r\n                  tutor?.academic_info[0]?.college}\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: '23px 7px 7px 7px' }}>\r\n            <span\r\n              style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              Email: <span>{tutor?.email}</span>\r\n            </span>\r\n          </div>\r\n          <div style={{ margin: '15px 7px 7px 7px' }}>\r\n            <span\r\n              style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                marginRight: '5px',\r\n              }}\r\n            >\r\n              Subjects known:\r\n            </span>\r\n            {tutor?.subjects &&\r\n              tutor?.subjects.map((i) => (\r\n                <Chip style={{ margin: '6px' }} label={i} />\r\n              ))}\r\n          </div>\r\n   \r\n        </div>\r\n      )} */}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      <Pagination\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          padding: \"20px 45px 20px 30px\",\r\n                        }}\r\n                        count={Math.ceil(tutorCount / 20)}\r\n                        page={tutorPage}\r\n                        onChange={handleTutorList}\r\n                      />\r\n                    </>\r\n                  </DialogContentText>\r\n                )}\r\n              </DialogContent>\r\n              {sendingText && <LinearProgress />}\r\n              <DialogActions>\r\n                <Button onClick={handleClose}>Close</Button>\r\n                {(conversation?.type == 'Live Session' && showSendTemplate && check.length > 0 && tutorDeadline && tutorDuration) || (conversation?.type == 'Assignment' || conversation?.type == 'Project' && showSendTemplate && check.length > 0 && tutorDeadline) ? <Button onClick={sendTemplateAlert}>Send</Button>\r\n                : <Button disabled>Send</Button>}\r\n              </DialogActions>\r\n            </Dialog>\r\n            <div>\r\n              <Snackbar\r\n                open={openSnackBar}\r\n                autoHideDuration={2000}\r\n                onClose={handleCloseSnackBar}\r\n                anchorOrigin={{ vertical, horizontal }}\r\n                key={vertical + horizontal}\r\n              >\r\n                <Alert\r\n                  onClose={handleCloseSnackBar}\r\n                  severity=\"info\"\r\n                  sx={{ width: \"100%\" }}\r\n                >\r\n                  {alertText_}\r\n                </Alert>\r\n              </Snackbar>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginBottom: \"-4px\" }} className=\"userTab_\">\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"38%\" }}>\r\n            <div style={{ height: \"22px\", fontSize: \"13px\" }}>CA:&nbsp;</div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n              }}\r\n            >\r\n              {conversation.client_amount\r\n                ? conversation.client_amount / 100 + \" \" + conversation.currency\r\n                : \"---\"}\r\n              {(clientPayment &&\r\n                clientPayment?.find(\r\n                  (f) =>\r\n                    f.payload.payment_link &&\r\n                    f.payload.payment_link.entity.id == conversation.plink_id &&\r\n                    f.payload.payment_link.entity.status == \"paid\"\r\n                )) ||\r\n              conversation.payment_status == \"paid\" ? (\r\n                <span>\r\n                  <HtmlTooltip\r\n                    placement=\"top\"\r\n                    title={\r\n                      <>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          Amount Paid:{\" \"}\r\n                        </Typography>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            {conversation?.payment_info?.length > 0\r\n                              ? conversation?.payment_info\r\n                                  ?.filter((f) => f.type == \"plink\")\r\n                                  ?.map((i) => i.amount)\r\n                                  .reduce((pv, cv) => {\r\n                                    return pv + cv;\r\n                                  }, 0) /\r\n                                  100 +\r\n                                \" \" +\r\n                                conversation?.currency +\r\n                                \" (via payment link)\"\r\n                              : \"---\"}\r\n                          </span>\r\n                        </Typography>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            {conversation?.payment_info?.filter(\r\n                              (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                            ) &&\r\n                              conversation?.payment_info?.filter(\r\n                                (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                              ).length > 0 &&\r\n                              conversation?.payment_info\r\n                                ?.filter(\r\n                                  (i) =>\r\n                                    i.type == \"vpa\" && i.status == \"captured\"\r\n                                )\r\n                                ?.map((k) => k?.amount)\r\n                                .reduce((x, z) => {\r\n                                  return x + z;\r\n                                }, 0) /\r\n                                100 +\r\n                                \" INR (to vpa)\"}\r\n                          </span>\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  >\r\n                    <CheckCircleIcon\r\n                      fontSize=\"x-small\"\r\n                      style={{\r\n                        marginLeft: \"3px\",\r\n                        marginTop: \"1px\",\r\n                        fontSize: \"15px\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                    />\r\n                  </HtmlTooltip>\r\n                </span>\r\n              ) : (clientPayment &&\r\n                  clientPayment?.find(\r\n                    (f) =>\r\n                      f.payload.payment_link &&\r\n                      f.payload.payment_link.entity.id ==\r\n                        conversation.plink_id &&\r\n                      f.payload.payment_link.entity.status == \"partially_paid\"\r\n                  )) ||\r\n                conversation.payment_status == \"partially_paid\" ? (\r\n                <span>\r\n                  <HtmlTooltip\r\n                    placement=\"top\"\r\n                    title={\r\n                      <>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          Amount Paid:{\" \"}\r\n                        </Typography>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            {conversation?.payment_info?.length > 0\r\n                              ? conversation?.payment_info\r\n                                  ?.filter((f) => f.type == \"plink\")\r\n                                  ?.map((i) => i.amount)\r\n                                  .reduce((pv, cv) => {\r\n                                    return pv + cv;\r\n                                  }, 0) /\r\n                                  100 +\r\n                                \" \" +\r\n                                conversation?.currency +\r\n                                \" (via payment link)\"\r\n                              : \"---\"}\r\n                          </span>\r\n                        </Typography>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            {conversation?.payment_info?.filter(\r\n                              (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                            ) &&\r\n                              conversation?.payment_info?.filter(\r\n                                (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                              ).length > 0 &&\r\n                              conversation?.payment_info\r\n                                ?.filter(\r\n                                  (i) =>\r\n                                    i.type == \"vpa\" && i.status == \"captured\"\r\n                                )\r\n                                ?.map((k) => k?.amount)\r\n                                .reduce((x, z) => {\r\n                                  return x + z;\r\n                                }, 0) /\r\n                                100 +\r\n                                \" INR (to vpa)\"}\r\n                          </span>\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  >\r\n                    <PendingIcon\r\n                      fontSize=\"x-small\"\r\n                      style={{\r\n                        marginLeft: \"3px\",\r\n                        marginTop: \"1px\",\r\n                        cursor: \"pointer\",\r\n                        fontSize: \"15px\",\r\n                      }}\r\n                    />\r\n                  </HtmlTooltip>\r\n                </span>\r\n              ) : null}\r\n              {conversation?.refund_status == \"refunded\" && (\r\n                <span>\r\n                  <HtmlTooltip\r\n                    placement=\"top\"\r\n                    title={\r\n                      <>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          Amount Refunded:{\" \"}\r\n                        </Typography>\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            {conversation?.payment_info?.map(\r\n                              (payment) =>\r\n                                payment?.refund_info &&\r\n                                payment?.refund_info\r\n                                  ?.filter((f) => f.status == \"processed\")\r\n                                  .map((i) => (\r\n                                    <div style={{ display: \"flex\" }}>\r\n                                      {i?.amount / 100} {i?.currency}\r\n                                      {\" [ID: \"}\r\n                                      {i?.id}\r\n                                      {\"]\"}\r\n                                    </div>\r\n                                  ))\r\n                            )}\r\n                          </span>\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  >\r\n                    <SettingsBackupRestoreIcon\r\n                      fontSize=\"small\"\r\n                      color=\"error\"\r\n                      style={{\r\n                        marginLeft: \"3px\",\r\n                        cursor: \"pointer\",\r\n                        fontSize: \"17px\",\r\n                      }}\r\n                    />\r\n                  </HtmlTooltip>\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div style={{ fontSize: \"13px\", marginLeft: \"3px\" }}></div>\r\n            {/* <div style={{fontSize: '13px', marginLeft:'3px'}}>{virtualAccPayments && virtualAccPayments?.length > 0 && virtualAccPayments?.map((i) => i?.amount).reduce((a, b) => { return (a + b)}, 0)/100 + ' ' + virtualAccPayments[0]?.currency + ' (vpa)'}</div> */}\r\n          </div>\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"24%\" }}>\r\n            <div style={{ height: \"22px\", fontSize: \"13px\" }}>TA:&nbsp;</div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n              }}\r\n            >\r\n              {conversation?.assigned_tutors &&\r\n              conversation?.assigned_tutors?.length > 0\r\n                ? conversation?.assigned_tutors\r\n                    ?.filter((e) => e?.pout_info?.length > 0)\r\n                    ?.map(\r\n                      (i) =>\r\n                        i?.pout_info\r\n                          ?.filter((f) => f.status == \"processed\")\r\n                          .map((k) => k?.amount)\r\n                          .reduce((x, z) => {\r\n                            return x + z;\r\n                          }, 0) / 100\r\n                    )\r\n                    .reduce((x, z) => {\r\n                      return x + z;\r\n                    }, 0) + \" INR\"\r\n                : \"---\"}\r\n              {conversation?.assigned_tutors &&\r\n                conversation?.assigned_tutors?.filter(\r\n                  (e) => e?.tutor_unassigned == \"assigned\"\r\n                )?.length > 0 &&\r\n                conversation?.assigned_tutors?.filter(\r\n                  (e) => e?.tutor_unassigned == \"assigned\"\r\n                )?.length ==\r\n                  conversation?.assigned_tutors\r\n                    ?.filter((e) => e?.tutor_unassigned == \"assigned\")\r\n                    ?.filter(\r\n                      (f) =>\r\n                        f?.pout_info?.filter((f) => f.status == \"processed\")\r\n                          .length > 0\r\n                    ).length && (\r\n                  <span>\r\n                    <CheckCircleIcon\r\n                      fontSize=\"x-small\"\r\n                      style={{\r\n                        marginLeft: \"3px\",\r\n                        marginTop: \"1px\",\r\n                        fontSize: \"15px\",\r\n                      }}\r\n                    />\r\n                  </span>\r\n                )}\r\n\r\n              <span>\r\n                <HtmlTooltip\r\n                  placement=\"top\"\r\n                  title={\r\n                    <>\r\n                      {/* <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}>Interested Tutors: </Typography>\r\n                      {conversation?.tutor_interested && conversation?.tutor_interested.length > 0 ? conversation?.tutor_interested?.map((i) => <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}><span style={{fontSize: '12px', fontWeight: 'normal'}}>{i.name}&nbsp;{i.tutor_id}</span></Typography>) : <Typography color=\"inherit\" style={{fontSize: '13.5px', fontWeight: '600', marginBottom: '5px'}}><span style={{fontSize: '12px', fontWeight: 'normal'}}>No one has shown interest for this session</span></Typography>} */}\r\n                      <Typography\r\n                        color=\"inherit\"\r\n                        style={{\r\n                          fontSize: \"13.5px\",\r\n                          fontWeight: \"600\",\r\n                          marginBottom: \"5px\",\r\n                        }}\r\n                      >\r\n                        Assigned Tutors:{\" \"}\r\n                      </Typography>\r\n                      {conversation?.assigned_tutors &&\r\n                      conversation?.assigned_tutors.length > 0 ? (\r\n                        conversation?.assigned_tutors?.map((i) => (\r\n                          <Typography\r\n                            color=\"inherit\"\r\n                            style={{\r\n                              fontSize: \"13.5px\",\r\n                              fontWeight: \"600\",\r\n                              marginBottom: \"5px\",\r\n                            }}\r\n                          >\r\n                            <span\r\n                              style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                            >\r\n                              {i.name}&nbsp;|&nbsp;{i.tutor_id}&nbsp;|&nbsp;\r\n                              <span>\r\n                                {i?.pout_info\r\n                                  ? i?.pout_info\r\n                                      ?.filter((f) => f.status == \"processed\")\r\n                                      ?.map((k) => k?.amount)\r\n                                      ?.reduce((x, z) => {\r\n                                        return x + z;\r\n                                      }, 0) /\r\n                                      100 +\r\n                                    \" INR\"\r\n                                  : \"---\"}\r\n                              </span>\r\n                            </span>\r\n                          </Typography>\r\n                        ))\r\n                      ) : (\r\n                        <Typography\r\n                          color=\"inherit\"\r\n                          style={{\r\n                            fontSize: \"13.5px\",\r\n                            fontWeight: \"600\",\r\n                            marginBottom: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{ fontSize: \"12px\", fontWeight: \"normal\" }}\r\n                          >\r\n                            No Tutors Assigned\r\n                          </span>\r\n                        </Typography>\r\n                      )}\r\n                    </>\r\n                  }\r\n                >\r\n                  <InfoIcon\r\n                    fontSize=\"small\"\r\n                    style={{\r\n                      fontSize: \"12px\",\r\n                      cursor: \"pointer\",\r\n                      marginLeft: \"1px\",\r\n                    }}\r\n                  />\r\n                </HtmlTooltip>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: \"38%\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"end\",\r\n              fontSize: \"11px\",\r\n              fontWeight: \"800\",\r\n              maxWidth: \"100px\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {/* <div style={{height: '22px', fontSize: '13px'}} >Work status:</div> */}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignSelf: \"center\",\r\n                textTransform: \"capitalize\",\r\n              }}\r\n            >\r\n              {conversation.work_status &&\r\n              conversation.work_status !== \"New Task\" ? (\r\n                <span\r\n                  className={\r\n                    conversation?.work_status == \"Client Cancelled\" ||\r\n                    conversation?.work_status == \"Agent Cancelled\"\r\n                      ? \"color_red\"\r\n                      : conversation?.work_status == \"Tutors Notified\"\r\n                      ? \"color_blue\"\r\n                      : conversation?.work_status == \"Tutors Assigned\"\r\n                      ? \"color_pink\"\r\n                      : conversation?.work_status == \"Completed\"\r\n                      ? \"color_green\"\r\n                      : \"black\"\r\n                  }\r\n                >\r\n                  {conversation.work_status}\r\n                </span>\r\n              ) : (\r\n                <span style={{ fontSize: \"12px\", color: \"#fd3dca\" }}>\r\n                  New Task\r\n                </span>\r\n              )}\r\n            </div>\r\n            {/* {filteredAlert.length > 0 ? (\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'flex-end',\r\n                  padding: '0px 10px 0px 0px',\r\n                }}\r\n                ref={alertIcon}\r\n              >\r\n                <NotificationsIcon style={{ color: '#03D755' }} />\r\n              </div>\r\n            ) : null} */}\r\n          </div>\r\n        </div>\r\n        <div className=\"userTab_\">\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"38%\" }}>\r\n            {/* <div\r\n              style={{ height: '22px', fontSize: '13px' }}\r\n              \r\n            >\r\n              Deadline:\r\n            </div> */}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"bolder\",\r\n                width: \"145px\",\r\n              }}\r\n            >\r\n              {conversation?.deadline\r\n                ? new Date(conversation?.deadline).toLocaleDateString(\"en-IN\") +\r\n                  moment(conversation?.deadline).format(\", h:mm a\")\r\n                : \"---\"}\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", flex: \"24%\" }}>\r\n            {/* <div\r\n              style={{ height: '22px', fontSize: '13px' }}\r\n              \r\n            >\r\n              Duration:\r\n            </div> */}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"bolder\",\r\n              }}\r\n            >\r\n              {conversation?.duration\r\n                ? `${conversation?.duration?.slice(\r\n                    0,\r\n                    2\r\n                  )}h ${conversation?.duration?.slice(4, 7)}m`\r\n                : \"---\"}\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: \"38%\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"end\",\r\n              fontSize: \"12px\",\r\n              fontWeight: \"800\",\r\n              maxWidth: \"100px\",\r\n              textAlign: \"end\",\r\n              // lineHeight: '2.1',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignSelf: \"flex-end\",\r\n              }}\r\n            >\r\n              {/* {conversation.type ? conversation.type : '---'} */}\r\n              {conversation?.session_agent && conversation?.session_agent}\r\n            </div>\r\n            <div style={{ marginBottom: \"-7px\", cursor: \"pointer\" }}>\r\n              <ArrowRightAltIcon\r\n                fontSize=\"small\"\r\n                onClick={handleOpenSessionDetails}\r\n              />\r\n              <Dialog\r\n                open={showSessionDetails}\r\n                onClose={handleCloseSessionDetails}\r\n                scroll=\"paper\"\r\n                aria-labelledby=\"scroll-dialog-title\"\r\n                aria-describedby=\"scroll-dialog-description\"\r\n              >\r\n                <DialogTitle\r\n                  id=\"scroll-dialog-title\"\r\n                  style={{ width: \"525px\" }}\r\n                >\r\n                  {conversation?.type} Details\r\n                  {/* <span style={{float: 'right', cursor: 'pointer'}}>\r\n                  <DoNotDisturbIcon />\r\n                  </span> */}\r\n                </DialogTitle>\r\n                <DialogContent\r\n                  dividers={false}\r\n                  style={{ padding: \"0px 32px 20px 32px\" }}\r\n                >\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Session ID:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.session_id}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Client ID:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.client_id}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Work Details:</div>\r\n                      <div\r\n                        style={{\r\n                          fontWeight: \"800\",\r\n                          paddingRight: \"45px\",\r\n                          maxWidth: \"300px\",\r\n                        }}\r\n                      >\r\n                        {conversation?.client_comments\r\n                          ? conversation?.client_comments\r\n                          : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Deadline:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.deadline\r\n                          ? moment(conversation?.deadline).format(\r\n                              \"MMM Do YY, h:mm a\"\r\n                            )\r\n                          : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Duration:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.duration\r\n                          ? conversation?.duration\r\n                          : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Client Amount:</div>\r\n                      {conversation?.client_amount && !isEditClientAmt ? (\r\n                        <div style={{ fontWeight: \"800\" }}>\r\n                          {conversation?.client_amount ? (\r\n                            <span style={{ display: \"flex\" }}>\r\n                              {conversation?.client_amount / 100 +\r\n                                \" \" +\r\n                                conversation.currency}\r\n                              {!conversation?.payment_info ||\r\n                                (conversation.payment_info.length == 0 && (\r\n                                  <span\r\n                                    style={{\r\n                                      cursor: \"pointer\",\r\n                                      marginLeft: \"5px\",\r\n                                    }}\r\n                                  >\r\n                                    <EditIcon\r\n                                      fontSize=\"x-small\"\r\n                                      style={{ fontSize: \"15px\" }}\r\n                                      onClick={() => {\r\n                                        window.confirm(\r\n                                          \"Warning!!! If you update the client amount field you will lost the old payment informations for this session. Would you like to continue?\"\r\n                                        ) && setIsEditClientAmt(true);\r\n                                      }}\r\n                                    />\r\n                                  </span>\r\n                                ))}\r\n                              {/* <div style={{display: 'flex', marginRight: '60px'}}>\r\n                              <img\r\n                                src='/assets/paypal.png'\r\n                                style={{width: '30px'}}\r\n                                alt='paypal'\r\n                              />\r\n                              <Checkbox\r\n                                size=\"small\"\r\n                                checked={checked}\r\n                                onChange={handleChange}\r\n                                inputProps={{ 'aria-label': 'controlled' }}\r\n                              />\r\n                              </div> */}\r\n                            </span>\r\n                          ) : (\r\n                            \"---\"\r\n                          )}\r\n                        </div>\r\n                      ) : !conversation?.client_amount || isEditClientAmt ? (\r\n                        <span style={{ fontWeight: \"800\" }}>\r\n                          <select\r\n                            name=\"type\"\r\n                            id=\"type\"\r\n                            className=\"arrow\"\r\n                            style={{\r\n                              width: \"22%\",\r\n                              height: \"23px\",\r\n                              padding: \"0px\",\r\n                              borderBottom: \"1px solid gray\",\r\n                              borderRadius: \"0px\",\r\n                            }}\r\n                            value={selectCurrency}\r\n                            onChange={(event) =>\r\n                              setSelectCurrency(event.target.value)\r\n                            }\r\n                            required\r\n                          >\r\n                            <option selected value=\"USD\">\r\n                              USD\r\n                            </option>\r\n                            <option value=\"EUR\">EUR</option>\r\n                            <option value=\"BHD\">BHD</option>\r\n                            <option value=\"INR\">INR</option>\r\n                            <option value=\"CAD\">CAD</option>\r\n                            <option value=\"AUD\">AUD</option>\r\n                            <option value=\"GBP\">GBP</option>\r\n                            <option value=\"AED\">AED</option>\r\n                          </select>\r\n                          <input\r\n                            type=\"number\"\r\n                            style={{\r\n                              width: \"30%\",\r\n                              height: \"20px\",\r\n                              marginLeft: \"5px\",\r\n                              outline: \"none\",\r\n                              border: \"none\",\r\n                              borderBottom: \"1px solid gray\",\r\n                              borderRadius: \"0px\",\r\n                            }}\r\n                            min=\"1\"\r\n                            max=\"10\"\r\n                            value={selectClientAmount}\r\n                            onChange={(e) =>\r\n                              setSelectClientAmount(e.target.value)\r\n                            }\r\n                          />\r\n                          <Checkbox\r\n                            size=\"small\"\r\n                            checked={paypalOption}\r\n                            onChange={handleCheckPayPal}\r\n                            inputProps={{ \"aria-label\": \"controlled\" }}\r\n                          />\r\n                          <span style={{ cursor: \"pointer\" }}>PayPal</span>{\" \"}\r\n                          &nbsp;\r\n                          {!disableUpdate ? (\r\n                            <button\r\n                              style={{\r\n                                backgroundColor: \"#1876D1\",\r\n                                color: \"#ffff\",\r\n                                border: \"none\",\r\n                                borderRadius: \"2px\",\r\n                                height: \"25px\",\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              onClick={clientAmtHandler}\r\n                            >\r\n                              Update\r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              style={{\r\n                                border: \"1px solid #e3e0e0\",\r\n                                borderRadius: \"2px\",\r\n                                height: \"25px\",\r\n                              }}\r\n                              disabled\r\n                            >\r\n                              <CircularProgress\r\n                                fontSize=\"small\"\r\n                                style={{ width: \"15px\", height: \"15px\" }}\r\n                              />{\" \"}\r\n                              Update\r\n                            </button>\r\n                          )}\r\n                        </span>\r\n                      ) : null}\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Client Amount Paid:\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          size=\"small\"\r\n                          color=\"error\"\r\n                          style={{\r\n                            fontSize: \"10px\",\r\n                            lineHeight: \"1.6\",\r\n                            minWidth: \"57px\",\r\n                            marginLeft: \"15px\",\r\n                          }}\r\n                          onClick={handleOpenRefundWindow}\r\n                        >\r\n                          Refund\r\n                        </Button>\r\n                        <Dialog\r\n                          open={openRefundWin}\r\n                          onClose={handleCloseRefundWindow}\r\n                          aria-labelledby=\"alert-dialog-title\"\r\n                          aria-describedby=\"alert-dialog-description\"\r\n                        >\r\n                          <DialogTitle id=\"alert-dialog-title\">\r\n                            {\"Initiate Refunds to Client\"}\r\n                          </DialogTitle>\r\n                          <DialogContent\r\n                            style={{\r\n                              paddingLeft: \"0px\",\r\n                              paddingRight: \"0px\",\r\n                              width: \"500px\",\r\n                            }}\r\n                          >\r\n                            <DialogContentText id=\"alert-dialog-description\">\r\n                              {conversation?.payment_info?.map(\r\n                                (payment, index) => (\r\n                                  <>\r\n                                    <div\r\n                                      key={index}\r\n                                      style={{\r\n                                        padding: \"18px 26px 18px 26px\",\r\n                                        borderBottom: \"1px solid lightgray\",\r\n                                      }}\r\n                                    >\r\n                                      <div\r\n                                        style={{\r\n                                          display: \"flex\",\r\n                                          fontWeight: \"800\",\r\n                                        }}\r\n                                      >\r\n                                        {payment.currency}{\" \"}\r\n                                        {payment.amount / 100}{\" \"}\r\n                                        <span\r\n                                          style={{\r\n                                            fontSize: \"14px\",\r\n                                            fontWeight: \"500\",\r\n                                            marginLeft: \"5px\",\r\n                                          }}\r\n                                        >\r\n                                          on{\" \"}\r\n                                          {moment(\r\n                                            new Date(\r\n                                              payment?.created_at * 1000\r\n                                            ).toISOString()\r\n                                          ).format(\"MMM Do YYYY, h:mm a\")}\r\n                                        </span>\r\n                                        <span\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            flex: \"10%\",\r\n                                            justifyContent: \"flex-end\",\r\n                                          }}\r\n                                        >\r\n                                          {payment?.refund_info &&\r\n                                          payment?.refund_info\r\n                                            ?.filter(\r\n                                              (f) => f.status == \"processed\"\r\n                                            )\r\n                                            .map((k) => k?.amount)\r\n                                            .reduce((x, z) => {\r\n                                              return x + z;\r\n                                            }, 0) == payment.amount ? (\r\n                                            <Button\r\n                                              variant=\"contained\"\r\n                                              size=\"small\"\r\n                                              color=\"error\"\r\n                                              style={{\r\n                                                fontSize: \"9px\",\r\n                                                lineHeight: \"1.6\",\r\n                                                minWidth: \"57px\",\r\n                                                marginLeft: \"15px\",\r\n                                              }}\r\n                                              disabled\r\n                                            >\r\n                                              Refund\r\n                                            </Button>\r\n                                          ) : (\r\n                                            <>\r\n                                              <input\r\n                                                style={{\r\n                                                  width: \"75px\",\r\n                                                  height: \"18px\",\r\n                                                  borderRadius: \"4px\",\r\n                                                  border: \"1px solid lightgray\",\r\n                                                  outline: \"none\",\r\n                                                }}\r\n                                                type=\"number\"\r\n                                                placeholder=\"Amount\"\r\n                                                onChange={(e) =>\r\n                                                  setRefundAmount(\r\n                                                    e.target.value\r\n                                                  )\r\n                                                }\r\n                                              />\r\n                                              <Button\r\n                                                variant=\"contained\"\r\n                                                size=\"small\"\r\n                                                color=\"error\"\r\n                                                style={{\r\n                                                  fontSize: \"9px\",\r\n                                                  lineHeight: \"1.6\",\r\n                                                  minWidth: \"57px\",\r\n                                                  marginLeft: \"15px\",\r\n                                                }}\r\n                                                onClick={() =>\r\n                                                  handleInitiateRefund(\r\n                                                    payment.id\r\n                                                  )\r\n                                                }\r\n                                              >\r\n                                                Refund\r\n                                              </Button>\r\n                                            </>\r\n                                          )}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div\r\n                                        style={{\r\n                                          display: \"flex\",\r\n                                          justifyContent: \"space-between\",\r\n                                          fontSize: \"11px\",\r\n                                          marginTop: \"8px\",\r\n                                        }}\r\n                                      >\r\n                                        Payment ID:{\" \"}\r\n                                        {payment?.id?.replace(\"pay_\", \"\")}\r\n                                        {\" (\" + payment.method + \")\"}\r\n                                        <div\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            flexDirection: \"column\",\r\n                                            alignItems: \"flex-end\",\r\n                                          }}\r\n                                        >\r\n                                          {payment?.refund_info && (\r\n                                            <span\r\n                                              style={{\r\n                                                fontStyle: \"italic\",\r\n                                                textDecoration: \"underline\",\r\n                                              }}\r\n                                            >\r\n                                              Refund ID/s:\r\n                                            </span>\r\n                                          )}\r\n                                          {payment?.refund_info &&\r\n                                            payment?.refund_info\r\n                                              ?.filter(\r\n                                                (f) => f.status == \"processed\"\r\n                                              )\r\n                                              .map((i) => (\r\n                                                <div\r\n                                                  style={{ display: \"flex\" }}\r\n                                                >\r\n                                                  {i?.id?.replace(\"rfnd_\", \"\")}\r\n                                                  {\" (\"}\r\n                                                  {i?.amount / 100}{\" \"}\r\n                                                  {i?.currency}\r\n                                                  {\")\"}\r\n                                                </div>\r\n                                              ))}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </>\r\n                                )\r\n                              )}\r\n                            </DialogContentText>\r\n                          </DialogContent>\r\n                          <DialogActions>\r\n                            <Button onClick={handleCloseRefundWindow}>\r\n                              Close\r\n                            </Button>\r\n                          </DialogActions>\r\n                        </Dialog>\r\n                      </div>\r\n                      <div style={{ fontWeight: \"800\", display: 'flex', flexDirection: 'column' }}>\r\n                        {conversation?.payment_info?.length > 0 ? (\r\n                          <div style={{display: 'flex'}}>\r\n                            {conversation?.payment_info\r\n                              ?.filter((f) => f.type == \"plink\")\r\n                              ?.map((i) => i.amount)\r\n                              .reduce((pv, cv) => {\r\n                                return pv + cv;\r\n                              }, 0) /\r\n                              100 +\r\n                              \" \" +\r\n                              conversation?.currency}\r\n\r\n                            <span\r\n                              style={{\r\n                                display: 'flex',\r\n                                alignSelf: 'center',\r\n                                marginLeft: '5px',\r\n                                cursor: \"pointer\",\r\n                                color: paymentStatusCheck==\"\" ? \"orange\" : paymentStatusCheck===\"success\"? \"green\" :\"red\",\r\n                              }}\r\n                              onClick={handlePlinkupdate}\r\n                            >\r\n                              <RefreshIcon fontSize=\"small\" />\r\n                            </span>\r\n                          </div>\r\n                        ) : (\r\n                       \r\n                          <div>\r\n                          ---\r\n                          <span\r\n                              style={{\r\n                                cursor: \"pointer\",\r\n                                color: paymentStatusCheck==\"\" ? \"orange\" : paymentStatusCheck===\"success\"? \"green\" :\"red\",\r\n                              }}\r\n                              onClick={handlePlinkupdate}\r\n                            >\r\n                              <RefreshIcon fontSize=\"small\" />\r\n                          </span>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* end shivanshu */}\r\n\r\n                        {/* <div>{virtualAccPayments && virtualAccPayments?.length > 0 && virtualAccPayments?.map((i) => i?.amount).reduce((a, b) => { return (a + b)}, 0)/100 + ' ' + virtualAccPayments[0]?.currency + ' (paid to vpa)'}</div> */}\r\n                        <div>\r\n                          {conversation?.payment_info?.filter(\r\n                            (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                          ) &&\r\n                            conversation?.payment_info?.filter(\r\n                              (i) => i.type == \"vpa\" && i.status == \"captured\"\r\n                            ).length > 0 && (\r\n                              <>\r\n                                {conversation?.payment_info\r\n                                  ?.filter(\r\n                                    (i) =>\r\n                                      i.type == \"vpa\" && i.status == \"captured\"\r\n                                  )\r\n                                  ?.map((k) => k?.amount)\r\n                                  .reduce((x, z) => {\r\n                                    return x + z;\r\n                                  }, 0) /\r\n                                  100 +\r\n                                  \" INR (paid to vpa)\"}\r\n                                \r\n                                {/* <div\r\n                                  style={{\r\n                                    cursor: \"pointer\",\r\n                                    float: \"left\",\r\n                                    color: \"orange\",\r\n                                  }}\r\n                                  onClick={handleVaUpdate}\r\n                                >\r\n                                  <RefreshIcon fontSize=\"medium\" />\r\n                                </div> */}\r\n                              </>\r\n                            )}\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Checkbox\r\n                              checked={\r\n                                conversation?.payment_status == \"paid\"\r\n                                  ? true\r\n                                  : false\r\n                              }\r\n                              onChange={handleSessionPaymentStatus}\r\n                              size=\"small\"\r\n                              name=\"payment\"\r\n                            />\r\n                          }\r\n                          label=\"Fully Paid\"\r\n                        />\r\n                        <div style={{ fontSize: \"12px\", marginTop: \"-7px\" }}>\r\n                          (Use it only in case of bank transfer)\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Total Amount Paid to Tutors:\r\n                      </div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.assigned_tutors &&\r\n                        conversation?.assigned_tutors?.length > 0\r\n                          ? conversation?.assigned_tutors\r\n                              ?.filter((e) => e?.pout_info?.length > 0)\r\n                              ?.map(\r\n                                (i) =>\r\n                                  i?.pout_info\r\n                                    ?.filter((f) => f.status == \"processed\")\r\n                                    .map((k) => k?.amount)\r\n                                    .reduce((x, z) => {\r\n                                      return x + z;\r\n                                    }, 0) / 100\r\n                              )\r\n                              .reduce((x, z) => {\r\n                                return x + z;\r\n                              }, 0) + \" INR\"\r\n                          : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Subject:</div>\r\n                      <div\r\n                        style={{\r\n                          fontWeight: \"800\",\r\n                          maxWidth: \"300px\",\r\n                          paddingRight: \"45px\",\r\n                        }}\r\n                      >\r\n                        {conversation?.subject\r\n                          ? conversation?.subject.toUpperCase()\r\n                          : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Tutor Dealt Amount:\r\n                      </div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.tutor_dealt_amount && !editTutorAmt ? (\r\n                          <div style={{ fontWeight: \"800\" }}>\r\n                            <>\r\n                              <span>\r\n                                {conversation?.tutor_dealt_amount / 100 +\r\n                                  \" INR\"}\r\n                              </span>\r\n                              &nbsp;\r\n                              <span style={{ cursor: \"pointer\" }}>\r\n                                <EditIcon\r\n                                  fontSize=\"x-small\"\r\n                                  style={{ fontSize: \"15px\" }}\r\n                                  onClick={() => setEditTutorAmt(true)}\r\n                                />\r\n                              </span>\r\n                            </>\r\n                          </div>\r\n                        ) : (\r\n                          <span style={{ fontWeight: \"800\" }}>\r\n                            <input\r\n                              type=\"number\"\r\n                              style={{\r\n                                width: \"30%\",\r\n                                height: \"20px\",\r\n                                marginLeft: \"5px\",\r\n                                marginTop: \"5px\",\r\n                                outline: \"none\",\r\n                                border: \"none\",\r\n                                borderBottom: \"1px solid gray\",\r\n                                borderRadius: \"0px\",\r\n                              }}\r\n                              value={tutorDealtAmount}\r\n                              onChange={(e) =>\r\n                                setTutorDealtAmount(e.target.value)\r\n                              }\r\n                              autoFocus\r\n                            />{\" \"}\r\n                            &nbsp;\r\n                            {!disableUpdateTutor ? (\r\n                              <button\r\n                                style={{\r\n                                  backgroundColor: \"#1876D1\",\r\n                                  color: \"#ffff\",\r\n                                  border: \"none\",\r\n                                  borderRadius: \"2px\",\r\n                                  height: \"25px\",\r\n                                  cursor: \"pointer\",\r\n                                }}\r\n                                onClick={tutorAmtHandler}\r\n                              >\r\n                                Update\r\n                              </button>\r\n                            ) : (\r\n                              <button\r\n                                style={{\r\n                                  border: \"1px solid #e3e0e0\",\r\n                                  borderRadius: \"2px\",\r\n                                  height: \"25px\",\r\n                                }}\r\n                                disabled\r\n                              >\r\n                                <CircularProgress\r\n                                  fontSize=\"small\"\r\n                                  style={{ width: \"15px\", height: \"15px\" }}\r\n                                />{\" \"}\r\n                                Update\r\n                              </button>\r\n                            )}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Type:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {conversation?.type ? conversation.type : \"---\"}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Work Status:</div>\r\n                      <div style={{ fontWeight: \"800\" }}>\r\n                        {!edit ? (\r\n                          <>\r\n                            <span>\r\n                              {conversation?.work_status\r\n                                ? conversation?.work_status\r\n                                : \"New Task\"}\r\n                            </span>\r\n                            &nbsp;\r\n                            <span style={{ cursor: \"pointer\" }}>\r\n                              <EditIcon\r\n                                fontSize=\"x-small\"\r\n                                style={{ fontSize: \"15px\" }}\r\n                                onClick={() => setEdit(true)}\r\n                              />\r\n                            </span>\r\n                          </>\r\n                        ) : (\r\n                          <NativeSelect\r\n                            defaultValue={conversation?.work_status}\r\n                            inputProps={{\r\n                              name: \"age\",\r\n                              id: \"uncontrolled-native\",\r\n                            }}\r\n                            style={{ padding: \"5px\" }}\r\n                            onChange={handleChangeStatus}\r\n                          >\r\n                            <option value=\"\">-select-</option>\r\n                            <option value=\"New Task\">New Task</option>\r\n                            <option value=\"Not Confirmed\">Not Confirmed</option>\r\n                            <option value=\"Tutors Notified\">\r\n                              Tutors Notified\r\n                            </option>\r\n                            <option value=\"Tutors Assigned\">\r\n                              Tutors Assigned\r\n                            </option>\r\n                            <option value=\"Pending\">Pending</option>\r\n                            <option value=\"In Progress\">In Progress</option>\r\n                            <option value=\"Follow Up\">Follow Up</option>\r\n                            <option value=\"Client Cancelled\">\r\n                              Client Cancelled\r\n                            </option>\r\n                            <option value=\"Agent Cancelled\">\r\n                              Agent Cancelled\r\n                            </option>\r\n                            <option value=\"Completed\">Completed</option>\r\n                            <option value=\"Solution Sent\">Send Solution</option>\r\n                          </NativeSelect>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Agent Name & Comment:\r\n                      </div>\r\n                      <div style={{ fontWeight: \"800\", marginTop: \"5px\" }}>\r\n                        <textarea\r\n                          id=\"agentComment\"\r\n                          name=\"agentComment\"\r\n                          value={agentComment}\r\n                          onChange={(e) => setAgentComment(e.target.value)}\r\n                          style={{\r\n                            width: \"80%\",\r\n                            borderRadius: \"5px\",\r\n                            padding: \"5px 10px\",\r\n                            border: \"1px solid #d1d1d1\",\r\n                            resize: \"none\",\r\n                            outline: \"none\",\r\n                            fontFamily: \"sans-serif\",\r\n                          }}\r\n                          rows=\"4\"\r\n                          cols=\"50\"\r\n                          placeholder=\"e.g. Sachin: *Your comments*\"\r\n                        />\r\n                        <button\r\n                          style={{\r\n                            backgroundColor: \"#1876D1\",\r\n                            color: \"#ffff\",\r\n                            border: \"none\",\r\n                            borderRadius: \"5px\",\r\n                            height: \"25px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          onClick={agentCommentHandler}\r\n                        >\r\n                          Update\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"45%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Agent Comments:\r\n                        {conversation?.agent_comments &&\r\n                          conversation?.agent_comments?.length > 0 && (\r\n                            <span>\r\n                              <HtmlTooltip\r\n                                placement=\"top\"\r\n                                title={\r\n                                  <>\r\n                                    <Typography\r\n                                      color=\"inherit\"\r\n                                      style={{\r\n                                        fontSize: \"13.5px\",\r\n                                        fontWeight: \"600\",\r\n                                        marginBottom: \"5px\",\r\n                                      }}\r\n                                    >\r\n                                      Old Comments:{\" \"}\r\n                                    </Typography>\r\n                                    <Typography\r\n                                      color=\"inherit\"\r\n                                      style={{\r\n                                        fontSize: \"13.5px\",\r\n                                        fontWeight: \"600\",\r\n                                        marginBottom: \"5px\",\r\n                                      }}\r\n                                    >\r\n                                      {conversation?.agent_comments?.map(\r\n                                        (i) => (\r\n                                          <div\r\n                                            style={{\r\n                                              fontSize: \"12px\",\r\n                                              fontWeight: \"normal\",\r\n                                            }}\r\n                                          >\r\n                                            {i}\r\n                                          </div>\r\n                                        )\r\n                                      )}\r\n                                    </Typography>\r\n                                  </>\r\n                                }\r\n                              >\r\n                                <InfoIcon\r\n                                  fontSize=\"small\"\r\n                                  style={{\r\n                                    fontSize: \"12px\",\r\n                                    cursor: \"pointer\",\r\n                                    marginLeft: \"1px\",\r\n                                  }}\r\n                                />\r\n                              </HtmlTooltip>\r\n                            </span>\r\n                          )}\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          fontWeight: \"800\",\r\n                          fontSize: \"14px\",\r\n                          maxWidth: \"270px\",\r\n                        }}\r\n                      >\r\n                        {conversation?.agent_comments_new &&\r\n                        conversation?.agent_comments_new.length > 0\r\n                          ? conversation?.agent_comments_new\r\n                              ?.slice(0, lastIndex)\r\n                              .map((i) => (\r\n                                <div>\r\n                                  [\r\n                                  {moment(i.timestamp).format(\r\n                                    \"MMM Do YY, h:mm a\"\r\n                                  )}\r\n                                  ] {i.agent_comment}\r\n                                </div>\r\n                              ))\r\n                          : \"---\"}\r\n                        {conversation?.agent_comments_new &&\r\n                        conversation?.agent_comments_new.length > 1 &&\r\n                        lastIndex == 1 ? (\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"flex-start\",\r\n                              color: \"#5555ff\",\r\n                              cursor: \"pointer\",\r\n                              fontSize: \"12px\",\r\n                            }}\r\n                            onClick={() =>\r\n                              setLastIndex(\r\n                                conversation?.agent_comments_new.length\r\n                              )\r\n                            }\r\n                          >\r\n                            Show More <ExpandMoreIcon fontSize=\"small\" />\r\n                          </div>\r\n                        ) : conversation?.agent_comments_new &&\r\n                          conversation?.agent_comments_new.length > 1 &&\r\n                          lastIndex > 1 ? (\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"flex-start\",\r\n                              color: \"#5555ff\",\r\n                              cursor: \"pointer\",\r\n                              fontSize: \"12px\",\r\n                            }}\r\n                            onClick={() => setLastIndex(1)}\r\n                          >\r\n                            Show Less <KeyboardArrowUpIcon fontSize=\"small\" />\r\n                          </div>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </DialogContentText>\r\n                  <DialogContentText\r\n                    id=\"scroll-dialog-description\"\r\n                    ref={descriptionElementRef_}\r\n                    tabIndex={-1}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      padding: \"10px 0px 20px 0px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                        marginBottom: \"20px\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Folder G-Drive Link:\r\n                      </div>\r\n                      {/* {conversation?.filelink\r\n                        ? conversation?.filelink.map((i, j) => (\r\n                            <a\r\n                              style={{ width: 'max-content' }}\r\n                              href={i}\r\n                              target='_blank'\r\n                            >\r\n                              File {j + 1}\r\n                            </a>\r\n                          ))\r\n                        : '---'} */}\r\n                      {conversation?.folderlink ? (\r\n                        <a\r\n                          style={{ width: \"max-content\" }}\r\n                          href={conversation?.folderlink}\r\n                          target=\"_blank\"\r\n                        >\r\n                          Click here\r\n                        </a>\r\n                      ) : (\r\n                        \"---\"\r\n                      )}\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                        marginBottom: \"20px\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>Form Link:</div>\r\n                      <a\r\n                        style={{ width: \"max-content\" }}\r\n                        href={`${linkBaseURL}/${conversation.session_id}/${conversation.client_id}?agent=success&key=poc_y6d_ui9`}\r\n                        target=\"_blank\"\r\n                      >\r\n                        Form Link\r\n                      </a>\r\n                    </div>\r\n                    {/* <div\r\n                      style={{\r\n                        display: 'flex',\r\n                        flex: '55%',\r\n                        flexDirection: 'column',\r\n                        marginBottom: '20px',\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: '14px' }}>Tutor Deadline:</div>\r\n                      <input type='datetime-local' style={{width: '130px', outline: 'none', borderRadius: '3px', border: '1px solid gray', fontFamily: 'inherit'}} onChange={(e) => setTutorDeadline(e.target.value)} />\r\n                    </div> */}\r\n                    {/* <div\r\n                      style={{\r\n                        display: 'flex',\r\n                        flex: '55%',\r\n                        flexDirection: 'column',\r\n                        marginBottom: '20px',\r\n                      }}\r\n                    >\r\n                    {conversation?.type == 'Live Session' &&\r\n                    <>\r\n                    <div style={{ fontSize: '14px' }}>Tutor Deadline:</div>\r\n                    <NumberFormat\r\n                      style={{width: \"60px\", outline: \"none\", borderRadius: \"3px\", border: \"1px solid gray\"}}\r\n                      format=\"## : ##\"\r\n                      placeholder=\"00 : 00\"\r\n                      onChange={(e) => setTutorDuration(e.target.value)}\r\n                      autoComplete=\"off\"\r\n                    />\r\n                    </>}\r\n                    </div> */}\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flex: \"55%\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: \"14px\" }}>\r\n                        Tutors for this {conversation?.type}:\r\n                      </div>\r\n                      {conversation?.notified_tutors &&\r\n                      conversation?.notified_tutors?.length > 0 ? (\r\n                        <NotifiedTutors\r\n                          notified_tutors={conversation?.notified_tutors}\r\n                          assigned_tutors={conversation?.assigned_tutors}\r\n                          tutor_interested={conversation?.tutor_interested}\r\n                          sessionId={conversation?.session_id}\r\n                          setAssignedTutor={setAssignedTutor}\r\n                          tutorPayout={tutorPayout}\r\n                          subject={conversation?.subject}\r\n                          deadline={conversation?.deadline}\r\n                          duration={conversation?.duration}\r\n                          updated={updated}\r\n                          setUpdated={setUpdated}\r\n                          sessionType={conversation.type}\r\n                          // tutor_dealt_amount={conversation?.tutor_dealt_amount}\r\n                        />\r\n                      ) : (\r\n                        \"---\"\r\n                      )}\r\n                    </div>\r\n                  </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={handleCloseSessionDetails}>Close</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={10000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SessionList;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport Box from '@mui/material/Box';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\nimport './session.css';\r\nimport SessionList from './SessionList';\r\n\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Pagination from '@mui/material/Pagination';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport ClearRoundedIcon from '@mui/icons-material/ClearRounded';\r\n\r\nimport Rating from '@mui/material/Rating';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport Chip from '@mui/material/Chip';\r\nimport StarPurple500SharpIcon from '@mui/icons-material/StarPurple500Sharp';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport { sendtemplateMsgUrl } from '../../serviceUrls/Message-Services';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Badge from '@mui/material/Badge';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport FilterListRoundedIcon from '@mui/icons-material/FilterListRounded';\r\nimport FilterListOffRoundedIcon from '@mui/icons-material/FilterListOffRounded';\r\n\r\nimport Drawer from '@mui/material/Drawer';\r\nimport List from '@mui/material/List';\r\nimport Divider from '@mui/material/Divider';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport DateRangePicker from '@mui/lab/DateRangePicker';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\n\r\nimport Stack from '@mui/material/Stack';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst Session = ({\r\n  tutorList,\r\n  setTutorList,\r\n  searchTutor,\r\n  tutorCount,\r\n  interestedTutors,\r\n  clientPayment,\r\n  tutorPayout,\r\n  handleSearchTutors\r\n}) => {\r\n  const [value, setValue] = useState(1);\r\n  const [val, setVal] = useState('1');\r\n  const [sessionList, setSessionList] = useState([]);\r\n  const [sessionListToday, setSessionListToday] = useState([]);\r\n  const [sessionListUpcoming, setSessionListUpcoming] = useState([]);\r\n  const [sessionListPast, setSessionListPast] = useState([]);\r\n  const [sessionCount, setSessionCount] = useState(0);\r\n  const [sessionPage, setSessionPage] = useState(1);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [scroll, setScroll] = useState('paper');\r\n  const descriptionElementRef = useRef(null);\r\n\r\n  const [tutorPage, setTutorPage] = useState(1);\r\n  const [sessionListLoading, setSessionListLoading] = useState(true);\r\n  const [sessionTime, setSessionTime] = useState('today');\r\n  const [searchSession, setSearchSession] = useState();\r\n\r\n  const [assignedTutor, setAssignedTutor] = useState();\r\n\r\n  const [updated, setUpdated] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const [clickedNoti, setClickedNoti] = useState(false);\r\n\r\n  const today = new Date();\r\n  let tomorrow =  new Date();\r\n  tomorrow.setDate(today.getDate() + 1);\r\n\r\n  const [applyFilter, setApplyFilter] = useState(false);\r\n  const [dateRange, setDateRange] = useState([null, null]);\r\n  const [filterValue, setFilterValue] = useState(null);\r\n  const [filterValue_, setFilterValue_] = useState(null);\r\n  const [filterValue2, setFilterValue2] = useState(null);\r\n  const [filterActive, setFilterActive] = useState(false);\r\n\r\n  const snackBarPos = {\r\n    vertical: 'bottom',\r\n    horizontal: 'right',\r\n  }\r\n  const { vertical, horizontal } = snackBarPos;\r\n\r\n\r\n  const [openSnackBar, setOpenSnackBar] = useState(false);\r\n\r\n  console.log(dateRange);\r\n  console.log(assignedTutor);\r\n\r\n  \r\n  const ITEM_HEIGHT = 48;\r\n\r\n  //fetching sessions list\r\n  useEffect(() => {\r\n    const getSessions = async () => {\r\n      if(searchSession) {\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/getSessions/${sessionTime}/${searchSession}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        setSessionListLoading(false);\r\n        setSessionList(res?.data?.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(value);\r\n      } catch (err) {\r\n        setSessionListLoading(false);\r\n        console.log(err.Error);\r\n      }\r\n    } else if(filterActive && filterValue || filterValue_ || filterValue2 || dateRange[0] || dateRange[1]) {\r\n      try {\r\n        let payload = {\r\n          work_status: filterValue,\r\n          payment_status: filterValue_,\r\n          tutor_payment_status: filterValue2,\r\n          from: dateRange[0],\r\n          to: dateRange[1]\r\n        }\r\n        const res = await axios.post(\r\n          `${localStorage.getItem('api')}/api/sessions/filter/filterSessions`, payload,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        setSessionListLoading(false);\r\n        setSessionList(res?.data?.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(value);\r\n      } catch (err) {\r\n        setSessionListLoading(false);\r\n        console.log(err.Error);\r\n      }\r\n    } else if(applyFilter) {\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/filterSessionsByDate/${dateRange[0]}/${dateRange[1]}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        setSessionListLoading(false);\r\n        setSessionList(res?.data?.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(value);\r\n      } catch (err) {\r\n        setSessionListLoading(false);\r\n        console.log(err.Error);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/getSessions/${sessionTime}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        setSessionListLoading(false);\r\n        setSessionList(res?.data?.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(value);\r\n      } catch (err) {\r\n        setSessionListLoading(false);\r\n        console.log(err.Error);\r\n      }\r\n    }\r\n    };\r\n    getSessions();\r\n  }, [sessionTime, assignedTutor, updated, reload, openSnackBar]);\r\n\r\n  const handleSessionList = async (event, value) => {\r\n    if (searchSession) {\r\n      setSessionListLoading(true);\r\n      setSessionPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/getSessions/${sessionTime}/${searchSession}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res.data.result);\r\n        setSessionListLoading(false);\r\n        setValue(value);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else if(filterActive) {\r\n      setSessionListLoading(true);\r\n      setSessionPage(value);\r\n      try {\r\n        let payload = {\r\n          work_status: filterValue,\r\n          payment_status: filterValue_,\r\n          tutor_payment_status: filterValue2,\r\n          from: dateRange[0],\r\n          to: dateRange[1]\r\n        }\r\n        const res = await axios.post(\r\n          `${localStorage.getItem('api')}/api/sessions/filter/filterSessions`, payload,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res.data.result);\r\n        setSessionListLoading(false);\r\n        setValue(value);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else if(applyFilter) {\r\n      setSessionListLoading(true);\r\n      setSessionPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/filterSessionsByDate/${dateRange[0]}/${dateRange[1]}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res.data.result);\r\n        setSessionListLoading(false);\r\n        setValue(value);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setSessionListLoading(true);\r\n      setSessionPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/getSessions/${sessionTime}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res?.data?.result);\r\n        setSessionListLoading(false);\r\n        setValue(value);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const openMenu = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setClickedNoti(true);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleSearchSession = async (e) => {\r\n    setSearchSession(e.target.value);\r\n    if (e.key == 'Enter') {\r\n      setSessionListLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/getSessions/${sessionTime}/${e.target.value}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionListLoading(false);\r\n        setSessionList(res.data.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(1);\r\n        setValue(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setVal(newValue);\r\n    console.log(newValue);\r\n    setSessionTime(\r\n      newValue === '1' ? 'today' : newValue === '2' ? 'upcoming' : 'past'\r\n    );\r\n    setValue(1);\r\n    setDateRange([null, null]);\r\n    setSessionListLoading(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  // let interestedTutorList = interestedTutors;\r\n  // console.log(interestedTutors.reverse())\r\n\r\n  useEffect(() => {\r\n    if(interestedTutors && interestedTutors.length > 0) {\r\n      setClickedNoti(false);\r\n    }\r\n  }, [interestedTutors]);\r\n\r\n  // filter session list by date\r\n  const handleFilterByDateRange = async () => {\r\n    setApplyFilter(true);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/sessions/filterSessionsByDate/${dateRange[0]}/${dateRange[1]}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 10,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res.data.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n  };\r\n\r\n  // filter sessions according to selected value\r\n  const handleApplyFilterSession = async () => {\r\n    // setApplyFilter(true);\r\n    try {\r\n      let payload = {\r\n        work_status: filterValue,\r\n        payment_status: filterValue_,\r\n        tutor_payment_status: filterValue2,\r\n        from: dateRange[0],\r\n        to: dateRange[1]\r\n      }\r\n      const res = await axios.post(\r\n        `${localStorage.getItem('api')}/api/sessions/filter/filterSessions`, payload,\r\n        {\r\n          params: {\r\n            page: 1,\r\n            limit: 10,\r\n          },\r\n        },\r\n        {\r\n          headers: '',\r\n        }\r\n        );\r\n        console.log(res.data);\r\n        setSessionList(res.data.result);\r\n        setSessionCount(res.data.length);\r\n        setSessionPage(1);\r\n        toggleDrawer('right', false)\r\n        setFilterActive(true);\r\n        setValue(1);\r\n        setState({ ...state, right: false });\r\n      // setTutorListLoading(false);\r\n      // setLoadingMsg(false);\r\n      // setPage(page + 1);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const [state, setState] = useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n\r\n  const toggleDrawer = (anchor, open) => (event) => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n\r\n    setState({ ...state, [anchor]: open });\r\n  };\r\n\r\n  const [range, setRange] = useState([20, 37]);\r\n\r\n  const handleRangeChange = (event, newValue) => {\r\n    setRange(newValue);\r\n  };\r\n\r\n  const handleFilterSession = (e) => {\r\n    setFilterValue(e.target.value);\r\n  }\r\n  const handleFilterSession_ = (e) => {\r\n    setFilterValue_(e.target.value);\r\n  }\r\n  const handleFilterSession2 = (e) => {\r\n    setFilterValue2(e.target.value);\r\n  }\r\n  console.log(filterValue);\r\n\r\n  const list = (anchor) => (\r\n    <Box\r\n      sx={{ width: anchor === 'top' || anchor === 'bottom' ? 'auto' : 360 }}\r\n      role=\"presentation\"\r\n      // onClick={toggleDrawer(anchor, false)}\r\n      onKeyDown={toggleDrawer(anchor, false)}\r\n    >\r\n      <div style={{padding: '18px', backgroundColor: '#04787C', color: '#ffff', fontSize: '18px', fontWeight: '600'}}>Filters</div>\r\n      <List>\r\n      <ListItem button key='Duration:'>\r\n            {/* <ListItemIcon>\r\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n            </ListItemIcon> */}\r\n            <ListItemText primary='Duration:' />\r\n            \r\n          </ListItem>\r\n      <div style={{display: 'flex', alignItems: 'center', padding: '0px 10px 0px 12px'}}>\r\n            {/* <span style={{fontSize: '14px'}}>Duration: &nbsp;</span> */}\r\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n              <DateRangePicker\r\n                label=\"Advanced keyboard\"\r\n                value={dateRange}\r\n                onChange={(newValue) => setDateRange(newValue)}\r\n                renderInput={(startProps, endProps) => (\r\n                  <React.Fragment>\r\n                    <Box sx={{ mx: 1, fontSize: '14px' }}> From </Box>\r\n                    <input ref={startProps.inputRef} {...startProps.inputProps} className='dateRange' />\r\n                    <Box sx={{ mx: 1, fontSize: '14px' }}> to </Box>\r\n                    <input ref={endProps.inputRef} {...endProps.inputProps} className='dateRange' />\r\n                  </React.Fragment>\r\n                )}\r\n              />\r\n            </LocalizationProvider>\r\n            {/* <Button variant=\"contained\" size=\"small\" color='primary' style={{fontSize: '11px', lineHeight: '1.6', minWidth: '57px', marginLeft: '22px'}} onClick={handleFilterByDateRange}>\r\n              Apply\r\n            </Button>\r\n            <>\r\n            <FilterListOffRoundedIcon style={{marginLeft: '20px', cursor: 'pointer'}} color='primary' onClick={() => {setDateRange([null, null]); setFilterValue(null); setFilterValue_(null); setOpenSnackBar(true);}} />\r\n            <Snackbar open={openSnackBar} autoHideDuration={6000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n              <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                Cleared all filters!\r\n              </Alert>\r\n            </Snackbar>\r\n            </> */}\r\n          </div>\r\n      </List>\r\n      <List>\r\n        {/* {['Deadline', 'Starred', 'Send email', 'Drafts'].map((text, index) => ( */}\r\n          <ListItem button key='Session Status:'>\r\n            {/* <ListItemIcon>\r\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n            </ListItemIcon> */}\r\n            <ListItemText primary='Session Status:' />\r\n            \r\n          </ListItem>\r\n          <div style={{display: 'flex', flexDirection: 'row', marginLeft: '18px'}}>\r\n          <RadioGroup row aria-label=\"gender\" name=\"row-radio-buttons-group\" value={filterValue} onChange={handleFilterSession}>\r\n          <FormControlLabel value=\"New Task\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"New Task\" />\r\n          <FormControlLabel value=\"Not Confirmed\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Not Confirmed\" />\r\n            <FormControlLabel value=\"Tutors Notified\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Tutors Notified\" />\r\n            <FormControlLabel value=\"Tutors Assigned\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Tutors Assigned\" />\r\n            <FormControlLabel value=\"Pending\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Pending\" />\r\n            <FormControlLabel value=\"In Progress\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"In Progress\" />\r\n            <FormControlLabel value=\"Client Cancelled\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Client Cancelled\" />\r\n            <FormControlLabel value=\"Agent Cancelled\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Agent Cancelled\" />\r\n            <FormControlLabel value=\"Completed\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Completed\" />\r\n      </RadioGroup>\r\n          </div>\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        {/* {['Deadline', 'Starred', 'Send email', 'Drafts'].map((text, index) => ( */}\r\n          <ListItem button key='Client Payment Status:'>\r\n            {/* <ListItemIcon>\r\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n            </ListItemIcon> */}\r\n            <ListItemText primary='Client Payment Status:' />\r\n            \r\n          </ListItem>\r\n          <div style={{display: 'flex', flexDirection: 'row', marginLeft: '18px'}}>\r\n          <RadioGroup row aria-label=\"gender\" name=\"row-radio-buttons-group\" value={filterValue_} onChange={handleFilterSession_}>\r\n        <FormControlLabel value=\"not_paid\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Not Paid\" />\r\n        <FormControlLabel value=\"partially_paid\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Partially Paid\" />\r\n        <FormControlLabel value=\"paid\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Fully Paid\" />\r\n      </RadioGroup>\r\n          </div>\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        {/* {['Deadline', 'Starred', 'Send email', 'Drafts'].map((text, index) => ( */}\r\n          <ListItem button key='Tutor Payment Status:'>\r\n            {/* <ListItemIcon>\r\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n            </ListItemIcon> */}\r\n            <ListItemText primary='Tutor Payment Status:' />\r\n            \r\n          </ListItem>\r\n          <div style={{display: 'flex', flexDirection: 'row', marginLeft: '18px'}}>\r\n          <RadioGroup row aria-label=\"gender\" name=\"row-radio-buttons-group\" value={filterValue2} onChange={handleFilterSession2}>\r\n        <FormControlLabel value=\"not_paid\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Payment pending\" />\r\n        <FormControlLabel value=\"paid\" control={<Radio size='small' style={{paddingRight: '5px'}} />} label=\"Payment released to all assigned tutors\" />\r\n      </RadioGroup>\r\n          </div>\r\n      </List>\r\n      <footer style={{padding: '18px', backgroundColor: '#FF9E00', color: '#ffff', fontSize: '18px', fontWeight: '600', textAlign: 'center', cursor: 'pointer', position: 'relative', top: 'calc(100vh - 635px'}} onClick={handleApplyFilterSession}>Apply Filter</footer>\r\n    </Box>\r\n  );\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TabContext value={val}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <TabList\r\n            onChange={handleChange}\r\n            aria-label='lab API tabs example'\r\n            centered\r\n          >\r\n            <Tab label='Next 24 Hrs' value='1' />\r\n            <Tab label='Upcoming' value='2' />\r\n            <Tab label='Past' value='3' />\r\n            <div style={{ placeSelf: 'center' }}>\r\n              <IconButton\r\n                aria-label='more'\r\n                id='long-button'\r\n                aria-controls='long-menu'\r\n                aria-expanded={openMenu ? 'true' : undefined}\r\n                aria-haspopup='true'\r\n                onClick={handleClick}\r\n              >\r\n                {interestedTutors && !clickedNoti ? <Badge color=\"success\" badgeContent=\"\" variant='dot'>\r\n                  <NotificationsIcon fontSize='small' style={{ placeSelf: 'center', color: 'gray' }} />\r\n                </Badge> :\r\n                <NotificationsIcon fontSize='small' style={{ placeSelf: 'center', color: 'gray' }} />}\r\n              </IconButton>\r\n              <Menu\r\n                id='long-menu'\r\n                MenuListProps={{\r\n                  'aria-labelledby': 'long-button',\r\n                }}\r\n                anchorEl={anchorEl}\r\n                open={openMenu}\r\n                onClose={handleClose}\r\n                PaperProps={{\r\n                  style: {\r\n                    maxHeight: ITEM_HEIGHT * 4.5,\r\n                    width: '35ch'\r\n                  },\r\n                }}\r\n              >\r\n                {interestedTutors ? interestedTutors?.map((option, i, arr) => (\r\n                  <MenuItem\r\n                    key={option.session_id}\r\n                    // selected={option.session_id == arr[0].session_id}\r\n                    onClick={handleClose}\r\n                    style={{\r\n                    fontSize:  '14px'\r\n                    }}\r\n                  >\r\n                   New tutor in session-<span style={{marginLeft: '4px', fontWeight: '700'}}>{option?.session_id}</span>\r\n                  </MenuItem>\r\n                )) : \r\n                  <MenuItem\r\n                    key='no'\r\n                    style={{fontSize: '14px'}}\r\n                  >\r\n                    No new notifications\r\n                  </MenuItem>}\r\n              </Menu>\r\n            </div>\r\n          </TabList>\r\n        </Box>\r\n        <TabPanel value='1' style={{ padding: '16px 10px' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0px 10px' }}>\r\n            <input\r\n              placeholder='Search for sessions'\r\n              className='sessionSearch'\r\n              // onChange={(e) => handleSearchTutors(e)}\r\n              onKeyPress={handleSearchSession}\r\n            />\r\n            <>\r\n              <FilterListRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={toggleDrawer('right', true)} />\r\n              <Drawer\r\n              anchor={'right'}\r\n              open={state['right']}\r\n              onClose={toggleDrawer('right', false)}\r\n              >\r\n                {list('right')}\r\n              </Drawer>\r\n            </>\r\n            <>\r\n            <FilterListOffRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={() => {setDateRange([null, null]); setFilterValue(null); setFilterValue_(null); setFilterValue2(null); setOpenSnackBar(true); setFilterActive(false)}} />\r\n            <Snackbar open={openSnackBar} autoHideDuration={2000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n              <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                Cleared all filters!\r\n              </Alert>\r\n            </Snackbar>\r\n            </>\r\n          </div>\r\n          {/* <div style={{display: 'flex', alignItems: 'center', padding: '10px 10px 10px 12px'}}>\r\n            <span style={{fontSize: '14px'}}>Duration: &nbsp;</span>\r\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n              <DateRangePicker\r\n                label=\"Advanced keyboard\"\r\n                value={dateRange}\r\n                onChange={(newValue) => setDateRange(newValue)}\r\n                renderInput={(startProps, endProps) => (\r\n                  <React.Fragment>\r\n                    <input ref={startProps.inputRef} {...startProps.inputProps} className='dateRange' />\r\n                    <Box sx={{ mx: 1, fontSize: '14px' }}> to </Box>\r\n                    <input ref={endProps.inputRef} {...endProps.inputProps} className='dateRange' />\r\n                  </React.Fragment>\r\n                )}\r\n              />\r\n            </LocalizationProvider>\r\n            <Button variant=\"contained\" size=\"small\" color='primary' style={{fontSize: '11px', lineHeight: '1.6', minWidth: '57px', marginLeft: '22px'}} onClick={handleFilterByDateRange}>\r\n              Apply\r\n            </Button>\r\n          </div> */}\r\n\r\n          {sessionListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='sessionMenuWrapper'>\r\n              {sessionList?.map((c) => (\r\n                <div\r\n                // onClick={() => {\r\n                //   setCurrentChat(c);\r\n                //   setHighlighted(true);\r\n                //   setShowTemplateMsg(false);\r\n                //   setTaglabel('');\r\n                //   setTagUpdated('');\r\n                // }}\r\n                >\r\n                  <SessionList\r\n                    conversation={c}\r\n                    tutorList={tutorList}\r\n                    setTutorList={setTutorList}\r\n                    searchTutor={searchTutor}\r\n                    tutorCount={tutorCount}\r\n                    setAssignedTutor={setAssignedTutor}\r\n                    interestedTutors={interestedTutors}\r\n                    clientPayment={clientPayment}\r\n                    tutorPayout={tutorPayout}\r\n                    updated={updated}\r\n                    setUpdated={setUpdated}\r\n                    setReload={setReload}\r\n                    reload={reload}\r\n                    handleSearchTutors={handleSearchTutors}\r\n                    // setTutorTagUpdated={setTutorTagUpdated}\r\n                    // setTutorRatingUpdated={setTutorRatingUpdated}\r\n                    // currentChat={currentChat}\r\n                    // finalMessage={finalMessage}\r\n                    // alertMsg={alertMsg}\r\n                    // arrivalMessage={arrivalMessage}\r\n                    // alert={alert}\r\n                    // // newNotification={newNotification}\r\n                    // setAlert={setAlert}\r\n                    // msgCountUpdated={msgCountUpdated}\r\n                    // setMsgCountUpdated={setMsgCountUpdated}\r\n                    // setPinned={setPinned}\r\n                    // setMarkChat={setMarkChat}\r\n                    // setAlertUpdate={setAlertUpdate}\r\n                    // apiUrl={apiUrl}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(sessionCount / 10)}\r\n                page={sessionPage}\r\n                onChange={handleSessionList}\r\n              />\r\n            </div>\r\n          )}\r\n        </TabPanel>\r\n        <TabPanel value='2' style={{ padding: '16px 10px' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0px 10px' }}>\r\n            <input\r\n              placeholder='Search for sessions'\r\n              className='sessionSearch'\r\n              // onChange={(e) => handleSearchTutors(e)}\r\n              onKeyPress={handleSearchSession}\r\n            />\r\n            <>\r\n              <FilterListRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={toggleDrawer('right', true)} />\r\n              <Drawer\r\n              anchor={'right'}\r\n              open={state['right']}\r\n              onClose={toggleDrawer('right', false)}\r\n              >\r\n                {list('right')}\r\n              </Drawer>\r\n            </>\r\n            <>\r\n            <FilterListOffRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={() => {setDateRange([null, null]); setFilterValue(null); setFilterValue_(null); setFilterValue2(null); setOpenSnackBar(true)}} />\r\n            <Snackbar open={openSnackBar} autoHideDuration={2000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n              <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                Cleared all filters!\r\n              </Alert>\r\n            </Snackbar>\r\n            </>       \r\n            </div>\r\n          {sessionListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='sessionMenuWrapper'>\r\n              {sessionList?.map((c) => (\r\n                <div\r\n                // onClick={() => {\r\n                //   setCurrentChat(c);\r\n                //   setHighlighted(true);\r\n                //   setShowTemplateMsg(false);\r\n                //   setTaglabel('');\r\n                //   setTagUpdated('');\r\n                // }}\r\n                >\r\n                  <SessionList\r\n                    conversation={c}\r\n                    tutorList={tutorList}\r\n                    setTutorList={setTutorList}\r\n                    searchTutor={searchTutor}\r\n                    tutorCount={tutorCount}\r\n                    setAssignedTutor={setAssignedTutor}\r\n                    interestedTutors={interestedTutors}\r\n                    clientPayment={clientPayment}\r\n                    tutorPayout={tutorPayout}\r\n                    updated={updated}\r\n                    setUpdated={setUpdated}\r\n                    setReload={setReload}\r\n                    reload={reload}                    \r\n                    handleSearchTutors={handleSearchTutors}\r\n\r\n                    // setTutorTagUpdated={setTutorTagUpdated}\r\n                    // setTutorRatingUpdated={setTutorRatingUpdated}\r\n                    // currentChat={currentChat}\r\n                    // finalMessage={finalMessage}\r\n                    // alertMsg={alertMsg}\r\n                    // arrivalMessage={arrivalMessage}\r\n                    // alert={alert}\r\n                    // // newNotification={newNotification}\r\n                    // setAlert={setAlert}\r\n                    // msgCountUpdated={msgCountUpdated}\r\n                    // setMsgCountUpdated={setMsgCountUpdated}\r\n                    // setPinned={setPinned}\r\n                    // setMarkChat={setMarkChat}\r\n                    // setAlertUpdate={setAlertUpdate}\r\n                    // apiUrl={apiUrl}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(sessionCount / 10)}\r\n                page={sessionPage}\r\n                onChange={handleSessionList}\r\n              />\r\n            </div>\r\n          )}\r\n        </TabPanel>\r\n        <TabPanel value='3' style={{ padding: '16px 10px' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0px 10px' }}>\r\n            <input\r\n              placeholder='Search for sessions'\r\n              className='sessionSearch'\r\n              // onChange={(e) => handleSearchTutors(e)}\r\n              onKeyPress={handleSearchSession}\r\n            />\r\n            <>\r\n              <FilterListRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={toggleDrawer('right', true)} />\r\n              <Drawer\r\n              anchor={'right'}\r\n              open={state['right']}\r\n              onClose={toggleDrawer('right', false)}\r\n              >\r\n                {list('right')}\r\n              </Drawer>\r\n            </>\r\n            <>\r\n            <FilterListOffRoundedIcon style={{alignSelf: 'center', cursor: 'pointer'}} fontSize='medium' color='primary' onClick={() => {setDateRange([null, null]); setFilterValue(null); setFilterValue_(null); setFilterValue2(null); setOpenSnackBar(true)}} />\r\n            <Snackbar open={openSnackBar} autoHideDuration={2000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n              <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                Cleared all filters!\r\n              </Alert>\r\n            </Snackbar>\r\n            </>\r\n          </div>\r\n\r\n          {sessionListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='sessionMenuWrapper'>\r\n              {sessionList?.map((c) => (\r\n                <div\r\n                // onClick={() => {\r\n                //   setCurrentChat(c);\r\n                //   setHighlighted(true);\r\n                //   setShowTemplateMsg(false);\r\n                //   setTaglabel('');\r\n                //   setTagUpdated('');\r\n                // }}\r\n                >\r\n                  <SessionList\r\n                    conversation={c}\r\n                    tutorList={tutorList}\r\n                    setTutorList={setTutorList}\r\n                    searchTutor={searchTutor}\r\n                    tutorCount={tutorCount}\r\n                    setAssignedTutor={setAssignedTutor}\r\n                    interestedTutors={interestedTutors}\r\n                    clientPayment={clientPayment}\r\n                    tutorPayout={tutorPayout}\r\n                    updated={updated}\r\n                    setUpdated={setUpdated}\r\n                    setReload={setReload}\r\n                    reload={reload}\r\n                    handleSearchTutors={handleSearchTutors}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(sessionCount / 10)}\r\n                page={sessionPage}\r\n                onChange={handleSessionList}\r\n              />\r\n            </div>\r\n          )}\r\n        </TabPanel>\r\n      </TabContext>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Session;\r\n","import { useState, useEffect } from 'react';\r\nimport './payment.css'\r\nimport axios from 'axios';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\n\r\nconst columns = [\r\n  { field: 'id', headerName: 'SL No.', width: 70 },\r\n  { field: 'txnId', headerName: 'ID', width: 180 },\r\n  { field: 'tutorId', headerName: 'Tutor ID', width: 180 },\r\n  { field: 'amount', headerName: 'Amount', width: 130 },\r\n  { field: 'status', headerName: 'Status', width: 120 },\r\n];\r\n\r\n\r\nconst PaymentData = () => {\r\n  const [payDet, setPayDet] = useState();\r\n  const [paymentCount, setpaymentCount] = useState();\r\n\r\n  const payHeaders = {\r\n    username: 'rzp_live_Jk4vwq7tyL9Aeg',\r\n    password: 'qUjOJWotN6x47WSDExJ4NURs',\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getPaymentDetails = async () => {\r\n      const response = await axios.get(\r\n        `${localStorage.getItem('api')}/api/payments/payouts?account_number=3434949239801329`,\r\n        {\r\n          headers: {\r\n            ...payHeaders,\r\n          },\r\n        }\r\n      );\r\n      // const data = await response.json();\r\n      setPayDet(response?.data?.items);\r\n      setpaymentCount(response?.data?.count);\r\n    };\r\n    getPaymentDetails();\r\n  }, []);\r\n\r\n  const rows = payDet?.map((i, j) => ({\r\n    id: j+1,\r\n    txnId: i.id,\r\n    tutorId: i.reference_id,\r\n    amount: i.amount/100 + ' INR',\r\n    status: i.status,\r\n  }));\r\n  //   const rows = [\r\n  //     { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 }]\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n        //   borderLeft: '1px solid rgba(224, 224, 224, 1)',\r\n          fontFamily: 'sans-serif',\r\n          fontSize: '17px',\r\n          fontWeight: '500',\r\n          padding: '18px 15px',\r\n        }}\r\n      >\r\n        Payment History\r\n        <hr\r\n          style={{\r\n            width: '12%',\r\n            marginLeft: '1px',\r\n            marginTop: '2px',\r\n            marginBottom: '2px',\r\n            background: 'coral',\r\n            borderColor: 'coral',\r\n            borderRadius: '5px',\r\n          }}\r\n        />\r\n      </div>\r\n      <div style={{ height: '85vh', width: '100%' }}>\r\n        <DataGrid\r\n          rows={rows}\r\n          columns={columns}\r\n          pageSize={20}\r\n          rowsPerPageOptions={[20]}\r\n          style={{ borderRadius: '0px', border: '0px', borderTop: '1px solid rgba(224, 224, 224, 1)' }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentData;\r\n","import '../../pages/messenger/messenger.css';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport TutorContact from '../tutorContacts/TutorContact';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport Session from '../sessionTab/Session';\r\nimport PaymentData from '../paymentTab/PaymentData';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Badge from '@mui/material/Badge';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nconst RightSec = ({newSessions, interestedTutors, clientPayment, tutorPayout}) => {\r\n  const [tutorList, setTutorList] = useState([]);\r\n  const [tutorTagUpdated, setTutorTagUpdated] = useState();\r\n  const [tutorRatingUpdated, setTutorRatingUpdated] = useState();\r\n  const [searchTutor, setSearchTutor] = useState();\r\n\r\n  const [tutorCount, setTutorCount] = useState(0);\r\n  const [tutorPage, setTutorPage] = useState(1);\r\n  const [tutorListLoading, setTutorListLoading] = useState(true);\r\n\r\n  const [tutorTab, setTutorTab] = useState(true);\r\n  const [sessionTab, setSessionTab] = useState(false);\r\n  const [paymentTab, setPaymentTab] = useState(false);\r\n  const [clickedNoti, setClickedNoti] = useState(false);\r\n  const [val, setval] = useState(1);\r\n  const [updated, setUpdated] = useState(false);\r\n\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const openMenu = Boolean(anchorEl);\r\n  const ITEM_HEIGHT = 48;\r\n  \r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setClickedNoti(true);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  //fetching tutors list\r\n  useEffect(() => {\r\n    const getTutors = async () => {\r\n\r\n      if(searchTutor) {\r\n        try {\r\n          const res = await axios.get(\r\n            `${localStorage.getItem('api')}/api/tutor/getTutors/${searchTutor}`,\r\n            {\r\n              params: {\r\n                page: val,\r\n                limit: 20,\r\n              },\r\n            },\r\n            {\r\n              headers: '',\r\n            }\r\n          );\r\n          setTutorList(res.data.result);\r\n          setTutorListLoading(false);\r\n          setTutorCount(res.data.length);\r\n          setTutorPage(val);\r\n\r\n        } catch (err) {\r\n          setTutorListLoading(false);\r\n          console.log(err.Error);\r\n        }\r\n      } else {\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        setTutorList(res?.data?.result);\r\n        setTutorCount(res.data.length);\r\n        setTutorListLoading(false);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n        setTutorListLoading(false);\r\n      }\r\n    }\r\n    };\r\n    getTutors();\r\n  }, [tutorTagUpdated, tutorRatingUpdated, updated]);\r\n\r\n  useEffect(() => {\r\n    if(newSessions && newSessions.length > 0) {\r\n      setClickedNoti(false);\r\n    }\r\n  }, [newSessions])\r\n\r\n  const handleTutorList = async (event, value) => {\r\n    if (searchTutor) {\r\n      setTutorListLoading(true);\r\n      setTutorPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors/${searchTutor}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setTutorList(res.data.result);\r\n        setTutorListLoading(false);\r\n        setval(value);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setTutorListLoading(true);\r\n      setTutorPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setTutorList(res.data.result);\r\n        setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchTutors = async (e) => {\r\n    setSearchTutor(e.target.value);\r\n    if (e.key == 'Enter') {\r\n      setTutorListLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          `${localStorage.getItem('api')}/api/tutor/getTutors/${e.target.value}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setTutorListLoading(false);\r\n        setTutorList(res.data.result);\r\n        setTutorCount(res.data.length);\r\n        setTutorPage(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTutorTab = () => {\r\n    setTutorTab(true);\r\n    setSessionTab(false);\r\n    setPaymentTab(false);\r\n  };\r\n  const handleSessionTab = () => {\r\n    setTutorTab(false);\r\n    setSessionTab(true);\r\n    setPaymentTab(false);\r\n  };\r\n  const handlePaymentTab = () => {\r\n    setTutorTab(false);\r\n    setSessionTab(false);\r\n    setPaymentTab(true);\r\n  };\r\n\r\n  //   const logOutFunc = () => {\r\n  //     localStorage.clear();\r\n  //     window.location.reload();\r\n  //   };\r\n\r\n  return (\r\n    <div className='chatMenu2'>\r\n      <header className='chat_header2'>\r\n        <div\r\n          style={{\r\n            flex: '1',\r\n            fontSize: `${tutorTab ? '17px' : '16px'}`,\r\n            fontWeight: '600',\r\n            height: '100%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backgroundColor: `${tutorTab ? '#5e8de7' : '#EDEDED'}`,\r\n            color: `${tutorTab ? '#fff' : 'black'}`,\r\n            borderRight: '1px solid lightgray',\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={handleTutorTab}\r\n        >\r\n          Tutors List\r\n        </div>\r\n        <div\r\n          style={{\r\n            flex: '1',\r\n            fontSize: `${sessionTab ? '17px' : '16px'}`,\r\n            // marginLeft: '10px',\r\n            fontWeight: '600',\r\n            height: '100%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backgroundColor: `${sessionTab ? '#5e8de7' : '#EDEDED'}`,\r\n            color: `${sessionTab ? '#fff' : 'black'}`,\r\n            borderRight: '1px solid lightgray',\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={handleSessionTab}\r\n        >\r\n          Sessions\r\n        </div>\r\n        <div\r\n          style={{\r\n            flex: '1',\r\n            fontSize: `${paymentTab ? '17px' : '16px'}`,\r\n            // marginLeft: '10px',\r\n            fontWeight: '600',\r\n            height: '100%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backgroundColor: `${paymentTab ? '#5e8de7' : '#EDEDED'}`,\r\n            color: `${paymentTab ? '#fff' : 'black'}`,\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={handlePaymentTab}\r\n        >\r\n          Payments\r\n        </div><div\r\n          // style={{\r\n          //   flex: '1',\r\n          //   fontSize: `${paymentTab ? '17px' : '16px'}`,\r\n          //   // marginLeft: '10px',\r\n          //   fontWeight: '600',\r\n          //   height: '100%',\r\n          //   display: 'flex',\r\n          //   alignItems: 'center',\r\n          //   justifyContent: 'center',\r\n          //   backgroundColor: `${paymentTab ? '#5e8de7' : '#EDEDED'}`,\r\n          //   color: `${paymentTab ? '#fff' : 'black'}`,\r\n          // }}\r\n        >\r\n           <div style={{ placeSelf: 'center' }}>\r\n              <IconButton\r\n                aria-label='more'\r\n                style={{marginLeft: '-16px', marginRight: '6px'}}\r\n                id='long-button'\r\n                aria-controls='long-menu'\r\n                aria-expanded={openMenu ? 'true' : undefined}\r\n                aria-haspopup='true'\r\n                onClick={handleClick}\r\n              >\r\n                {newSessions && !clickedNoti ? <Badge color=\"success\" badgeContent=\"\" variant='dot'>\r\n                  <NotificationsIcon fontSize='small' style={{ placeSelf: 'center', color: 'gray' }} />\r\n                </Badge> :\r\n                <NotificationsIcon fontSize='small' style={{ placeSelf: 'center', color: 'gray' }} />}\r\n              </IconButton>\r\n              <Menu\r\n                id='long-menu'\r\n                MenuListProps={{\r\n                  'aria-labelledby': 'long-button',\r\n                }}\r\n                anchorEl={anchorEl}\r\n                open={openMenu}\r\n                onClose={handleClose}\r\n                PaperProps={{\r\n                  style: {\r\n                    maxHeight: ITEM_HEIGHT * 4.5,\r\n                    width: '35ch',\r\n                  },\r\n                }}\r\n              >\r\n                {newSessions ? newSessions?.map((option, i, arr) => (\r\n                  <MenuItem\r\n                    key={option.session_id}\r\n                    // selected={option.session_id == arr[0].session_id}\r\n                    onClick={handleClose}\r\n                    style={{\r\n                      fontSize: '14px'\r\n                    }}\r\n                  >\r\n                   New<span style={{marginLeft: '4px', marginRight: '4px', fontWeight: '700'}}>{option?.type}</span>available<span style={{marginLeft: '4px', fontWeight: '700'}}>{'ID: '}{option?.session_id}</span> \r\n                  </MenuItem>\r\n                )) : \r\n                  <MenuItem\r\n                    key='no'\r\n                  >\r\n                    No new notifications\r\n                  </MenuItem>}\r\n              </Menu>\r\n            </div>\r\n        </div>\r\n        {/* <PersonAddAltOutlinedIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: addNewContact ? '#337DDD' : '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => setAddNewContact(true)}\r\n            /> */}\r\n        {/* <MoreVertIcon\r\n              style={{\r\n                fontSize: '25px',\r\n                color: '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '-10px',\r\n              }}\r\n            /> */}\r\n      </header>\r\n      {tutorTab ? (\r\n        <div>\r\n          <div\r\n            style={{\r\n              height: '2.3rem',\r\n              padding: '6px 0px 6px 17px',\r\n              backgroundColor: '#9DE1FE',\r\n            }}\r\n          >\r\n            <input\r\n              placeholder='Search for tutors'\r\n              className='chatMenuInput'\r\n              // onChange={(e) => handleSearchTutors(e)}\r\n              onKeyPress={handleSearchTutors}\r\n            />\r\n          </div>\r\n\r\n          {tutorListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='chatMenuWrapper'>\r\n              {tutorList?.map((c) => (\r\n                <div\r\n                // onClick={() => {\r\n                //   setCurrentChat(c);\r\n                //   setHighlighted(true);\r\n                //   setShowTemplateMsg(false);\r\n                //   setTaglabel('');\r\n                //   setTagUpdated('');\r\n                // }}\r\n                >\r\n                  <TutorContact\r\n                    conversation={c}\r\n                    setTutorTagUpdated={setTutorTagUpdated}\r\n                    setTutorRatingUpdated={setTutorRatingUpdated}\r\n                    updated={updated}\r\n                    setUpdated={setUpdated}\r\n                    searchTutor={searchTutor}\r\n                    // currentChat={currentChat}\r\n                    // finalMessage={finalMessage}\r\n                    // alertMsg={alertMsg}\r\n                    // arrivalMessage={arrivalMessage}\r\n                    // alert={alert}\r\n                    // // newNotification={newNotification}\r\n                    // setAlert={setAlert}\r\n                    // msgCountUpdated={msgCountUpdated}\r\n                    // setMsgCountUpdated={setMsgCountUpdated}\r\n                    // setPinned={setPinned}\r\n                    // setMarkChat={setMarkChat}\r\n                    // setAlertUpdate={setAlertUpdate}\r\n                    // apiUrl={apiUrl}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(tutorCount / 20)}\r\n                page={tutorPage}\r\n                onChange={handleTutorList}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : sessionTab ? (\r\n        <div>\r\n          <Session tutorList={tutorList} setTutorList={setTutorList} searchTutor={searchTutor} handleSearchTutors={handleSearchTutors} tutorCount={tutorCount} interestedTutors={interestedTutors} clientPayment={clientPayment} tutorPayout={tutorPayout} />\r\n        </div>\r\n      ) : paymentTab ? (\r\n        <div>\r\n          <PaymentData />\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSec;\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DynamicFormIcon from '@mui/icons-material/DynamicForm';\r\nimport Link from '@mui/material/Link';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport NativeSelect from '@mui/material/NativeSelect';\r\nimport { createSessionUrl } from '../../serviceUrls/Message-Services';\r\nimport { NAME_SPACE, WAID } from '../../utils/variables';\r\n\r\n\r\nconst FormCreation = ({ clientId, clientWaId, clientName, agent }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [sessionData, setSessionData] = useState([]);\r\n  const [formLink, setFormLink] = useState();\r\n  const [btnDisabled, setBtnDisabled] = useState(false);\r\n  const [closeBtnDisabled, setCloseBtnDisabled] = useState(false);\r\n  const [clientAmt, setClientAmt] = useState();\r\n  const [currency, setCurrency] = useState('USD')\r\n  const [values, setValues] = useState({\r\n    numberformat: '1320',\r\n  });\r\n  const [executive, setExecutive] = useState();\r\n  const [errorMsg, setErrorMsg] = useState('Please enter your name here!');\r\n  let deviceNo = localStorage.getItem('device');\r\n  const linkBaseURL = `https://client-response.tutorpoint.in/d${deviceNo}/live-session-form`;\r\n\r\n  const handleClickOpen = () => {\r\n    getSessionDet();\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setFormLink('');\r\n    setBtnDisabled(false);\r\n  };\r\n\r\n  const handleChangeAmt = (event) => {\r\n    console.log(event.target.value)\r\n    setClientAmt(event.target.value);\r\n  };\r\n\r\n  const handleChangeCurrency = (event) => {\r\n    setCurrency(event.target.value);\r\n    console.log(event.target.value)\r\n  };\r\n\r\n  //session form link creation\r\n  const getSessionDet = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem('api')}/api/sessions/getSessionDetails/${clientId}`,\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      setSessionData(res?.data?.result);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const executiveName = (event) => {\r\n    if(event.target.value) {\r\n     setExecutive(event.target.value);\r\n     setErrorMsg(null);\r\n    }\r\n    else {\r\n      setErrorMsg('Please enter your name here!');\r\n    }\r\n  }\r\n\r\n  const linkGenerator = async () => {\r\n    setBtnDisabled(true);\r\n    setCloseBtnDisabled(true);\r\n    const payload = {\r\n      session_id: sessionData.length > 0 ? +sessionData[sessionData.length - 1]?.session_id + 1 + '' : clientId + '1010',\r\n      client_id: clientId,\r\n      client_waId: clientWaId,\r\n      client_name: clientName,\r\n      session_agent: agent,\r\n      opExecutive: executive\r\n      // client_amount: clientAmt,\r\n      // currency: currency\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        createSessionUrl,\r\n        payload,\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      \r\n      // generating g-drive link for session form\r\n      const payload2 = {\r\n        sessionId: res?.data?.result.session_id,\r\n        clientId: res?.data?.result.client_id\r\n      }\r\n      const res2 = await axios.post(`${localStorage.getItem('api')}/api/sessions/folderBuilder`, payload2);\r\n      \r\n      const link = `${linkBaseURL}/${res?.data?.result.session_id}/${res?.data?.result.client_id}?agent=success&key=poc_y6d_ui9`;\r\n      const tempBody = {\r\n        name: clientName,\r\n        from: '',\r\n        wa_id: clientWaId,\r\n        templateName: `clientsessionform_create_send_${WAID}`,\r\n        templateText: \"Hi *{{1}}*, This is Tutorpoint\\n\\nPlease click on the button below to submit your assignment work or book a live question session with us. \\n\\nAfter submitting the request, wait for sometime to get the confirmation about the price and deadline from us. We will start only after you have confirmed the price and deadline of session with our agent.\\n\\nPlease fill the form carefully. For any issues, you can call us by clicking the button below.\\n\\n\",\r\n        template: {\r\n          namespace: NAME_SPACE,\r\n          language: \"en\",\r\n        },\r\n        param1: \"Session Request \" + res?.data?.result.session_id,\r\n        param2: clientName,\r\n        param3: `d${deviceNo}/live-session-form/${res?.data?.result.session_id}/${res?.data?.result.client_id}`,\r\n        button: '',\r\n        timestamp: '',\r\n        operatorName: '',\r\n        isOwner: true,\r\n        status: '',\r\n        ticketId: '',\r\n        eventType: 'template',\r\n      };\r\n      const sendTemplate = await axios.post(`${localStorage.getItem('api')}/api/messages/clientTemplate`, tempBody, {\r\n        headers: '',\r\n      }\r\n      );\r\n      setFormLink(link);\r\n      setBtnDisabled(true);\r\n      setCloseBtnDisabled(false);\r\n    } catch (err) {\r\n      setBtnDisabled(false);\r\n      setCloseBtnDisabled(false);\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DynamicFormIcon\r\n        fontSize='medium'\r\n        className='templateMsg'\r\n        onClick={handleClickOpen}\r\n      />\r\n      <Dialog open={open}>\r\n        <DialogTitle>Create Form Link</DialogTitle>\r\n        <DialogContent style={{ marginBottom: '20px', marginTop: '20px' }}>\r\n          <label style={{ fontSize: '13px' }}>Session ID</label>\r\n          <TextField\r\n            // autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            // label=\"Session ID\"\r\n            // placeholder=\"Session ID\"\r\n            type='text'\r\n            value={sessionData.length > 0 ? +sessionData[sessionData.length - 1]?.session_id + 1 + '' : clientId + '1010'}\r\n            fullWidth\r\n            variant='standard'\r\n            style={{ marginBottom: '30px' }}\r\n          />\r\n          <label style={{ fontSize: '13px' }}>Client ID</label>\r\n          <TextField\r\n            // autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            // label=\"Session ID\"\r\n            // placeholder=\"Session ID\"\r\n            type='text'\r\n            value={clientId}\r\n            style={{ marginBottom: '27px' }}\r\n            fullWidth\r\n            variant='standard'\r\n          />\r\n          <label style={{ fontSize: '13px' }}>Agent/Executive Name</label>\r\n          <TextField\r\n            // autoFocus\r\n            margin='dense'\r\n            id='name'\r\n            // label=\"Session ID\"\r\n            // placeholder=\"Agent name\"\r\n            type='text'\r\n            // value={executive}\r\n            onChange={executiveName}\r\n            // style={{ marginBottom: '27px' }}\r\n            fullWidth\r\n            required\r\n            variant='standard'\r\n          />\r\n          {errorMsg && <p style={{fontSize: '11px', color: 'red', margin: '0px 0px 5px 0px'}}>{errorMsg}</p>}\r\n          {/* <label style={{ fontSize: '13px' }}>Client Amount</label>\r\n          <FormControl fullWidth style={{display: 'flex', flexDirection: 'row'}}>\r\n        <NativeSelect\r\n          defaultValue='USD'\r\n          inputProps={{\r\n            name: 'amount',\r\n            id: 'uncontrolled-native',\r\n          }}\r\n          style={{ width: '20%', padding: '6px 5px', marginTop: '8px', fontSize: '14px'}}\r\n          onChange={handleChangeCurrency}\r\n        >\r\n          <option value='USD'>USD</option>\r\n          <option value='EUR'>EUR</option>\r\n          <option value='BHD'>BHD</option>\r\n          <option value='INR'>INR</option>\r\n          <option value='CAD'>CAD</option>\r\n          <option value='AUD'>AUD</option>\r\n          <option value='GBP'>GBP</option>\r\n          <option value='AED'>AED</option>\r\n        </NativeSelect>\r\n          <TextField\r\n            margin='dense'\r\n            id='amount'\r\n            // label=\"Session ID\"\r\n            // placeholder=\"Session ID\"\r\n            // name='numberformat'\r\n            value={clientAmt}\r\n            // value={values.numberformat}\r\n            style={{ marginTop: '18px', marginBottom: '0px', marginLeft: '5px' }}\r\n            onChange={handleChangeAmt}\r\n            fullWidth\r\n            variant='standard'\r\n          />\r\n      </FormControl> */}\r\n          {formLink ? (\r\n            <>\r\n              <p style={{ fontSize: '13px', marginBottom: '8px', marginTop: '25px' }}>Form Link</p>\r\n              <Link\r\n                underline='always'\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={() => window.open(formLink, '_blank')}\r\n              >\r\n                {formLink?.slice(0, 41).concat(' ...')}\r\n              </Link>\r\n            </>\r\n          ) : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {closeBtnDisabled ? <Button disabled>Creating...</Button> : <Button onClick={handleClose}>Close</Button>}\r\n          {!btnDisabled && !errorMsg && <Button onClick={linkGenerator}>Create</Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\nexport default FormCreation;\r\n","import { useState } from 'react';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport axios from 'axios';\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\nexport default function MoreMenu({\r\n  data,\r\n  setCurrentChat,\r\n  setFinalMessage,\r\n  scrollRef,\r\n  setScrollView_,\r\n  handleCloseModal,\r\n  setAllNotes,\r\n  setPage\r\n}) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = async (event, wa_id) => {\r\n    setAnchorEl(event.currentTarget);\r\n    try {\r\n      const res_ = await axios.get(\r\n        `${localStorage.getItem('api')}/api/conversations/findContact/${wa_id}`\r\n      );\r\n      setCurrentChat(res_?.data?.result[0]);\r\n      setScrollView_(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const openInChat = async (wa_id, time) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem('api')}/api/messages/filteredMsg/${wa_id}/${time}`\r\n      );\r\n      setFinalMessage([...res?.data]);\r\n      setPage(Math.floor(res?.data.length/20) + 1);\r\n      handleCloseModal();\r\n      setAllNotes([]);\r\n      setScrollView_(false);\r\n      window.scrollTo(0, scrollRef.current.offsetTop);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label='more'\r\n        id='long-button'\r\n        aria-controls={open ? 'long-menu' : undefined}\r\n        aria-expanded={open ? 'true' : undefined}\r\n        aria-haspopup='true'\r\n        onClick={(e) => handleClick(e, data?.wa_id)}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id='long-menu'\r\n        MenuListProps={{\r\n          'aria-labelledby': 'long-button',\r\n        }}\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n          style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5,\r\n            width: '20ch',\r\n          },\r\n        }}\r\n      >\r\n        <MenuItem\r\n          key='i'\r\n          onClick={() => openInChat(data?.wa_id, data?.createdAt)}\r\n        >\r\n          Show in chat\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport './noteHistory.css';\r\nimport moment from 'moment';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport CommentOutlinedIcon from '@mui/icons-material/CommentOutlined';\r\nimport Link from '@mui/material/Link';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MoreMenu from './MoreMenu';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\n\r\nconst NoteHistory = ({ setCurrentChat, setFinalMessage, scrollRef, setScrollView_, setPage }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const openMore = Boolean(anchorEl);\r\n  const [allNotes, setAllNotes] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const descriptionElementRef = useRef(null);\r\n  const [val, setVal] = useState(1);\r\n  const [count, setCount] = useState(0);\r\n  const [notePage, setNotePage] = useState(1);\r\n  const [btnDisabled, setBtnDisabled] = useState(false);\r\n  const [closeBtnDisabled, setCloseBtnDisabled] = useState(false);\r\n  const [clientAmt, setClientAmt] = useState();\r\n  const [currency, setCurrency] = useState('USD');\r\n  const [scroll, setScroll] = useState('paper');\r\n  const [errorMsg, setErrorMsg] = useState('Please enter your name here!');\r\n  let deviceNo = localStorage.getItem('device');\r\n  const ITEM_HEIGHT = 48;\r\n\r\n  const handleClickOpen = () => {\r\n    getAllNotes();\r\n    setOpen(true);\r\n    setIsLoading(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setAllNotes([]);\r\n    // setFormLink('');\r\n    // setBtnDisabled(false);\r\n  };\r\n\r\n  const handleClickMore = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleCloseMore = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const getAllNotes = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem(\"api\")}/api/messages/getAllNotes`,\r\n        {\r\n          params: {\r\n            page: val,\r\n            limit: 10,\r\n          },\r\n        },\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      setAllNotes(res?.data?.result);\r\n      setIsLoading(false);\r\n      setCount(res?.data?.length);\r\n      setNotePage(val);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNoteHistory = async (event, value) => {\r\n    setIsLoading(true);\r\n    setNotePage(value);\r\n    try {\r\n      const res = await axios.get(\r\n        `${localStorage.getItem(\"api\")}/api/messages/getAllNotes`,\r\n        {\r\n          params: {\r\n            page: value,\r\n            limit: 10,\r\n          },\r\n        },\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      setAllNotes(res?.data?.result);\r\n      setIsLoading(false);\r\n      setVal(value);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\nconst handleMarkAsSolved = async (_id) => {\r\n  let payload = {\r\n    _id: _id\r\n  }\r\n  try {\r\n    const res = await axios.post(`${localStorage.getItem(\"api\")}/api/messages/markNotesAsResolved`, payload, {\r\n      headers: ''\r\n    });\r\n    getAllNotes();\r\n  }\r\n  catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n//   const openInChat = async (wa_id, time) => {\r\n//     try {\r\n//         const res_ = await axios.get(`${localStorage.getItem(\"api\")}/api/conversations5/findContact/${wa_id}`);\r\n//         setCurrentChat(res_?.data?.result[0]);\r\n        \r\n//         const res = await axios.get(`${localStorage.getItem(\"api\")}/api/messages5/filteredMsg/${wa_id}/${time}`);\r\n//         setFinalMessage(res?.data);\r\n//         handleClose();\r\n//         setScrollView_(false);\r\n//         window.scrollTo(0, scrollRef.current.offsetTop);\r\n//         // scrollRef.current?.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"});\r\n//     } catch (err) {\r\n//         console.log(err);\r\n//     }\r\n//   }\r\n\r\n  return (\r\n    <div>\r\n      <CommentOutlinedIcon\r\n        fontSize='medium'\r\n        color='primary'\r\n        style={{cursor: 'pointer', display: 'flex'}}\r\n        onClick={handleClickOpen}\r\n      />\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll={scroll}\r\n        aria-labelledby='scroll-dialog-title'\r\n        aria-describedby='scroll-dialog-description'\r\n      >\r\n        <DialogTitle\r\n          style={{\r\n            fontSize: '16px',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: '16px 10px 10px 24px',\r\n          }}\r\n          id='scroll-dialog-title'\r\n        >\r\n          All Notes:\r\n        </DialogTitle>\r\n\r\n        <DialogContent\r\n          dividers={scroll === 'paper'}\r\n          style={{ padding: '16px 0px' }}\r\n        >\r\n          {isLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                padding: '255px 210px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <DialogContentText\r\n              id='scroll-dialog-description'\r\n              ref={descriptionElementRef}\r\n              tabIndex={-1}\r\n            >\r\n              <>\r\n                {allNotes &&\r\n                  allNotes.map((i, j) => {\r\n                    return (\r\n                      <div className='tutorlist_'>\r\n                        <div className='userTab'>\r\n                          <Avatar className='conversationImg_'>\r\n                            {i?.name?.slice(0, 1)}\r\n                          </Avatar>\r\n                          <div style={{ paddingBottom: '5px' }}>\r\n                            <div className='conversationName_'>\r\n                              {i?.name}\r\n                              <div style={{ fontSize: '10px' }}>\r\n                                {moment(new Date(i?.timestamp * 1000)).format(\r\n                                  'lll'\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div style={{display: 'flex', flexDirection: 'row', flex:'0%', justifyContent: 'flex-end', alignSelf: 'center', marginRight: '10px'}}>\r\n                            {i?.clientNotes?.status && i?.clientNotes?.status === 'resolved' ? <span style={{color: '#3c4043', opacity: '0.8', fontStyle: 'italic', fontSize: '10px'}}>Marked as resolved</span> : <DoneIcon fontSize='small' color='success' style={{cursor: 'pointer'}} onClick={() => handleMarkAsSolved(i?._id)} />}\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            fontSize: '13px',\r\n                            marginTop: '5px',\r\n                            marginLeft: '2px',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            color: i?.clientNotes?.priority === 'high' ? 'red' : i?.clientNotes?.priority === 'medium' ? 'royalblue' : '#565555',\r\n                            opacity: i?.clientNotes?.status && i?.clientNotes?.status === 'resolved' ? 0.5 : 1\r\n                          }}\r\n                        >\r\n                          {i?.clientNotes?.noteText}\r\n                          <span>\r\n                          <MoreMenu data = {i} setCurrentChat = {setCurrentChat} setFinalMessage = {setFinalMessage} scrollRef = {scrollRef} setScrollView_ = {setScrollView_} handleCloseModal = {handleClose} setAllNotes = {setAllNotes} setPage = {setPage} />\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                <Pagination\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    padding: '20px 45px 20px 30px',\r\n                  }}\r\n                  count={Math.ceil(count / 10)}\r\n                  page={notePage}\r\n                  onChange={handleNoteHistory}\r\n                />\r\n              </>\r\n            </DialogContentText>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\nexport default NoteHistory;\r\n","import React from 'react';\r\nimport './messenger.css';\r\nimport ReactLoading from 'react-loading';\r\nimport Conversation from '../../components/conversations/Conversation';\r\nimport Message from '../../components/message/Message';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\nimport {\r\n  msgUrl,\r\n  sendMsgUrl,\r\n  sendFileUrl,\r\n  templateMsgUrl,\r\n  sendtemplateMsgUrl,\r\n  addContactUrl,\r\n  addLabelUrl,\r\n  quickReplyUrl,\r\n  contactUrl,\r\n  addAgentUrl,\r\n} from '../../serviceUrls/Message-Services';\r\nimport { getCustomersUrl } from '../../serviceUrls/Customer-Services';\r\nimport ForwardMsg from '../../components/forwardConv/ForwardMsg';\r\nimport chatDemo from '../../assets/openChat2.png';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes';\r\nimport PersonAddAltOutlinedIcon from '@mui/icons-material/PersonAddAltOutlined';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport { storeFilesUrl } from '../../serviceUrls/StoreFiles-Service';\r\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\r\nimport MoreMenu from '../../components/dropDown/MoreMenu';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport ReplayIcon from '@mui/icons-material/Replay';\r\nimport DropFile from '../../components/drag_dropFile/DropFile';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport TutorContact from '../../components/tutorContacts/TutorContact';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport RightSec from '../../components/rightComponent/RightSec';\r\nimport DynamicFormIcon from '@mui/icons-material/DynamicForm';\r\nimport FormCreation from '../../components/forms/FormCreation';\r\nimport AutorenewRoundedIcon from '@mui/icons-material/AutorenewRounded';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport NoteAddIcon from '@mui/icons-material/NoteAdd';\r\nimport ToggleOffIcon from '@mui/icons-material/ToggleOff';\r\nimport ToggleOnIcon from '@mui/icons-material/ToggleOn';\r\nimport NoteHistory from '../../components/notes/NoteHistory';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { NAME_SPACE } from '../../utils/variables';\r\n\r\nimport SpeedDial from '@mui/material/SpeedDial';\r\nimport SpeedDialIcon from '@mui/material/SpeedDialIcon';\r\nimport SpeedDialAction from '@mui/material/SpeedDialAction';\r\nimport FileCopyIcon from '@mui/icons-material/FileCopyOutlined';\r\nimport PrintIcon from '@mui/icons-material/Print';\r\nimport ShareIcon from '@mui/icons-material/Share';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport PriorityHighIcon from '@mui/icons-material/PriorityHigh';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\n\r\nconst Messenger = ({ apiUrl, apiKey }) => {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [msgResponse, setMsgResponse] = useState();\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMsgRec, setNewMsgRec] = useState([]);\r\n  const [finalMessage, setFinalMessage] = useState([]);\r\n  const [textMsg, setTextMsg] = useState([]);\r\n  const [messageId, setMessageId] = useState(null);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [arrivalMessage, setArrivalMessage] = useState([]);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [forward, setForward] = useState({});\r\n  const [forwarded, setForwarded] = useState(false);\r\n  const socket = useRef();\r\n  const [userId, setUserId] = useState(null);\r\n  const [visible, setVisible] = useState();\r\n  const [search, setSearch] = useState('');\r\n  const [highlighted, setHighlighted] = useState(false);\r\n  const [sent, setSent] = useState(false);\r\n  const [alert, setAlert] = useState(0);\r\n  const [alertMsg, setAlertMsg] = useState([]);\r\n  const [myFiles, setMyFiles] = useState([]);\r\n  const [showFile, setShowFile] = useState();\r\n  const [file, setFile] = useState();\r\n  const [fileSent, setFileSent] = useState(0);\r\n  const [openTooltip, setOpenTooltip] = useState(false);\r\n  const [openTooltipForm, setOpenTooltipForm] = useState(false);\r\n  const [templateMessage, setTemplateMessage] = useState();\r\n  const [showTemplateMsg, setShowTemplateMsg] = useState(false);\r\n  const [caption, setCaption] = useState('');\r\n  const [saved, setSaved] = useState();\r\n  const [updated, setUpdated] = useState();\r\n  const [newNotification, setNewNotification] = useState();\r\n  const [addNewContact, setAddNewContact] = useState(false);\r\n  const [addName, setAddName] = useState();\r\n  const [addNumber, setAddNumber] = useState();\r\n  const [status, setStatus] = useState([]);\r\n  const [msgId, setMsgId] = useState();\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const [taglabel, setTaglabel] = useState();\r\n  const [tagUpdated, setTagUpdated] = useState();\r\n  const [msgCountUpdated, setMsgCountUpdated] = useState(false);\r\n  const [scrollView, setScrollView] = useState(true);\r\n  const [scrollView_, setScrollView_] = useState(true);\r\n  const [pinned, setPinned] = useState();\r\n  const [markChat, setMarkChat] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSelector, setShowSelector] = useState(false);\r\n  const [mulForward, setMulForward] = useState([]);\r\n  const [errMsg, setErrMsg] = useState();\r\n  const [scrollPosition, setScrollPosition] = useState();\r\n  const [forwardMsg, setForwardMsg] = useState();\r\n  const [msgLoad, setMsgLoad] = useState(false);\r\n  const [alertUpdate, setAlertUpdate] = useState();\r\n  const [quickReplyText, setQuickReplyText] = useState([]);\r\n  const [addingContact, setAddingContact] = useState(false);\r\n  const [confirmationText, setConfirmationText] = useState();\r\n  const [tutorList, setTutorList] = useState([]);\r\n  const [tutorTagUpdated, setTutorTagUpdated] = useState();\r\n  const [tutorRatingUpdated, setTutorRatingUpdated] = useState();\r\n  const [searchTutor, setSearchTutor] = useState('');\r\n  const [agentUpdated, setAgentUpdated] = useState();\r\n  const [agentlabel, setAgentlabel] = useState(localStorage.getItem('agent'));\r\n  const [agentStatus, setAgentStatus] = useState();\r\n  const [tutorCount, setTutorCount] = useState(0);\r\n  const [tutorPage, setTutorPage] = useState(1);\r\n  const [tutorListLoading, setTutorListLoading] = useState(false);\r\n  const [convCount, setConvCount] = useState(0);\r\n  const [contactPage, setContactPage] = useState(1);\r\n  const [contactListLoading, setContactListLoading] = useState(false);\r\n  const [searchContacts, setSearchContacts] = useState();\r\n  const [interestedTutors, setInterestedTutors] = useState();\r\n  const [newSessions, setNewSessions] = useState();\r\n  const [clientPayment, setClientPayment] = useState();\r\n  const [tutorPayout, setTutorPayout] = useState();\r\n  const scrollRef = useRef();\r\n  const listInnerRef = useRef();\r\n  const uniqueValuesSet = new Set();\r\n  const [chatLabels, setChatLabels] = useState();\r\n\r\n  const [loadingMsg, setLoadingMsg] = useState(false);\r\n\r\n  const snackBarPos = {\r\n    vertical: 'top',\r\n    horizontal: 'center'\r\n  }\r\n  const { vertical, horizontal } = snackBarPos;\r\n\r\n  const [alertText, setAlertText] = useState('')\r\n  const [openSnackBar, setOpenSnackBar] = useState(false);\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  const handleLoadMoreMsgClick = async () => {\r\n    setLoadingMsg(true);\r\n    try {\r\n      const res = await axios.get(\r\n        msgUrl + `/${currentChat?.wa_id}`,\r\n        {\r\n          params: {\r\n            page: page,\r\n            limit: limit,\r\n          },\r\n        },\r\n        {\r\n          headers: '',\r\n        }\r\n      );\r\n      if(res.data.length === 0) {\r\n        setOpenSnackBar(true);\r\n        setAlertText('No more messages');\r\n      }\r\n      else {\r\n        setMsgResponse(res.data);\r\n        // setMessages(() =>\r\n        //   res?.data?.messages?.items\r\n        //     .filter((f) => f.eventType === 'message')\r\n        //     .reverse()\r\n        // );\r\n        setMessages([...res?.data, ...messages]);\r\n        setLoadingMsg(false);\r\n        setPage(page + 1);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // for label\r\n  const handleLabelChange = async (e) => {\r\n    setTaglabel(e.target.value);\r\n    const payload = {\r\n      tags: e.target.value,\r\n    };\r\n    await axios.put(addLabelUrl + `/${currentChat?.wa_id}`, payload, {\r\n      headers: '',\r\n    });\r\n    setTagUpdated(payload.tags);\r\n  };\r\n\r\n  // agent assign\r\n  const handleAgentChange = async (e) => {\r\n    setAgentlabel(e.target.value);\r\n    const payload = {\r\n      agent: e.target.value,\r\n    };\r\n    await axios.put(addAgentUrl + `/${currentChat?.wa_id}`, payload, {\r\n      headers: '',\r\n    });\r\n    setAgentUpdated(payload.agent);\r\n  };\r\n\r\n  //desktop notification alert\r\n  const showNotification = () => {\r\n    const notification_ = new Notification('hey', {\r\n      body: 'A new message received',\r\n      icon: 'https://cdn2.iconfinder.com/data/icons/ios7-inspired-mac-icon-set/1024/messages_5122x.png',\r\n    });\r\n\r\n    notification_.onClick = (e) => {\r\n      window.location.href = 'http://google.com';\r\n    };\r\n  };\r\n\r\n  // connection with socket\r\n  useEffect(() => {\r\n    socket.current = io('/');\r\n    // socket.current.on('connection', () => {\r\n    //   console.log(\"Socket connected\");\r\n    // });\r\n    // socket.current.on('new_msg', (data) => {\r\n    //   setMsg((draft) => {\r\n    //     draft.res.push(data);\r\n    //   });\r\n    // });\r\n    let api = localStorage.getItem('api');\r\n    let device = localStorage.getItem('device');\r\n\r\n    socket.current.emit('user', {\r\n      api: api,\r\n      device: device,\r\n    });\r\n\r\n    let agent = localStorage.getItem('agent');\r\n\r\n    socket.current.emit('agent', agent);\r\n\r\n    socket.current.on('getAlert', (msg) => {\r\n      // storeFiles(msg); //store incoming files data to excel\r\n      setAlertMsg([msg]);\r\n      if (Notification.permission === 'granted' && msg?.contacts) {\r\n        showNotification();\r\n      }\r\n    });\r\n\r\n    // fetching msg from user through webhook\r\n\r\n    // socket.current.emit(\"addUser\", 'userId');\r\n    socket.current.on('getUsers', (msgs) => {\r\n      console.log(msgs, 'webhook');\r\n      let startInd = msgs.length > 19 ? msgs.length - 19 : 0;\r\n      setArrivalMessage(msgs.slice(startInd, msgs.length));\r\n      // let upcomingMsg = msgs?.filter((i) => i.contacts);\r\n      // let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\r\n    });\r\n    socket.current.on('save', (saved) => {\r\n      console.log(saved);\r\n      setSaved(saved);\r\n    });\r\n    socket.current.on('update', (update) => {\r\n      console.log('count', update);\r\n      setUpdated(update);\r\n    });\r\n    // socket.current.on('notification', (newNoti) => {\r\n    //   console.log(newNoti);\r\n    //   setNewNotification(newNoti);\r\n    // });\r\n    socket.current.on('statusChanged', (filtered) => {\r\n      console.log(filtered);\r\n      setStatus(() => filtered);\r\n      // setMsgId(id);\r\n    });\r\n\r\n    // razorpay notification\r\n    socket.current.on('rpayNoti', (payments) => {\r\n      console.log(payments, 'rpayWebhook');\r\n      setClientPayment(payments);\r\n    });\r\n\r\n    // razorpayX notification\r\n    socket.current.on('rpayXNoti', (payX) => {\r\n      console.log(payX, 'rpayXWebhook');\r\n      setTutorPayout(payX);\r\n    });\r\n\r\n    // interested tutor notification\r\n    socket.current.on('interestedTutors', (interestedTutor) => {\r\n      console.log(interestedTutor, 'interestedTutors');\r\n      setInterestedTutors(interestedTutor);\r\n    });\r\n\r\n    // new session notification\r\n    socket.current.on('newSession', (newSession) => {\r\n      console.log(newSession, 'newSessions');\r\n      setNewSessions(newSession);\r\n    });\r\n\r\n    //agent status fetch\r\n    const getAgentStatus = async () => {\r\n      try {\r\n        const res = await axios.get(`${localStorage.getItem('api')}/api/agent/getAgentStatus/${localStorage.getItem('agent')}`);\r\n        setAgentStatus(res.data.status);\r\n        setChatLabels(res.data.labels);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getAgentStatus();\r\n    // socket.current.on('getAlert', (msg) => {\r\n    //   console.log(msg);\r\n    //   setAlertMsg([msg]);\r\n    // });\r\n  }, []);\r\n\r\n  console.log(arrivalMessage);\r\n\r\n  useEffect(() => {\r\n    console.log(currentChat);\r\n    arrivalMessage[arrivalMessage.length - 1]?.contacts &&\r\n      setNewMsgRec(() =>\r\n        arrivalMessage?.filter(\r\n          (i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id\r\n        )\r\n      );\r\n  }, [arrivalMessage, currentChat]);\r\n  console.log(newMsgRec);\r\n\r\n   //fetching all messages of a particular selected user\r\n   useEffect(() => {\r\n    // setMsgLoad(true);\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          msgUrl + `/${currentChat?.wa_id}`,\r\n          {\r\n            params: {\r\n              page: 0,\r\n              limit: limit,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setMsgResponse(res.data);\r\n        // setMessages(() =>\r\n        //   res?.data?.messages?.items\r\n        //     .filter((f) => f.eventType === 'message')\r\n        //     .reverse()\r\n        // );\r\n        setMessages([...res?.data]);\r\n        setMsgLoad(false);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n    return () => {\r\n      setNewMsgRec([]);\r\n    };\r\n  }, [currentChat, forwarded, sent]);\r\n\r\n  //sending files\r\n  const handleFiles = (e) => {\r\n    let files = e;\r\n    setFile(e);\r\n    let fileData = [];\r\n    let reader = new FileReader();\r\n    let myfiles = files;\r\n    reader.readAsDataURL(myfiles);\r\n    reader.onload = (e) => {\r\n      let formData = { fileList: e.target.result };\r\n      console.log(formData);\r\n      setMyFiles([formData]);\r\n      // setFile(formData);\r\n    };\r\n\r\n    console.log(files);\r\n  };\r\n  console.log(myFiles);\r\n  console.log(file);\r\n\r\n  const closeFileModal = () => {\r\n    // show.current.style.display = 'none'\r\n    setMyFiles([]);\r\n    setFile(null);\r\n    setLoading(false);\r\n    setErrMsg('');\r\n    // setShowFile(false);\r\n  };\r\n\r\n  // // fetching msg from user through webhook\r\n  // useEffect(() => {\r\n  //   // socket.current.emit(\"addUser\", 'userId');\r\n  //   socket.current.on('getUsers', (msgs) => {\r\n  //     console.log(msgs);\r\n  //     setArrivalMessage(msgs);\r\n  //     // let upcomingMsg = msgs?.filter((i) => i.contacts);\r\n  //     let filteredMsg = msgs?.filter((i) => i.contacts && i?.contacts[0]?.wa_id == currentChat?.wa_id);\r\n  //     setNewMsgRec(filteredMsg.reverse());\r\n  //     console.log(currentChat);\r\n  //   });\r\n  //   // socket.current.on('getAlert', (msg) => {\r\n  //   //   console.log(msg);\r\n  //   //   setAlertMsg([msg]);\r\n  //   // });\r\n  // }, []);\r\n  console.log(newMsgRec);\r\n  console.log(currentChat);\r\n\r\n  // fetching contacts list\r\n  useEffect(() => {\r\n    let agent = localStorage.getItem('agent');\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.status);\r\n        // const filteredData = res?.data?.filter((i) => i.agent == agent);\r\n        // let pinnedChat = res?.data?.filter((el) => el.pinContact === true);\r\n        // let unPinnedChat = res?.data\r\n        //   ?.filter((el) => el.pinContact === false)\r\n        //   ?.sort((a, b) => {\r\n        //     return b.timestamp - a.timestamp;\r\n        //   });\r\n        setConversations(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err.Error);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [\r\n    // arrivalMessage,\r\n    saved,\r\n    updated,\r\n    tagUpdated,\r\n    agentUpdated,\r\n    pinned,\r\n    markChat,\r\n    alertUpdate,\r\n    sent,\r\n  ]);\r\n\r\n  console.log(conversations);\r\n\r\n  // //fetching tutors list\r\n  // useEffect(() => {\r\n  //   const getTutors = async () => {\r\n  //     try {\r\n  //       const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\r\n  //       {\r\n  //         params: {\r\n  //           page: 1,\r\n  //           limit: 10,\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         headers: '',\r\n  //       });\r\n  //       setTutorList(res.data.result);\r\n  //       setTutorCount(res.data.length);\r\n  //     } catch (err) {\r\n  //       console.log(err.Error);\r\n  //     }\r\n  //   }\r\n  //   getTutors();\r\n  // }, [tutorTagUpdated, tutorRatingUpdated])\r\n\r\n  useEffect(() => {\r\n    setFinalMessage([]);\r\n    setMsgLoad(true);\r\n    setPage(1);\r\n  }, [currentChat]);\r\n\r\n  console.log(forwarded);\r\n\r\n  console.log(messages);\r\n  console.log([...messages, ...newMsgRec]);\r\n  console.log(newMsgRec);\r\n\r\n  // var ur = [{n: [{id: '123'}]}, {n: [{id: '123'}]}, {id: '123'}, {n: [{id: '13'}]}];\r\n  function filteredArr(data, key) {\r\n    return [...new Map(data.map((x) => [key(x), x])).values()];\r\n  }\r\n  // filtering duplicate messages\r\n  useEffect(() => {\r\n    // let newArr = [...messages, ...newMsgRec];\r\n    let newArr = [...messages, ...newMsgRec];\r\n    // .filter(\r\n    //   (f) => f.eventType === 'message' || f.eventType === 'broadcastMessage'\r\n    // );\r\n    console.log('newArr', newArr);\r\n    setFinalMessage(() =>\r\n      filteredArr(newArr, (it) => (it.messages ? it.messages[0].id : it.id))\r\n    );\r\n  }, [messages, newMsgRec]);\r\n\r\n  //quick reply\r\n  const typeMsg = async (e) => {\r\n    if (e.target.value === '/') {\r\n      try {\r\n        const response = await axios.get(quickReplyUrl);\r\n        setQuickReplyText(response?.data);\r\n        // setQuickReplyText(quickReplies);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const filteredQuickReplyText =\r\n    newMessage.length > 0 && quickReplyText.length > 0\r\n      ? quickReplyText?.filter((f) => {\r\n          return (\r\n            f.shortcut.toLowerCase().indexOf(newMessage.toLowerCase()) !== -1\r\n          );\r\n        })\r\n      : null;\r\n\r\n  console.log(quickReplyText);\r\n\r\n  // sending messages\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      recipient_type: 'individual',\r\n      to: currentChat.wa_id,\r\n      conversationId: '',\r\n      name: currentChat.name,\r\n      from: currentChat.wa_id,\r\n      wa_id: currentChat.wa_id,\r\n      text: {\r\n        body: newMessage,\r\n      },\r\n      type: 'text',\r\n      data: '',\r\n      isOwner: true,\r\n    };\r\n    const timeStamp = {\r\n      timestamp: Math.floor(new Date().getTime() / 1000.0),\r\n    };\r\n    if (newMessage) {\r\n      try {\r\n        setNewMessage('');\r\n        const res = await axios.post(sendMsgUrl, payload, {\r\n          headers: { ...headerKey },\r\n        });\r\n        //setMessages([...messages, res.data.message]);\r\n        // setFinalMessage([...finalMessage, res?.data]);\r\n        console.log('sendm', res);\r\n        await axios.put(`${contactUrl}/${currentChat?.wa_id}`, timeStamp, {\r\n          headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        setTimeout(() => {\r\n          console.log('This will run after 1 second!');\r\n          setSent(!sent);\r\n        }, 0);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log('fmsg', finalMessage);\r\n\r\n  // sending files\r\n  const handleFileSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErrMsg('');\r\n    setLoading(true);\r\n    console.log(file.name);\r\n    try {\r\n      const res_ = await axios.post(\r\n        'https://waba.360dialog.io/v1/media',\r\n        file,\r\n        {\r\n          headers: {\r\n            'Content-Type':\r\n              file.type == 'application/x-zip-compressed'\r\n                ? 'application/zip'\r\n                : file.type,\r\n            'D360-API-KEY': apiKey || localStorage.getItem('api_key'),\r\n          },\r\n        }\r\n      );\r\n      const payload = {\r\n        recipient_type: 'individual',\r\n        to: currentChat.wa_id,\r\n        type: file.type.includes('image/')\r\n          ? 'image'\r\n          : file.type.includes('video/')\r\n          ? 'video'\r\n          : file.type.includes('audio/')\r\n          ? 'audio'\r\n          : 'document',\r\n        data: {\r\n          id: res_.data.media[0].id,\r\n          caption: caption,\r\n          filename: file.name,\r\n        },\r\n        name: '',\r\n        from: '',\r\n        wa_id: currentChat.wa_id,\r\n        timestamp: '',\r\n        operatorName: '',\r\n        isOwner: true,\r\n        status: '',\r\n        ticketId: '',\r\n        eventType: '',\r\n      };\r\n      const res = await axios.post(sendFileUrl, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      //setMessages([...messages, res.data.message]);\r\n      // setFinalMessage([...finalMessage, res.data.message]);\r\n      console.log(res);\r\n      // setUserId(currentChat?.wAid);\r\n      // setMessageId(res.data.message.whatsappMessageId);\r\n      setNewMessage('');\r\n      // setInterval(() => {\r\n      //   console.log('This will run every second!');\r\n      // }, 2000);\r\n      setTimeout(() => {\r\n        console.log('This will run after 0.5 second!');\r\n        setSent(!sent);\r\n        setFileSent(+fileSent + 1);\r\n      }, 500);\r\n      setMyFiles([]);\r\n      setLoading(false);\r\n      setCaption('');\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setErrMsg('Something went wrong!');\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // fetching template messages\r\n  // const getTemplateMsg = async () => {\r\n  //   try {\r\n  //     const res = await axios.get(templateMsgUrl, {\r\n  //       headers: { ...headerKey },\r\n  //     });\r\n  //     console.log({templateMsg:res.data.waba_templates});\r\n  //     setTemplateMessage(res.data.waba_templates);\r\n  //     setShowTemplateMsg(true);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n  console.log(showTemplateMsg);\r\n\r\n  const closeTemplateTab = () => {\r\n    setShowTemplateMsg(false);\r\n  };\r\n\r\n  // // send template message\r\n  // const handleSendTemplate = async (val) => {\r\n  //   const payload = {\r\n  //     name: currentChat.name,\r\n  //     from: '',\r\n  //     wa_id: currentChat.wa_id,\r\n  //     templateName: val?.name,\r\n  //     templateText: val?.components?.filter((j) => j?.type === 'BODY')[0]?.text,\r\n  //     template: {\r\n  //       namespace: val.namespace,\r\n  //       language: val.language,\r\n  //     },\r\n  //     button: '',\r\n  //     timestamp: '',\r\n  //     operatorName: '',\r\n  //     isOwner: true,\r\n  //     status: '',\r\n  //     ticketId: '',\r\n  //     eventType: 'template',\r\n  //   };\r\n  //   try {\r\n  //     const res = await axios.post(sendtemplateMsgUrl, payload, {\r\n  //       headers: { ...headerKey },\r\n  //     });\r\n  //     console.log(res);\r\n  //     setTimeout(() => {\r\n  //       console.log('This will run after 1 second!');\r\n  //       setSent(!sent);\r\n  //     }, 100);\r\n  //     setShowTemplateMsg(false);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n   // send template message\r\n   const handleSendTemplate = async () => {\r\n    const payload = {\r\n      name: currentChat.name,\r\n      from: '',\r\n      wa_id: currentChat.wa_id,\r\n      templateName: \"conversation_initiate\",\r\n      templateText: `Hi ${currentChat.name}, This is Tutorpoint.We want to start a conversation with you. Please reply as soon as you see this message.`,\r\n      template: {\r\n        namespace: NAME_SPACE,\r\n        language: \"en\",\r\n      },\r\n      button: '',\r\n      timestamp: '',\r\n      operatorName: '',\r\n      isOwner: true,\r\n      status: '',\r\n      ticketId: '',\r\n      eventType: 'template',\r\n    };\r\n    try {\r\n      const res = await axios.post(sendtemplateMsgUrl, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      console.log(res);\r\n      setTimeout(() => {\r\n        console.log('This will run after 1 second!');\r\n        setSent(!sent);\r\n      }, 100);\r\n      setShowTemplateMsg(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // adding note b/w messages\r\n  const handleSendNote = async (val) => {\r\n    const payload = {\r\n      name: currentChat.name,\r\n      from: '',\r\n      wa_id: currentChat.wa_id,\r\n      clientNotes: {\r\n        noteText: newMessage,\r\n        priority: val\r\n      },\r\n      button: '',\r\n      timestamp: '',\r\n      operatorName: '',\r\n      isOwner: true,\r\n      status: '',\r\n      ticketId: '',\r\n      eventType: 'note',\r\n    };\r\n    try {\r\n      const res = await axios.post(`${localStorage.getItem('api')}/api/messages/addChatNote`, payload, {\r\n        headers: { ...headerKey },\r\n      });\r\n      console.log(res);\r\n      setNewMessage('');\r\n      setTimeout(() => {\r\n        console.log('This will run after 1 second!');\r\n        setSent(!sent);\r\n      }, 100);\r\n      // setShowTemplateMsg(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  //Add contact\r\n  const addContact = async () => {\r\n    setAddingContact(true);\r\n    const payload = {\r\n      name: addName,\r\n      wa_id: `+${addNumber}`,\r\n    };\r\n    try {\r\n      const res = await axios.post(addContactUrl, payload, {\r\n        headers: {},\r\n      });\r\n      setConversations([...conversations, res.data]);\r\n      setAddNewContact(false);\r\n      setAddName('');\r\n      setAddNumber('');\r\n      setAddingContact(false);\r\n    } catch (err) {\r\n      setConfirmationText('Failed to add this contact!');\r\n      setAddingContact(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (scrollView_ && scrollView || finalMessage.length <= 20) {\r\n      scrollRef.current?.scrollIntoView();\r\n    }\r\n  }, [finalMessage, fileSent, currentChat]);\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const filteredCoversation = conversations;\r\n\r\n  // filtered tutor list\r\n  // const filteredTutorList = tutorList?.filter((f) => {\r\n  //   let subject = f?.subjects?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\r\n  //   let tag = f?.tags?.find(element => element?.toLowerCase() == searchTutor?.toLowerCase());\r\n  //   return (\r\n  //     f.name.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f.wa_id.toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f?.subjects?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1 ||\r\n  //     f?.tags?.toString().toLowerCase().indexOf(searchTutor.toLowerCase()) !== -1\r\n  //   );\r\n  // });\r\n\r\n  console.log(currentChat);\r\n  const handleCloseTooltip = () => {\r\n    setOpenTooltip(false);\r\n  };\r\n\r\n  const handleOpenTooltip = () => {\r\n    setOpenTooltip(true);\r\n  };\r\n\r\n  const handleCloseTooltipForm = () => {\r\n    setOpenTooltipForm(false);\r\n  };\r\n\r\n  const handleOpenTooltipForm = () => {\r\n    setOpenTooltipForm(true);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key == 'Enter' && e.shiftKey) {\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const fetchMoreData = async (e) => {\r\n    // console.log(e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight)\r\n    setScrollPosition(e.target.scrollTop);\r\n    const bottom = e.target.scrollTop;\r\n    if (bottom === 0) {\r\n      // TO SOMETHING HERE\r\n      console.log('Reached bottom');\r\n      // setPage(page + 1);\r\n      // try {\r\n      //   const res = await axios.get(\r\n      //     msgUrl + `/${currentChat?.wa_id}`,\r\n      //     {\r\n      //       params: {\r\n      //         page: page,\r\n      //         limit: limit,\r\n      //       },\r\n      //     },\r\n      //     {\r\n      //       headers: '',\r\n      //     }\r\n      //   );\r\n      //   console.log(res.data);\r\n      //   setMsgResponse(res.data);\r\n      //   // setMessages(() =>\r\n      //   //   res?.data?.messages?.items\r\n      //   //     .filter((f) => f.eventType === 'message')\r\n      //   //     .reverse()\r\n      //   // );\r\n      //   setMessages([...res?.data, ...messages]);\r\n      // } catch (err) {\r\n      //   console.log(err);\r\n      //  }\r\n    } else if (\r\n      e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight <\r\n      260\r\n    ) {\r\n      setScrollView(true);\r\n    } else if (\r\n      e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight >=\r\n      260\r\n    ) {\r\n      setScrollView(false);\r\n    }\r\n  };\r\n\r\n  // const handleTutorList = async (event, value) => {\r\n  //   setTutorListLoading(true);\r\n  //   setTutorPage(value);\r\n  //   try {\r\n  //     const res = await axios.get('${localStorage.getItem('api')}/api/tutor/getTutors',\r\n  //       {\r\n  //         params: {\r\n  //           page: value,\r\n  //           limit: 10,\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         headers: '',\r\n  //       }\r\n  //     );\r\n  //     console.log(res.data);\r\n  //     setTutorList(res.data.result);\r\n  //     setTutorListLoading(false);\r\n  //     // setLoadingMsg(false);\r\n  //     // setPage(page + 1);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n\r\n  // const handleSearchTutors = async (e) => {\r\n  //   // setSearchTutor(e.target.value);\r\n  //   if (e.key == 'Enter') {\r\n  //     try {\r\n  //       const res = await axios.get(`${localStorage.getItem('api')}/api/tutor/getTutors/${e.target.value}`,\r\n  //         {\r\n  //           params: {\r\n  //             page: 1,\r\n  //             limit: 10,\r\n  //           },\r\n  //         },\r\n  //         {\r\n  //           headers: '',\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n  //       setTutorList(res.data.result);\r\n  //       setTutorCount(res.data.length);\r\n  //       // setTutorListLoading(false);\r\n  //       // setLoadingMsg(false);\r\n  //       // setPage(page + 1);\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  const handleContactList = async (event, value) => {\r\n    let agent = localStorage.getItem('agent');\r\n    if (searchContacts) {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${searchContacts}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversations(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      setContactListLoading(true);\r\n      setContactPage(value);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}`,\r\n          {\r\n            params: {\r\n              page: value,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setConversations(res?.data?.result);\r\n        setContactListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n\r\n        setSaved(null);\r\n        setUpdated(null);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchContacts = async (e) => {\r\n    let agent = localStorage.getItem('agent');\r\n    setSearchContacts(e.target.value);\r\n    if (e.key == 'Enter') {\r\n      setContactListLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          getCustomersUrl + `/${agent}/${e.target.value}`,\r\n          {\r\n            params: {\r\n              page: 1,\r\n              limit: 20,\r\n            },\r\n          },\r\n          {\r\n            headers: '',\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setContactListLoading(false);\r\n        setConversations(res?.data?.result);\r\n        setConvCount(res?.data?.length);\r\n        setContactPage(1);\r\n        // setTutorListLoading(false);\r\n        // setLoadingMsg(false);\r\n        // setPage(page + 1);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleContactValidate = async () => {\r\n    let payload = {\r\n      wa_id: `+${currentChat?.wa_id}`,\r\n    }\r\n    try {\r\n      const res = await axios.post(`${localStorage.getItem('api')}/api/conversations/contactValidation`, payload);\r\n      setOpenSnackBar(true);\r\n      setAlertText(res.data.contacts[0].status + ' contact');\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleAgentStatus = async (status) => {\r\n    let payload = {\r\n      status: status\r\n    }\r\n    try {\r\n      const res = await axios.put(`${localStorage.getItem('api')}/api/agent/updateAgentStatus/${localStorage.getItem('agent')}`, payload);\r\n      window.location.reload();\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const logOutFunc = () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  };\r\n\r\n  const actions = [\r\n    { icon: <PriorityHighIcon color='success' onClick={() => handleSendNote('low')} />, name: 'Low priority' },\r\n    { icon: <PriorityHighIcon color='primary' onClick={() => handleSendNote('medium')} />, name: 'Medium priority' },\r\n    { icon: <PriorityHighIcon color='error' onClick={() => handleSendNote('high')} />, name: 'High priority' },\r\n  ];\r\n\r\n  let deviceNo = localStorage.getItem('device');\r\n  let agentName = localStorage.getItem('agent');\r\n\r\n  // agent field update in all contacts\r\n  // const [convag, setConvag] = useState([]);\r\n  // useEffect(() => {\r\n  //   const getAgg = async () => {\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         '${localStorage.getItem('api')}/api/conversations3/getContacts',\r\n  //         {\r\n  //           headers: '',\r\n  //         }\r\n  //       );\r\n  //       setConvag(res?.data)\r\n  //     } catch (err) {\r\n  //       console.log(err);\r\n  //     }\r\n  //   };\r\n  //   getAgg();\r\n\r\n  // }, [])\r\n\r\n  // const agentUpdate = async () => {\r\n  //   let count = '200100';\r\n  //   for(let i = 0; i<convag.length; i++){\r\n  //     let pay = {\r\n  //       uid: count\r\n  //     }\r\n  //     await axios.put(`${localStorage.getItem('api')}/api/conversations3/customer/${convag[i].wa_id}`, pay);\r\n  //     count = +count + 1;\r\n  // }\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div className='messenger'>\r\n        <div className='chatMenu'>\r\n          <header className='chat_header'>\r\n            <img\r\n              className='profilePic'\r\n              src='/assets/person/noAvatar.png'\r\n              alt=''\r\n            />\r\n            <div\r\n              style={{\r\n                flex: '1',\r\n                fontSize: '16px',\r\n                fontWeight: '600',\r\n                height: '22px',\r\n                lineHeight: '4px',\r\n              }}\r\n              // onClick={agentUpdate}\r\n            >\r\n              Device-{deviceNo}{' '}\r\n              {deviceNo == 1\r\n                ? '(7761093194)'\r\n                : deviceNo == 2\r\n                ? '(7091489698)'\r\n                : deviceNo == 3\r\n                ? '(7761814102)'\r\n                : deviceNo == 4\r\n                ? '(8777592248)'\r\n                : deviceNo == 5\r\n                ? '(9065650479)'\r\n                : null}\r\n              <p style={{ color: '#585858' }}>{agentName}</p>\r\n            </div>\r\n            {localStorage.getItem('agent') != 'Admin' && agentStatus == 'inactive' ? <ToggleOffIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => handleAgentStatus('active')}\r\n            /> : localStorage.getItem('agent') != 'Admin' && agentStatus == 'active' ?\r\n            <ToggleOnIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: '#00EC64',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => handleAgentStatus('inactive')}\r\n            /> : null}\r\n            <div\r\n              style={{\r\n              marginRight: '10px',\r\n            }}\r\n            >\r\n              <NoteHistory setCurrentChat = {setCurrentChat} setFinalMessage = {setMessages} scrollRef={scrollRef} setScrollView_={setScrollView_} setPage = {setPage} />\r\n            </div>\r\n            <PersonAddAltOutlinedIcon\r\n              style={{\r\n                fontSize: '32px',\r\n                color: addNewContact ? '#337DDD' : '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '10px',\r\n              }}\r\n              onClick={() => setAddNewContact(true)}\r\n            />\r\n            {/* <MoreVertIcon\r\n              style={{\r\n                fontSize: '25px',\r\n                color: '#50585C',\r\n                cursor: 'pointer',\r\n                marginRight: '-10px',\r\n              }}\r\n            /> */}\r\n            <LogoutIcon\r\n              style={{ cursor: 'pointer', marginLeft: '5px' }}\r\n              onClick={logOutFunc}\r\n            />\r\n          </header>\r\n          <div\r\n            style={{\r\n              height: '2.3rem',\r\n              padding: '6px 0px 6px 17px',\r\n              backgroundColor: '#9DE1FE',\r\n            }}\r\n          >\r\n            <input\r\n              placeholder='Search for users'\r\n              className='chatMenuInput'\r\n              onChange={(e) => handleSearch(e)}\r\n              onKeyPress={handleSearchContacts}\r\n            />\r\n          </div>\r\n          {addNewContact && (\r\n            <div\r\n              style={{\r\n                height: '8.4rem',\r\n                padding: '20px 0px 20px 17px',\r\n                backgroundColor: '#fff',\r\n                border: '1px solid #b3b0b0',\r\n                borderRadius: '3px',\r\n              }}\r\n            >\r\n              <input\r\n                type='text'\r\n                className='addContactInput'\r\n                placeholder='Name'\r\n                value={addName}\r\n                onChange={(e) => setAddName(e.target.value)}\r\n                required\r\n              />\r\n              <input\r\n                type='number'\r\n                className='addContactInput'\r\n                placeholder='WhatsApp Number (with country code)*'\r\n                value={addNumber}\r\n                onChange={(e) => setAddNumber(e.target.value)}\r\n                required\r\n              />\r\n              <Stack direction='row' spacing={2}>\r\n                {addName && addNumber && !addingContact ? (\r\n                  <Button\r\n                    size='small'\r\n                    variant='contained'\r\n                    color='error'\r\n                    onClick={() => addContact()}\r\n                  >\r\n                    save\r\n                  </Button>\r\n                ) : addingContact ? (\r\n                  <LoadingButton\r\n                    size='small'\r\n                    loading\r\n                    loadingPosition='start'\r\n                    startIcon={<SaveIcon />}\r\n                    variant='contained'\r\n                  >\r\n                    Save\r\n                  </LoadingButton>\r\n                ) : (\r\n                  <Button\r\n                    size='small'\r\n                    variant='contained'\r\n                    color='error'\r\n                    disabled\r\n                  >\r\n                    save\r\n                  </Button>\r\n                )}\r\n\r\n                <Button\r\n                  size='small'\r\n                  variant='outlined'\r\n                  color='error'\r\n                  onClick={() => {\r\n                    setAddNewContact(false);\r\n                    setAddingContact(false);\r\n                    setConfirmationText('');\r\n                  }}\r\n                >\r\n                  close\r\n                </Button>\r\n                <div\r\n                  style={{\r\n                    alignSelf: 'center',\r\n                    color: 'red',\r\n                    fontSize: '13px',\r\n                  }}\r\n                >\r\n                  {confirmationText}\r\n                </div>\r\n              </Stack>\r\n            </div>\r\n          )}\r\n          {contactListLoading ? (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                marginTop: '100px',\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          ) : (\r\n            <div className='chatMenuWrapper'>\r\n              {filteredCoversation?.map((c) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setCurrentChat(c);\r\n                    setHighlighted(true);\r\n                    setShowTemplateMsg(false);\r\n                    setTaglabel('');\r\n                    setTagUpdated('');\r\n                  }}\r\n                >\r\n                  <Conversation\r\n                    conversation={c}\r\n                    currentChat={currentChat}\r\n                    finalMessage={finalMessage}\r\n                    alertMsg={alertMsg}\r\n                    arrivalMessage={arrivalMessage}\r\n                    alert={alert}\r\n                    // newNotification={newNotification}\r\n                    setAlert={setAlert}\r\n                    msgCountUpdated={msgCountUpdated}\r\n                    setMsgCountUpdated={setMsgCountUpdated}\r\n                    setPinned={setPinned}\r\n                    setMarkChat={setMarkChat}\r\n                    setAlertUpdate={setAlertUpdate}\r\n                    apiUrl={apiUrl}\r\n                  />\r\n                </div>\r\n              ))}\r\n              <Pagination\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  marginTop: '15px',\r\n                }}\r\n                count={Math.ceil(convCount / 20)}\r\n                page={contactPage}\r\n                onChange={handleContactList}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className='chatBox'>\r\n          <div className='chatBoxWrapper'>\r\n            {currentChat ? (\r\n              <>\r\n                <header className='currentChatHeader'>\r\n                  <img\r\n                    className='profilePic'\r\n                    src='/assets/person/noAvatar.png'\r\n                    alt=''\r\n                  />\r\n                  <div>\r\n                    {`${currentChat?.name}${currentChat?.wa_id.slice(\r\n                    0,\r\n                    3\r\n                  )}`}\r\n                  </div>\r\n                  <div style={{marginLeft: \"5px\", cursor: 'pointer'}}>\r\n                    <AutorenewRoundedIcon fontSize='small' onClick={handleContactValidate} />\r\n                    <Snackbar open={openSnackBar} autoHideDuration={2000} onClose={handleCloseSnackBar} anchorOrigin={{ vertical, horizontal }} key={vertical + horizontal}>\r\n                      <Alert onClose={handleCloseSnackBar} severity=\"info\" sx={{ width: '100%' }}>\r\n                        {alertText}\r\n                      </Alert>\r\n                    </Snackbar>\r\n                  </div>\r\n                  <div className='select-list'>\r\n                    <select\r\n                      name='taglabel'\r\n                      id='taglabel'\r\n                      value={taglabel}\r\n                      onChange={handleLabelChange}\r\n                    >\r\n                      <option selected value=''>\r\n                        Labels\r\n                      </option>\r\n                      {chatLabels?.map((l) => <option value={l}>{l}</option>)}\r\n                      {/* <option value='Old Client'>Old Client</option>\r\n                      <option value='New Client'>New Client</option>\r\n                      <option value='High Price Client'>High Price Client</option>\r\n                      <option value='Low Price Client'>Low Price Client</option>\r\n                      <option value='Call'>Call</option>\r\n                      <option value='Tutor'>Tutor</option>\r\n                      <option value='Full Course'>Full Course</option> */}\r\n                       {/*<option value='Tutor pay pending'>\r\n                        Tutor pay pending\r\n                      </option>\r\n                      <option value='Client payment pending'>\r\n                        Client payment pending\r\n                      </option>\r\n                      <option value='Session today'>Session today</option>\r\n                      <option value='Session tomorrow'>Session tomorrow</option>\r\n                      <option value='Assignment pending'>\r\n                        Assignment pending\r\n                      </option>\r\n                      <option value='Tutors notified'>Tutors notified</option>\r\n                      <option value='Tutor is working'>Tutor is working</option>\r\n                      <option value='Take payment'>Take payment</option>\r\n                      <option value='Pay tutor'>Pay tutor</option>\r\n                      <option value='More work available'>\r\n                        More work available\r\n                      </option>\r\n                      <option value='Not available tomorrow'>\r\n                        Not available tomorrow\r\n                      </option> */}\r\n                    </select>\r\n                    {/* {taglabel === 'other' ? (\r\n                  <input\r\n                    type='text'\r\n                    name='other_degree'\r\n                    style={{marginLeft: '20px', width: '70px'}}\r\n                    placeholder='tag name'\r\n                    // value={other_degree}\r\n                    // onChange={handleOther}\r\n                    // autoComplete='none'\r\n                    // required\r\n                  />\r\n                ) : null} */}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontSize: '14px',\r\n                      fontWeight: '600',\r\n                    }}\r\n                  >\r\n                    Label: {currentChat.tags || taglabel || '--'}\r\n                  </div>\r\n                  {/* <div style={{ display: 'flex', marginLeft: '460px' }}>\r\n                    <MoreVertIcon style={{ alignSelf: 'center' }} />\r\n                  </div> */}\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      flex: '10%',\r\n                      justifyContent: 'flex-end',\r\n                      marginRight: '15px',\r\n                    }}\r\n                  >\r\n                    <div>Assign to:</div>\r\n                    <div className='select-list'>\r\n                      <select\r\n                        name='agentlabel'\r\n                        id='agentlabel'\r\n                        value={agentlabel}\r\n                        className='select-list2'\r\n                        onChange={handleAgentChange}\r\n                      >\r\n                        <option value='Admin'>Admin</option>\r\n                        <option value='Chaitanya'>Chaitanya</option>\r\n                        <option value='Nityananda'>Nityananda</option>\r\n                        <option value='Advaita'>Advaita</option>\r\n                        <option value='Abhay'>Abhay</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </header>\r\n                {finalMessage?.length == 0 || msgLoad ? (\r\n                  <div className='chatBoxTop'>\r\n                    <ReactLoading\r\n                      type='spinningBubbles'\r\n                      color='#2ca6d6'\r\n                      className='loadingIcon'\r\n                    />\r\n                    <div className='no_message'>\r\n                      {finalMessage?.length == 0 && (\r\n                        <p className='no_messageText'>\r\n                          You have not started conversation with this person!\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    <div\r\n                      className='chatBoxTop'\r\n                      // style={{display: 'flex', flexDirection: 'column-reverse'}}\r\n                      onScroll={fetchMoreData}\r\n                      ref={listInnerRef}\r\n                    >\r\n                      {finalMessage.length > 0 && (\r\n                        <div\r\n                          style={{\r\n                            textAlign: 'center',\r\n                            textAlign: '-webkit-center',\r\n                          }}\r\n                        >\r\n                          {/* <LoadingButton\r\n                            onClick={handleLoadMoreMsgClick}\r\n                            endIcon={<ReplayIcon />}\r\n                            loading={loadingMsg}\r\n                            loadingPosition='end'\r\n                            variant='outlined'\r\n                          >\r\n                            Load more\r\n                          </LoadingButton> */}\r\n                          <IconButton><ReplayIcon onClick={handleLoadMoreMsgClick} /></IconButton>\r\n                        </div>\r\n                      )}\r\n                      {finalMessage.map((m, i, j) => (\r\n                        <div ref={scrollRef} key={i}>\r\n                          <Message\r\n                            message={m}\r\n                            msgArr={j}\r\n                            own={m.owner}\r\n                            ownAlt={m.isOwner}\r\n                            setForward={setForward}\r\n                            mulForward={mulForward}\r\n                            setMulForward={setMulForward}\r\n                            setVisible={setVisible}\r\n                            setShowSelector={setShowSelector}\r\n                            showSelector={showSelector}\r\n                            apiUrl={apiUrl}\r\n                            status={status}\r\n                            msgId={msgId}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n\r\n                      {visible && (\r\n                        <div>\r\n                          <ForwardMsg\r\n                            conversations={conversations}\r\n                            visible={visible}\r\n                            setVisible={setVisible}\r\n                            forward={forward}\r\n                            forwarded={forwarded}\r\n                            setForwarded={setForwarded}\r\n                            mulForward={mulForward}\r\n                            setMulForward={setMulForward}\r\n                            setForwardMsg={setForwardMsg}\r\n                            apiKey={apiKey}\r\n                            convCount={convCount}\r\n                            contactPage={contactPage}\r\n                            handleContactList={handleContactList}\r\n                            contactListLoading={contactListLoading}\r\n                            getCustomersUrl={getCustomersUrl}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {myFiles.length > 0 && file ? (\r\n                  <div id='id01' className='modal_'>\r\n                    <form className='modal-content_'>\r\n                      <header\r\n                        style={{\r\n                          height: '148px',\r\n                          backgroundColor: '#0B1929',\r\n                          position: 'absolute',\r\n                          width: '450px',\r\n                          borderRadius: '5px',\r\n                          padding: '12px 12px 0px 12px',\r\n                        }}\r\n                      >\r\n                        <CloseIcon\r\n                          fontSize='medium'\r\n                          style={{\r\n                            color: '#f2efef',\r\n                            margin: '12px 10px -5px 10px',\r\n                            cursor: 'pointer',\r\n                          }}\r\n                          onClick={closeFileModal}\r\n                        />\r\n                        <span\r\n                          style={{\r\n                            fontSize: '18px',\r\n                            margin: '0px 0px 0px 10px',\r\n                            fontWeight: '400',\r\n                            color: '#ffff',\r\n                          }}\r\n                        >\r\n                          Send the file\r\n                        </span>\r\n                        {/* <iframe src={myFiles[0].fileList} height=\"200\" width=\"300\" title=\"description\"></iframe> */}\r\n                        <div\r\n                          style={{ padding: '15px', color: 'rgb(219 218 218)' }}\r\n                        >\r\n                          {file?.name}\r\n                        </div>\r\n                        <input\r\n                          className='chatMessageInput'\r\n                          placeholder='Add a caption...'\r\n                          value={caption}\r\n                          onChange={(e) => setCaption(e.target.value)}\r\n                        />\r\n                        <SendIcon\r\n                          style={{\r\n                            color: '#ffff',\r\n                            cursor: 'pointer',\r\n                            float: 'right',\r\n                            padding: '5px 10px',\r\n                            fontSize: '30px',\r\n                          }}\r\n                          onClick={handleFileSubmit}\r\n                        />\r\n                        {loading && (\r\n                          <div style={{ paddingTop: '10px' }}>\r\n                            <LinearProgress />\r\n                          </div>\r\n                        )}\r\n                        {errMsg && <div className='errMsgText'>{errMsg}</div>}\r\n                      </header>\r\n                    </form>\r\n                  </div>\r\n                ) : null}\r\n                <footer className='chatBoxBottom'>\r\n\r\n                  {/* show templates */}\r\n                  {/* <div\r\n                    style={{\r\n                      width: '-webkit-fill-available',\r\n                      // overflowY: 'scroll',\r\n                      // overflowX: 'hidden',\r\n                      maxHeight: '199px',\r\n                    }}\r\n                  >\r\n                    {showTemplateMsg ? (\r\n                      <div>\r\n                        <header\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            backgroundColor: '#ffff',\r\n                            height: '3rem',\r\n                            borderBottom: '1px solid #f0f0f0',\r\n                          }}\r\n                        >\r\n                          <CloseIcon\r\n                            fontSize='medium'\r\n                            style={{\r\n                              color: 'gray',\r\n                              margin: '12px 16px 0px',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                            onClick={closeTemplateTab}\r\n                          />\r\n                          <div\r\n                            style={{ display: 'flex', alignItems: 'center' }}\r\n                          >\r\n                            Choose Template\r\n                          </div>\r\n                        </header>\r\n                        <div\r\n                          style={{\r\n                            height: '150px',\r\n                            zIndex: '1',\r\n                            // marginBottom: '-46px',\r\n                            backgroundColor: '#ffff',\r\n                            overflowY: 'scroll',\r\n                            overflowX: 'hidden',\r\n                          }}\r\n                        >\r\n                          {templateMessage &&\r\n                            templateMessage?.map((i) => {\r\n                              return (\r\n                                <>\r\n                                  {i.status === 'approved' ? (\r\n                                    <div\r\n                                      className='templateCard'\r\n                                      onClick={() => handleSendTemplate(i)}\r\n                                    >\r\n                                      <p\r\n                                        style={{\r\n                                          fontWeight: 'bold',\r\n                                          fontStyle: 'italic',\r\n                                        }}\r\n                                      >\r\n                                        {i.name}\r\n                                      </p>\r\n                                      <p>\r\n                                        {\r\n                                          i.components.filter(\r\n                                            (j) => j.type === 'BODY'\r\n                                          )[0].text\r\n                                        }\r\n                                      </p>\r\n                                    </div>\r\n                                  ) : null}\r\n                                </>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div> */}\r\n                  <div\r\n                    style={{\r\n                      width: '-webkit-fill-available',\r\n                      overflowY: 'scroll',\r\n                      overflowX: 'hidden',\r\n                      maxHeight: '199px',\r\n                    }}\r\n                  >\r\n                    {filteredQuickReplyText &&\r\n                      filteredQuickReplyText?.map((i) => {\r\n                        return (\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              flexDirection: 'row',\r\n                              justifyContent: 'flex-start',\r\n                              backgroundColor: 'rgb(223 223 223)',\r\n                              padding: '15px 20px',\r\n                              borderBottom: '1px solid rgb(209 209 209)',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                            onClick={() => setNewMessage(i.message)}\r\n                          >\r\n                            <span\r\n                              style={{ fontWeight: '600', marginRight: '5px' }}\r\n                            >\r\n                              {i.shortcut}\r\n                            </span>\r\n                            {i.message}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      flexDirection: 'row',\r\n                      width: '-webkit-fill-available',\r\n                      height: '4.3rem',\r\n                      justifyContent: 'space-evenly',\r\n                      alignItems: 'center',\r\n                    }}\r\n                  >\r\n                    {showSelector ? (\r\n                      <div style={{ display: 'flex', flex: '100%' }}>\r\n                        <CloseIcon\r\n                          style={{\r\n                            flex: '5%',\r\n                            cursor: 'pointer',\r\n                            fontSize: '30px',\r\n                            marginLeft: '5px',\r\n                          }}\r\n                          onClick={() => {\r\n                            setShowSelector(false);\r\n                            setMulForward([]);\r\n                          }}\r\n                        />\r\n                        <div style={{ flex: '90%' }}></div>\r\n                        <ReplyIcon\r\n                          style={{ flex: '5%' }}\r\n                          className='forward_final'\r\n                          onClick={() => {\r\n                            setVisible(true);\r\n                            setShowSelector(false);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div className='attachFile'>\r\n                          <AttachFileIcon\r\n                            fontSize='medium'\r\n                            className='attachButton'\r\n                          />\r\n                          <input\r\n                            id='myFile'\r\n                            name='myFile'\r\n                            type='file'\r\n                            className='attachInput'\r\n                            onChange={(e) => handleFiles(e.target.files[0])}\r\n                          />\r\n                        </div>\r\n                        <Tooltip\r\n                          open={openTooltipForm}\r\n                          onClose={handleCloseTooltipForm}\r\n                          onOpen={handleOpenTooltipForm}\r\n                          title='CREATE FORM'\r\n                        >\r\n                          <FormCreation clientId={currentChat.uid} clientWaId = {currentChat.wa_id} clientName = {currentChat.name} agent = {currentChat.agent} />\r\n                        </Tooltip>\r\n                        <Tooltip\r\n                          open={openTooltip}\r\n                          onClose={handleCloseTooltip}\r\n                          onOpen={handleOpenTooltip}\r\n                          // title='SEND TEMPLATE'\r\n                          title='INITIATE CONVERSATION'\r\n                        >\r\n                          <SpeakerNotesIcon\r\n                            className='templateMsg'\r\n                            // onClick={getTemplateMsg}\r\n                            onClick={handleSendTemplate}\r\n                          />\r\n                        </Tooltip>\r\n                        <textarea\r\n                          className='chatMessageInput'\r\n                          placeholder='Type a message...'\r\n                          value={newMessage}\r\n                          onChange={(e) => {\r\n                            setNewMessage(e.target.value);\r\n                            typeMsg(e);\r\n                          }}\r\n                          onKeyPress={handleKeyPress}\r\n                        />\r\n                        {newMessage.length > 0 ? (\r\n                         <>\r\n                         &nbsp;\r\n                          <SendIcon\r\n                            fontSize='medium'\r\n                            style={{fontSize: '29px'}}\r\n                            className='chatSubmitButton'\r\n                            onClick={handleSubmit}\r\n                          />\r\n                          {/* <NoteAddIcon\r\n                            fontSize='medium'\r\n                            style={{fontSize: '25px'}}\r\n                            className='chatSubmitButton'\r\n                            onClick={handleSendNote}\r\n                          /> */}\r\n                          <span className='chatSubmitButton'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                          <SpeedDial\r\n                            ariaLabel=\"SpeedDial openIcon example\"\r\n                            style={{left: '97%', height: '29px'}}\r\n                            sx={{ position: 'absolute', bottom: 16, right: 16 }}\r\n                            icon={<NoteAddIcon fontSize='medium' style={{fontSize: '26px', color:'#9B9B9B'}} openIcon={<SendIcon fontSize='medium' style={{fontSize: '26px', color:'#1977f2'}} />} />}\r\n                          >\r\n                            {actions.map((action) => (\r\n                              <SpeedDialAction\r\n                                key={action.name}\r\n                                icon={action.icon}\r\n                                tooltipTitle={action.name}\r\n                              />\r\n                            ))}\r\n                          </SpeedDial>\r\n                         </>\r\n                        ) : (\r\n                          <MicIcon fontSize='large' className='micButton' />\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </footer>\r\n              </>\r\n            ) : (\r\n              <img\r\n                src={chatDemo}\r\n                // height='600'\r\n                // width='600'\r\n                style={{\r\n                  alignSelf: 'center',\r\n                  marginTop: '130px',\r\n                  height: '60vh',\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <RightSec newSessions={newSessions} interestedTutors={interestedTutors} clientPayment={clientPayment} tutorPayout={tutorPayout} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n","import { useContext, useRef } from \"react\";\r\nimport \"./login.css\";\r\n// import { loginCall } from \"../../apiCalls\";\r\n// import { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { gridColumnsTotalWidthSelector } from \"@mui/x-data-grid\";\r\n\r\nexport default function Login({\r\n  userId,\r\n  setUserId,\r\n  agent,\r\n  setAgent,\r\n  pass,\r\n  setPass,\r\n  setUser,\r\n  setApiUrl,\r\n  setApiKey,\r\n  otp,\r\n  setOtp,\r\n}) {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  //   const { isFetching, dispatch } = useContext(AuthContext);\r\n\r\n  //   const handleClick = (e) => {\r\n  //     e.preventDefault();\r\n  //     loginCall(\r\n  //       { email: email.current.value, password: password.current.value },\r\n  //       dispatch\r\n  //     );\r\n  //   };\r\n  console.log(process.env.REACT_APP_API_194);\r\n\r\n  // verify OTP\r\n  const verifyUser = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      // otpMatched &&\r\n      userId == process.env.REACT_APP_ID1 &&\r\n      pass == process.env.REACT_APP_PASS1\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_194}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_194);\r\n        setApiKey(process.env.REACT_APP_API_KEY_194);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_194);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_194);\r\n        localStorage.setItem(\"device\", \"1\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"917761093194\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"1ff427bd_e20d_4582_a530_e28f311cc595\"\r\n        );\r\n        window.location.reload();\r\n      } else if (verifyAgent.data.remark === \"OTP Not Matched\") {\r\n        alert(\"OTP is not correct!\");\r\n        setUser(false);\r\n        console.log(\"failed verify agent api\");\r\n      } else {\r\n        alert(\"OTP is expired.Please send another\");\r\n        setUser(false);\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID2 &&\r\n      pass == process.env.REACT_APP_PASS2\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_7091}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_7091);\r\n        setApiKey(process.env.REACT_APP_API_KEY_7091);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_7091);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_7091);\r\n        localStorage.setItem(\"device\", \"2\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"917091489698\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"f02c5e46_b956_4160_abf2_e8f6cf283754\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID3 &&\r\n      pass == process.env.REACT_APP_PASS3\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_77618}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_77618);\r\n        setApiKey(process.env.REACT_APP_API_KEY_77618);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_77618);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_77618);\r\n        localStorage.setItem(\"device\", \"3\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"917761814102\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"1ff427bd_e20d_4582_a530_e28f311cc595\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID4 &&\r\n      pass == process.env.REACT_APP_PASS4\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_8777}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_8777);\r\n        setApiKey(process.env.REACT_APP_API_KEY_8777);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_8777);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_8777);\r\n        localStorage.setItem(\"device\", \"4\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"918777592248\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"1ff427bd_e20d_4582_a530_e28f311cc595\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID5 &&\r\n      pass == process.env.REACT_APP_PASS5\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_9065}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_9065);\r\n        setApiKey(process.env.REACT_APP_API_KEY_9065);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_9065);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_9065);\r\n        localStorage.setItem(\"device\", \"5\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"919065650479\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"f02c5e46_b956_4160_abf2_e8f6cf283754\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        setUser(false);\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID6 &&\r\n      pass == process.env.REACT_APP_PASS6\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_7070}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_7070);\r\n        setApiKey(process.env.REACT_APP_API_KEY_7070);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_7070);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_7070);\r\n        localStorage.setItem(\"device\", \"6\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"917070505631\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"f02c5e46_b956_4160_abf2_e8f6cf283754\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID7 &&\r\n      pass == process.env.REACT_APP_PASS7\r\n    ) {\r\n      const verifyAgent = await axios.post(\r\n        `${process.env.REACT_APP_API_9661}/api/agent/verifyOtp`,\r\n        {\r\n          otp: otp,\r\n          agent: agent,\r\n        }\r\n      );\r\n      const otpMatched = verifyAgent?.data?.success;\r\n      console.log({ otpMatched });\r\n\r\n      if (verifyAgent.data.success) {\r\n        setUser(true);\r\n        localStorage.setItem(\"user\", true);\r\n        setApiUrl(process.env.REACT_APP_API_9661);\r\n        setApiKey(process.env.REACT_APP_API_KEY_9661);\r\n        localStorage.setItem(\"api\", process.env.REACT_APP_API_9661);\r\n        localStorage.setItem(\"api_key\", process.env.REACT_APP_API_KEY_9661);\r\n        localStorage.setItem(\"device\", \"7\");\r\n        localStorage.setItem(\"agent\", agent);\r\n        localStorage.setItem(\"waid\", \"919661126925\");\r\n        localStorage.setItem(\r\n          \"namespace\",\r\n          \"3b25ca9e_e7fe_45a1_acd2_224e4fd396d8\"\r\n        );\r\n      } else {\r\n        alert(\"OTP is not correct!\");\r\n        console.log(\"failed verify agent api\");\r\n      }\r\n    } else {\r\n      setUser(false);\r\n      alert(\"Login Failed! UserID or password is incorrect.\");\r\n    }\r\n  };\r\n\r\n  // send Otp\r\n  const sendOtp = async () => {\r\n    if (\r\n      // otpMatched &&\r\n      userId == process.env.REACT_APP_ID1 &&\r\n      pass == process.env.REACT_APP_PASS1\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_194}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device1\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID2 &&\r\n      pass == process.env.REACT_APP_PASS2\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_7091}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device2\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID3 &&\r\n      pass == process.env.REACT_APP_PASS3\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_77618}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device3\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID4 &&\r\n      pass == process.env.REACT_APP_PASS4\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_8777}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device4\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID5 &&\r\n      pass == process.env.REACT_APP_PASS5\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_9065}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device5\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID6 &&\r\n      pass == process.env.REACT_APP_PASS6\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_7070}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device6\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else if (\r\n      userId == process.env.REACT_APP_ID7 &&\r\n      pass == process.env.REACT_APP_PASS7\r\n    ) {\r\n      if (\r\n        agent &&\r\n        (agent === process.env.REACT_APP_AGENT_ADMIN ||\r\n          agent === process.env.REACT_APP_AGENT_1 ||\r\n          agent === process.env.REACT_APP_AGENT_2 ||\r\n          agent === process.env.REACT_APP_AGENT_3 ||\r\n          agent === process.env.REACT_APP_AGENT_4)\r\n      ) {\r\n        const sendOtp = await axios.post(\r\n          `${process.env.REACT_APP_API_9661}/api/agent/sendOtp`,\r\n          {\r\n            device: \"Device7\",\r\n            agent: agent,\r\n          }\r\n        );\r\n        if (sendOtp.data) {\r\n          alert(\"OTP Sent\");\r\n          console.log(\"OTP is sent\");\r\n        } else {\r\n          alert(\"OTP not sent. Try Again!\");\r\n          console.log(\"OTP is sent\");\r\n        }\r\n      } else {\r\n        alert(\"Please Enter Correct Agent's Name\");\r\n      }\r\n    } else {\r\n      alert(\"UserID or password is incorrect.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">Eduarno Chat Dashboard</h3>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\">\r\n            <input\r\n              placeholder=\"User ID\"\r\n              type=\"text\"\r\n              value={userId}\r\n              required\r\n              className=\"loginInput\"\r\n              onChange={(e) => setUserId(e.target.value)}\r\n              ref={email}\r\n            />\r\n            <input\r\n              placeholder=\"Agent Name\"\r\n              type=\"text\"\r\n              value={agent}\r\n              className=\"loginInput\"\r\n              onChange={(e) => setAgent(e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              value={pass}\r\n              required\r\n              minLength=\"6\"\r\n              className=\"loginInput\"\r\n              onChange={(e) => setPass(e.target.value)}\r\n              ref={password}\r\n            />\r\n            <div style={{ display: \"flex\" }}>\r\n              <input\r\n                style={{ flex: \"80%\", height: \"47px\" }}\r\n                placeholder=\"OTP\"\r\n                type=\"text\"\r\n                value={otp}\r\n                required\r\n                minLength=\"4\"\r\n                className=\"loginInput\"\r\n                onChange={(e) => setOtp(e.target.value)}\r\n              />\r\n              <button\r\n                style={{\r\n                  flex: \"20%\",\r\n                  height: \"50px\",\r\n                  marginLeft: \"10px\",\r\n                  backgroundColor: \"#25d366\",\r\n                  border: \"none\",\r\n                  borderRadius: \"10px\",\r\n                  color: \"white\",\r\n                }}\r\n                onClick={sendOtp}\r\n              >\r\n                Send OTP\r\n              </button>\r\n            </div>\r\n            <button className=\"loginButton\" type=\"submit\" onClick={verifyUser}>\r\n              Log In\r\n            </button>\r\n            <span className=\"loginForgot\">Forgot Password?</span>\r\n            {/* <button className=\"loginRegisterButton\">\r\n              {isFetching ? (\r\n                <CircularProgress color=\"white\" size=\"20px\" />\r\n              ) : (\r\n                \"Create a New Account\"\r\n              )}\r\n            </button> */}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { useContext, useState } from \"react\";\r\nimport Messenger from \"./pages/messenger/Messenger\";\r\nimport Login from \"./pages/login/Login\";\r\n\r\nfunction App() {\r\n  const [userId, setUserId] = useState();\r\n  const [pass, setPass] = useState();\r\n  const [otp, setOtp] = useState();\r\n  const [agent, setAgent] = useState();\r\n  const [user, setUser] = useState(false);\r\n  const [apiUrl, setApiUrl] = useState();\r\n  const [apiKey, setApiKey] = useState();\r\n  let login = localStorage.getItem(\"user\");\r\n  let agent_ = localStorage.getItem(\"agent\");\r\n\r\n  if(Notification.permission !== 'denied') {\r\n    Notification.requestPermission().then(permission => {\r\n      console.log(permission)\r\n    })\r\n  }\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n         <Route exact path=\"/\">\r\n           {user || login ? <Messenger apiUrl={apiUrl} apiKey={apiKey} /> : <Login userId={userId} setUserId={setUserId} agent={agent} setAgent={setAgent} pass={pass} setPass={setPass} setUser={setUser} setApiUrl={setApiUrl} setApiKey={setApiKey} otp={otp} setOtp={setOtp}/>}\r\n         </Route>\r\n         <Route exact path=\"/login\">{user || login ? <Redirect to=\"/\" /> : <Login userId={userId} setUserId={setUserId} agent={agent} setAgent={setAgent} pass={pass} setPass={setPass} setUser={setUser} setApiUrl={setApiUrl} setApiKey={setApiKey} otp={otp} setOtp={setOtp}/>}</Route>\r\n         {/* <Route path=\"/\">{user || login ? <Redirect to={`/${agent_}`} /> : <Login userId={userId} setUserId={setUserId} agent={agent} setAgent={setAgent} pass={pass} setPass={setPass} setUser={setUser} setApiUrl={setApiUrl} setApiKey={setApiKey} />}</Route> */}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}