{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AEPL\\\\Desktop\\\\Git Clones\\\\Dummy_project\\\\Backend\\\\dummy1\\\\src\\\\components\\\\dropDown\\\\MoreMenu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './moreMenu.css';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MoreMenu = _ref => {\n  _s();\n\n  let {\n    arrivalMessage\n  } = _ref;\n  const [options, setOptions] = useState();\n  const uniqueValuesSet = new Set();\n  useEffect(() => {\n    const filteredArr = arrivalMessage.reverse().filter(obj => {\n      const isPresentInSet = uniqueValuesSet.has(obj.waId);\n      uniqueValuesSet.add(obj.waId);\n      return !isPresentInSet;\n    });\n    setOptions(filteredArr);\n  }, [arrivalMessage]); //   const options = filteredArr;\n\n  const ITEM_HEIGHT = 48;\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const truncString = (str, max, add) => {\n    add = add || '...';\n    return typeof str === 'string' && str.length > max ? str.substring(0, max) + add : str;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(NotificationsIcon, {\n        className: (options === null || options === void 0 ? void 0 : options.length) > 0 ? 'notification' : 'no_noti'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      id: \"long-menu\",\n      anchorEl: anchorEl,\n      keepMounted: true,\n      open: open,\n      onClose: handleClose,\n      PaperProps: {\n        style: {\n          maxHeight: ITEM_HEIGHT * 4.5,\n          width: '20ch'\n        }\n      },\n      children: (options === null || options === void 0 ? void 0 : options.length) > 0 ? options === null || options === void 0 ? void 0 : options.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n        // selected={option === 'None'}\n        onClick: handleClose,\n        style: {\n          fontSize: '14px',\n          fontWeight: 'bold'\n        },\n        children: [truncString(option.senderName, 10, '...'), \" (\", truncString(option.text, 3, '..'), \")\"]\n      }, option.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(MenuItem, {\n        // selected={option === 'None'}\n        onClick: handleClose,\n        children: \"No new messages\"\n      }, 'noMsg', false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoreMenu, \"k09AUYlWRe0miRsoTVpWAmoXCwI=\");\n\n_c = MoreMenu;\nexport default MoreMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoreMenu\");","map":{"version":3,"names":["React","useState","useEffect","IconButton","Menu","MenuItem","MoreVertIcon","NotificationsIcon","MoreMenu","arrivalMessage","options","setOptions","uniqueValuesSet","Set","filteredArr","reverse","filter","obj","isPresentInSet","has","waId","add","ITEM_HEIGHT","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","truncString","str","max","length","substring","style","maxHeight","width","map","option","fontSize","fontWeight","senderName","text","id"],"sources":["C:/Users/AEPL/Desktop/Git Clones/Dummy_project/Backend/dummy1/src/components/dropDown/MoreMenu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './moreMenu.css'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nconst MoreMenu = ({ arrivalMessage }) => {\r\n  const [options, setOptions] = useState();\r\n  const uniqueValuesSet = new Set();\r\n\r\n  useEffect(() => {\r\n    const filteredArr = arrivalMessage.reverse().filter((obj) => {\r\n      const isPresentInSet = uniqueValuesSet.has(obj.waId);\r\n      uniqueValuesSet.add(obj.waId);\r\n      return !isPresentInSet;\r\n    });\r\n    setOptions(filteredArr);\r\n  }, [arrivalMessage]);\r\n  //   const options = filteredArr;\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const truncString = (str, max, add) => {\r\n    add = add || '...';\r\n    return (typeof str === 'string' && str.length > max ? str.substring(0,max)+add : str);\r\n };\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label='more'\r\n        aria-controls='long-menu'\r\n        aria-haspopup='true'\r\n        onClick={handleClick}\r\n      >\r\n        <NotificationsIcon className={options?.length>0 ? 'notification' : 'no_noti'} />\r\n      </IconButton>\r\n      <Menu\r\n        id='long-menu'\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n          style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5,\r\n            width: '20ch',\r\n          },\r\n        }}\r\n      >\r\n        {options?.length > 0 ? (\r\n          options?.map((option) => (\r\n            <MenuItem\r\n              key={option.id}\r\n              // selected={option === 'None'}\r\n              onClick={handleClose}\r\n              style={{fontSize: '14px', fontWeight: 'bold'}}\r\n            >\r\n              {truncString(option.senderName, 10, '...')} ({truncString(option.text, 3, '..')})\r\n            </MenuItem>\r\n          ))\r\n        ) : (\r\n          <MenuItem\r\n            key={'noMsg'}\r\n            // selected={option === 'None'}\r\n            onClick={handleClose}\r\n          >\r\n            No new messages\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MoreMenu;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,gBAAP;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;;;AAEA,MAAMC,QAAQ,GAAG,QAAwB;EAAA;;EAAA,IAAvB;IAAEC;EAAF,CAAuB;EACvC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,EAAtC;EACA,MAAMW,eAAe,GAAG,IAAIC,GAAJ,EAAxB;EAEAX,SAAS,CAAC,MAAM;IACd,MAAMY,WAAW,GAAGL,cAAc,CAACM,OAAf,GAAyBC,MAAzB,CAAiCC,GAAD,IAAS;MAC3D,MAAMC,cAAc,GAAGN,eAAe,CAACO,GAAhB,CAAoBF,GAAG,CAACG,IAAxB,CAAvB;MACAR,eAAe,CAACS,GAAhB,CAAoBJ,GAAG,CAACG,IAAxB;MACA,OAAO,CAACF,cAAR;IACD,CAJmB,CAApB;IAKAP,UAAU,CAACG,WAAD,CAAV;EACD,CAPQ,EAON,CAACL,cAAD,CAPM,CAAT,CAJuC,CAYvC;;EAEA,MAAMa,WAAW,GAAG,EAApB;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BxB,KAAK,CAACC,QAAN,CAAe,IAAf,CAAhC;EACA,MAAMwB,IAAI,GAAGC,OAAO,CAACH,QAAD,CAApB;;EAEA,MAAMI,WAAW,GAAIC,KAAD,IAAW;IAC7BJ,WAAW,CAACI,KAAK,CAACC,aAAP,CAAX;EACD,CAFD;;EAIA,MAAMC,WAAW,GAAG,MAAM;IACxBN,WAAW,CAAC,IAAD,CAAX;EACD,CAFD;;EAIA,MAAMO,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWZ,GAAX,KAAmB;IACrCA,GAAG,GAAGA,GAAG,IAAI,KAAb;IACA,OAAQ,OAAOW,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACE,MAAJ,GAAaD,GAAxC,GAA8CD,GAAG,CAACG,SAAJ,CAAc,CAAd,EAAgBF,GAAhB,IAAqBZ,GAAnE,GAAyEW,GAAjF;EACF,CAHA;;EAIA,oBACE;IAAA,wBACE,QAAC,UAAD;MACE,cAAW,MADb;MAEE,iBAAc,WAFhB;MAGE,iBAAc,MAHhB;MAIE,OAAO,EAAEL,WAJX;MAAA,uBAME,QAAC,iBAAD;QAAmB,SAAS,EAAE,CAAAjB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEwB,MAAT,IAAgB,CAAhB,GAAoB,cAApB,GAAqC;MAAnE;QAAA;QAAA;QAAA;MAAA;IANF;MAAA;MAAA;MAAA;IAAA,QADF,eASE,QAAC,IAAD;MACE,EAAE,EAAC,WADL;MAEE,QAAQ,EAAEX,QAFZ;MAGE,WAAW,MAHb;MAIE,IAAI,EAAEE,IAJR;MAKE,OAAO,EAAEK,WALX;MAME,UAAU,EAAE;QACVM,KAAK,EAAE;UACLC,SAAS,EAAEf,WAAW,GAAG,GADpB;UAELgB,KAAK,EAAE;QAFF;MADG,CANd;MAAA,UAaG,CAAA5B,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEwB,MAAT,IAAkB,CAAlB,GACCxB,OADD,aACCA,OADD,uBACCA,OAAO,CAAE6B,GAAT,CAAcC,MAAD,iBACX,QAAC,QAAD;QAEE;QACA,OAAO,EAAEV,WAHX;QAIE,KAAK,EAAE;UAACW,QAAQ,EAAE,MAAX;UAAmBC,UAAU,EAAE;QAA/B,CAJT;QAAA,WAMGX,WAAW,CAACS,MAAM,CAACG,UAAR,EAAoB,EAApB,EAAwB,KAAxB,CANd,QAMgDZ,WAAW,CAACS,MAAM,CAACI,IAAR,EAAc,CAAd,EAAiB,IAAjB,CAN3D;MAAA,GACOJ,MAAM,CAACK,EADd;QAAA;QAAA;QAAA;MAAA,QADF,CADD,gBAYC,QAAC,QAAD;QAEE;QACA,OAAO,EAAEf,WAHX;QAAA;MAAA,GACO,OADP;QAAA;QAAA;QAAA;MAAA;IAzBJ;MAAA;MAAA;MAAA;IAAA,QATF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8CD,CA5ED;;GAAMtB,Q;;KAAAA,Q;AA8EN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}