{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AEPL\\\\Desktop\\\\Git Clones\\\\Dummy_project\\\\Backend\\\\dummy1\\\\src\\\\components\\\\message\\\\Message.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './message.css';\nimport { format } from 'timeago.js';\nimport moment from 'moment';\nimport axios from 'axios';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport { getFileUrl } from '../../serviceUrls/Message-Services';\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\nimport ReactAudioPlayer from 'react-audio-player';\nimport Checkbox from '@mui/material/Checkbox';\nimport ReplyAllIcon from '@mui/icons-material/ReplyAll';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Message = _ref => {\n  _s();\n\n  var _message$clientNotes, _message$clientNotes2, _message$messages$21, _message$data4, _message$messages$22, _message$messages$22$, _message$messages$23, _message$messages$24, _message$data5, _message$messages$25, _message$messages$25$, _message$messages$26, _message$messages$27, _message$messages$28, _message$messages$29, _message$messages$30, _message$messages$30$, _message$messages$31, _message$messages$31$, _message$messages$32, _message$messages$33, _message$messages$33$, _message$messages$34, _message$messages$35, _message$messages$36, _message$messages$36$, _message$text3, _message$text4, _status$find, _status$find2, _status$find3, _message$messages$37;\n\n  let {\n    apiUrl,\n    message,\n    msgArr,\n    own,\n    ownAlt,\n    setForward,\n    mulForward,\n    setMulForward,\n    setVisible,\n    showSelector,\n    setShowSelector,\n    status\n  } = _ref;\n  const [fileData, setFileData] = useState();\n  const [image, setImage] = useState();\n  const [context, setContext] = useState();\n  const [fileType, setFileType] = useState();\n  const [check, setCheck] = useState();\n  console.log('stat', status);\n  console.log(message);\n  useEffect(() => {\n    const getImg = async () => {\n      try {\n        var _message$messages$, _message$messages$2, _message$messages$3, _message$messages$4, _message$messages$5;\n\n        if (message.type == 'image' || message.type == 'video' || message.type == 'document' || message.type == 'voice' || message.type == 'audio' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$ = message.messages[0]) === null || _message$messages$ === void 0 ? void 0 : _message$messages$.type) == 'image' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$2 = message.messages[0]) === null || _message$messages$2 === void 0 ? void 0 : _message$messages$2.type) == 'video' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$3 = message.messages[0]) === null || _message$messages$3 === void 0 ? void 0 : _message$messages$3.type) == 'voice' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$4 = message.messages[0]) === null || _message$messages$4 === void 0 ? void 0 : _message$messages$4.type) == 'audio' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$5 = message.messages[0]) === null || _message$messages$5 === void 0 ? void 0 : _message$messages$5.type) == 'document') {\n          var _message$data, _message$messages$6, _message$messages$6$m, _message$messages$7;\n\n          await fetch(`https://waba.360dialog.io/v1/media/${(message === null || message === void 0 ? void 0 : (_message$data = message.data) === null || _message$data === void 0 ? void 0 : _message$data.id) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$6 = message.messages[0]) === null || _message$messages$6 === void 0 ? void 0 : (_message$messages$6$m = _message$messages$6[message === null || message === void 0 ? void 0 : (_message$messages$7 = message.messages[0]) === null || _message$messages$7 === void 0 ? void 0 : _message$messages$7.type]) === null || _message$messages$6$m === void 0 ? void 0 : _message$messages$6$m.id)}`, {\n            headers: { ...headerKey\n            }\n          }).then(res => res.blob()).then(blob => {\n            setImage(() => URL.createObjectURL(blob));\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getImg();\n\n    const getContext = async () => {\n      var _message$context, _message$messages$8;\n\n      if (message !== null && message !== void 0 && message.context && message !== null && message !== void 0 && (_message$context = message.context) !== null && _message$context !== void 0 && _message$context.id || message !== null && message !== void 0 && message.messages && message !== null && message !== void 0 && (_message$messages$8 = message.messages[0]) !== null && _message$messages$8 !== void 0 && _message$messages$8.context) {\n        try {\n          var _message$context2, _message$messages$9, _message$messages$9$c;\n\n          const res = await axios.get(`${apiUrl || localStorage.getItem('api')}/api/messages/findMsg/${(message === null || message === void 0 ? void 0 : (_message$context2 = message.context) === null || _message$context2 === void 0 ? void 0 : _message$context2.id) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$9 = message.messages[0]) === null || _message$messages$9 === void 0 ? void 0 : (_message$messages$9$c = _message$messages$9.context) === null || _message$messages$9$c === void 0 ? void 0 : _message$messages$9$c.id)}`);\n\n          if (res.data[0].eventType === 'template') {\n            setContext(res.data[0].templateText);\n            console.log(res.data[0]);\n          } else if (res.data[0].type === 'text') {\n            setContext(res.data[0].text.body);\n          } else if (res.data[0].type === 'image' || res.data[0].type === 'video' || res.data[0].type === 'document') {\n            var _res$data$0$data;\n\n            setFileType(res.data[0].type);\n            await fetch(`https://waba.360dialog.io/v1/media/${(_res$data$0$data = res.data[0].data) === null || _res$data$0$data === void 0 ? void 0 : _res$data$0$data.id}`, {\n              headers: { ...headerKey\n              }\n            }).then(res => res.blob()).then(blob => {\n              setContext(() => URL.createObjectURL(blob));\n            });\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    };\n\n    getContext();\n  }, [message]);\n  console.log(image); // const handleCheck = (val) => {\n  //   if(mulForward.find(element => element == val)) {\n  //     let index = mulForward.indexOf(val);\n  //     mulForward.splice(index, 1);\n  //   }\n  //   else if() {\n  //     message.type === 'image' ||\n  //             message.type === 'video' ||\n  //             message.type === 'document'\n  //               ? setMulForward([...mulForward, { type: message.type, data: message.data }]) : setMulForward([...mulForward, { type: message.type, data: message.text }])\n  //   }\n  // }\n\n  console.log(mulForward);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: message.eventType === 'template' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"temp_message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"temp_messageText\",\n        children: message.templateText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this) : message.eventType === 'note' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"note_message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"note_messageText\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: (message === null || message === void 0 ? void 0 : (_message$clientNotes = message.clientNotes) === null || _message$clientNotes === void 0 ? void 0 : _message$clientNotes.priority) === 'high' ? 'red' : (message === null || message === void 0 ? void 0 : (_message$clientNotes2 = message.clientNotes) === null || _message$clientNotes2 === void 0 ? void 0 : _message$clientNotes2.priority) === 'medium' ? 'royalblue' : '#9b9b9b',\n            fontSize: '12px',\n            fontWeight: '700'\n          },\n          children: \"NOTE: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), message.clientNotes.noteText]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: own || ownAlt ? 'message own' : 'message',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: own || ownAlt ? 'messageTop _own_' : 'messageTop',\n        children: [showSelector && /*#__PURE__*/_jsxDEV(Checkbox, {\n          size: \"small\",\n          style: {\n            placeSelf: 'center',\n            marginRight: '15px'\n          } // id={i._id}\n          // name={i._id}\n          // value={i.wa_id}\n          ,\n          onChange: () => {\n            if (mulForward !== null && mulForward !== void 0 && mulForward.find(element => {\n              var _element$data, _element$data2, _message$text, _element$data3, _element$data4, _message$messages$10, _message$messages$11, _element$data5, _element$data6, _message$data2, _element$data7, _element$data8, _message$messages$12, _message$messages$13;\n\n              return (element === null || element === void 0 ? void 0 : (_element$data = element.data) === null || _element$data === void 0 ? void 0 : _element$data.body) && (element === null || element === void 0 ? void 0 : (_element$data2 = element.data) === null || _element$data2 === void 0 ? void 0 : _element$data2.body) == (message === null || message === void 0 ? void 0 : (_message$text = message.text) === null || _message$text === void 0 ? void 0 : _message$text.body) || (element === null || element === void 0 ? void 0 : (_element$data3 = element.data) === null || _element$data3 === void 0 ? void 0 : _element$data3.body) && (message === null || message === void 0 ? void 0 : message.messages) && (element === null || element === void 0 ? void 0 : (_element$data4 = element.data) === null || _element$data4 === void 0 ? void 0 : _element$data4.body) == (message === null || message === void 0 ? void 0 : (_message$messages$10 = message.messages[0]) === null || _message$messages$10 === void 0 ? void 0 : _message$messages$10[message === null || message === void 0 ? void 0 : (_message$messages$11 = message.messages[0]) === null || _message$messages$11 === void 0 ? void 0 : _message$messages$11.type].body) || (element === null || element === void 0 ? void 0 : (_element$data5 = element.data) === null || _element$data5 === void 0 ? void 0 : _element$data5.id) && (element === null || element === void 0 ? void 0 : (_element$data6 = element.data) === null || _element$data6 === void 0 ? void 0 : _element$data6.id) == (message === null || message === void 0 ? void 0 : (_message$data2 = message.data) === null || _message$data2 === void 0 ? void 0 : _message$data2.id) || (element === null || element === void 0 ? void 0 : (_element$data7 = element.data) === null || _element$data7 === void 0 ? void 0 : _element$data7.id) && (message === null || message === void 0 ? void 0 : message.messages) && (element === null || element === void 0 ? void 0 : (_element$data8 = element.data) === null || _element$data8 === void 0 ? void 0 : _element$data8.id) == (message === null || message === void 0 ? void 0 : (_message$messages$12 = message.messages[0]) === null || _message$messages$12 === void 0 ? void 0 : _message$messages$12[message === null || message === void 0 ? void 0 : (_message$messages$13 = message.messages[0]) === null || _message$messages$13 === void 0 ? void 0 : _message$messages$13.type].id);\n            })) {\n              let index = mulForward === null || mulForward === void 0 ? void 0 : mulForward.findIndex(x => {\n                var _x$data, _x$data2, _message$text2, _x$data3, _x$data4, _message$data3, _x$data5, _x$data6, _message$messages$14, _message$messages$15, _message$messages$16, _message$messages$17;\n\n                return (x === null || x === void 0 ? void 0 : (_x$data = x.data) === null || _x$data === void 0 ? void 0 : _x$data.body) && (x === null || x === void 0 ? void 0 : (_x$data2 = x.data) === null || _x$data2 === void 0 ? void 0 : _x$data2.body) === (message === null || message === void 0 ? void 0 : (_message$text2 = message.text) === null || _message$text2 === void 0 ? void 0 : _message$text2.body) || (x === null || x === void 0 ? void 0 : (_x$data3 = x.data) === null || _x$data3 === void 0 ? void 0 : _x$data3.id) && (x === null || x === void 0 ? void 0 : (_x$data4 = x.data) === null || _x$data4 === void 0 ? void 0 : _x$data4.id) === (message === null || message === void 0 ? void 0 : (_message$data3 = message.data) === null || _message$data3 === void 0 ? void 0 : _message$data3.id) || (x === null || x === void 0 ? void 0 : (_x$data5 = x.data) === null || _x$data5 === void 0 ? void 0 : _x$data5.body) && (message === null || message === void 0 ? void 0 : message.messages) && (x === null || x === void 0 ? void 0 : (_x$data6 = x.data) === null || _x$data6 === void 0 ? void 0 : _x$data6.body) === (message === null || message === void 0 ? void 0 : (_message$messages$14 = message.messages[0]) === null || _message$messages$14 === void 0 ? void 0 : _message$messages$14[message === null || message === void 0 ? void 0 : (_message$messages$15 = message.messages[0]) === null || _message$messages$15 === void 0 ? void 0 : _message$messages$15.type].body) || x.data.id && (message === null || message === void 0 ? void 0 : message.messages) && x.data.id === (message === null || message === void 0 ? void 0 : (_message$messages$16 = message.messages[0]) === null || _message$messages$16 === void 0 ? void 0 : _message$messages$16[message === null || message === void 0 ? void 0 : (_message$messages$17 = message.messages[0]) === null || _message$messages$17 === void 0 ? void 0 : _message$messages$17.type].id);\n              });\n              mulForward.splice(index, 1);\n            } else {\n              var _message$messages$18, _message$messages$19, _message$messages$20;\n\n              setMulForward([...mulForward, {\n                type: (message === null || message === void 0 ? void 0 : message.type) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$18 = message.messages[0]) === null || _message$messages$18 === void 0 ? void 0 : _message$messages$18.type),\n                data: (message === null || message === void 0 ? void 0 : message.data) || message.text || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$19 = message.messages[0]) === null || _message$messages$19 === void 0 ? void 0 : _message$messages$19[message === null || message === void 0 ? void 0 : (_message$messages$20 = message.messages[0]) === null || _message$messages$20 === void 0 ? void 0 : _message$messages$20.type])\n              }]); // : message?.type === 'text' ||\n              // message?.messages[0]?.type === 'text' ? setMulForward([\n              //     ...mulForward,\n              //     {\n              //       type:\n              //         message.type ||\n              //         (message?.messages && message?.messages[0]?.type),\n              //       data:\n              //         message.text ||\n              //         (message?.messages &&\n              //           message?.messages[0]?.text),\n              //     },\n              //   ]) : setMulForward([\n              //     ...mulForward,\n              //     {\n              //       type:\n              //         message.type ||\n              //         (message?.messages && message?.messages[0]?.type),\n              //       data:\n              //         message.text ||\n              //         (message?.messages &&\n              //           message?.messages[0]?.text),\n              //     },\n              //   ])\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }, this), message.type === 'image' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$21 = message.messages[0]) === null || _message$messages$21 === void 0 ? void 0 : _message$messages$21.type) == 'image' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: own || ownAlt ? 'messageImage own_' : 'messageImage',\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image,\n            className: own || ownAlt ? 'imageBox ownimg_' : 'imageBox' // className={own || ownAlt ? 'messageImage own_' : 'messageImage'}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'start',\n              padding: '0px 7px 0px 7px',\n              fontSize: '13px',\n              width: '-webkit-fill-available'\n            },\n            children: (message === null || message === void 0 ? void 0 : (_message$data4 = message.data) === null || _message$data4 === void 0 ? void 0 : _message$data4.caption) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$22 = message.messages[0]) === null || _message$messages$22 === void 0 ? void 0 : (_message$messages$22$ = _message$messages$22[message === null || message === void 0 ? void 0 : (_message$messages$23 = message.messages[0]) === null || _message$messages$23 === void 0 ? void 0 : _message$messages$23.type]) === null || _message$messages$22$ === void 0 ? void 0 : _message$messages$22$.caption)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this) : message.type === 'video' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$24 = message.messages[0]) === null || _message$messages$24 === void 0 ? void 0 : _message$messages$24.type) == 'video' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: own || ownAlt ? 'messageVideo ownVid' : 'messageVideo',\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            src: image,\n            className: own || ownAlt ? 'videoBox ownVid_' : 'videoBox'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'start',\n              padding: '0px 7px 0px 7px',\n              fontSize: '13px',\n              width: '-webkit-fill-available'\n            },\n            children: (message === null || message === void 0 ? void 0 : (_message$data5 = message.data) === null || _message$data5 === void 0 ? void 0 : _message$data5.caption) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$25 = message.messages[0]) === null || _message$messages$25 === void 0 ? void 0 : (_message$messages$25$ = _message$messages$25[message === null || message === void 0 ? void 0 : (_message$messages$26 = message.messages[0]) === null || _message$messages$26 === void 0 ? void 0 : _message$messages$26.type]) === null || _message$messages$25$ === void 0 ? void 0 : _message$messages$25$.caption)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }, this) : message.type === 'voice' || message.type === 'audio' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$27 = message.messages[0]) === null || _message$messages$27 === void 0 ? void 0 : _message$messages$27.type) == 'voice' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$28 = message.messages[0]) === null || _message$messages$28 === void 0 ? void 0 : _message$messages$28.type) == 'audio' ? /*#__PURE__*/_jsxDEV(ReactAudioPlayer, {\n          src: image,\n          style: {\n            marginBottom: '15px'\n          },\n          controls: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }, this) : message.type === 'document' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$29 = message.messages[0]) === null || _message$messages$29 === void 0 ? void 0 : _message$messages$29.type) == 'document' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: own || ownAlt ? 'messageDocs own_' : 'messageDocs',\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: image,\n            target: \"_blank\",\n            children: message !== null && message !== void 0 && message.messages ? (message === null || message === void 0 ? void 0 : (_message$messages$30 = message.messages[0]) === null || _message$messages$30 === void 0 ? void 0 : (_message$messages$30$ = _message$messages$30.document) === null || _message$messages$30$ === void 0 ? void 0 : _message$messages$30$.filename) || (message === null || message === void 0 ? void 0 : (_message$messages$31 = message.messages[0]) === null || _message$messages$31 === void 0 ? void 0 : (_message$messages$31$ = _message$messages$31.document) === null || _message$messages$31$ === void 0 ? void 0 : _message$messages$31$.caption) : message.data.filename ? message.data.filename : !message.data.filename ? message.data.caption : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }, this) : message.type === 'button' || message !== null && message !== void 0 && message.messages && (message === null || message === void 0 ? void 0 : (_message$messages$32 = message.messages[0]) === null || _message$messages$32 === void 0 ? void 0 : _message$messages$32.type) == 'button' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"messageTextContext\",\n            children: context\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"messageTextReplyBtn\",\n            children: message !== null && message !== void 0 && message.messages ? message === null || message === void 0 ? void 0 : (_message$messages$33 = message.messages[0]) === null || _message$messages$33 === void 0 ? void 0 : (_message$messages$33$ = _message$messages$33.button) === null || _message$messages$33$ === void 0 ? void 0 : _message$messages$33$.text : message !== null && message !== void 0 && message.replyButton ? message === null || message === void 0 ? void 0 : message.replyButton : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            whiteSpace: 'pre-wrap'\n          },\n          children: [message !== null && message !== void 0 && message.context || message !== null && message !== void 0 && message.messages && message !== null && message !== void 0 && (_message$messages$34 = message.messages[0]) !== null && _message$messages$34 !== void 0 && _message$messages$34.context ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: fileType === 'image' || fileType === 'video' || fileType === 'document' ?\n            /*#__PURE__*/\n            // <iframe\n            //   src={context}\n            //   width='100'\n            //   height='100'\n            //   style={{ border: '2px solid #fff' }}\n            // ></iframe>\n            _jsxDEV(\"div\", {\n              className: \"messageFileContext\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: context,\n                target: \"_blank\",\n                children: \"file link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"messageTextContext\",\n              children: context\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 19\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n            className: message.context || message !== null && message !== void 0 && message.messages && message !== null && message !== void 0 && (_message$messages$35 = message.messages[0]) !== null && _message$messages$35 !== void 0 && _message$messages$35.context ? 'messageTextReply' : 'messageText',\n            children: message !== null && message !== void 0 && message.messages ? message === null || message === void 0 ? void 0 : (_message$messages$36 = message.messages[0]) === null || _message$messages$36 === void 0 ? void 0 : (_message$messages$36$ = _message$messages$36.text) === null || _message$messages$36$ === void 0 ? void 0 : _message$messages$36$.body : message !== null && message !== void 0 && (_message$text3 = message.text) !== null && _message$text3 !== void 0 && _message$text3.body ? message === null || message === void 0 ? void 0 : (_message$text4 = message.text) === null || _message$text4 === void 0 ? void 0 : _message$text4.body : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row'\n        },\n        children: [own || ownAlt ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: message.status === 'read' || (status === null || status === void 0 ? void 0 : (_status$find = status.find(e => (e === null || e === void 0 ? void 0 : e.msgId) == (message === null || message === void 0 ? void 0 : message.id))) === null || _status$find === void 0 ? void 0 : _status$find.msgStatus) == 'read' ? /*#__PURE__*/_jsxDEV(DoneAllIcon, {\n            className: \"seen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 19\n          }, this) : message.status === 'delivered' || (status === null || status === void 0 ? void 0 : (_status$find2 = status.find(e => (e === null || e === void 0 ? void 0 : e.msgId) == (message === null || message === void 0 ? void 0 : message.id))) === null || _status$find2 === void 0 ? void 0 : _status$find2.msgStatus) == 'delivered' ? /*#__PURE__*/_jsxDEV(DoneAllIcon, {\n            className: \"delivered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 19\n          }, this) : message.status === 'sent' || (status === null || status === void 0 ? void 0 : (_status$find3 = status.find(e => (e === null || e === void 0 ? void 0 : e.msgId) == (message === null || message === void 0 ? void 0 : message.id))) === null || _status$find3 === void 0 ? void 0 : _status$find3.msgStatus) == 'sent' ? /*#__PURE__*/_jsxDEV(DoneIcon, {\n            className: \"sent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(ScheduleIcon, {\n            className: \"notsent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 19\n          }, this)\n        }, void 0, false) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageBottom\",\n          children: moment((message === null || message === void 0 ? void 0 : message.createdAt) || (message === null || message === void 0 ? void 0 : message.messages) && new Date((message === null || message === void 0 ? void 0 : (_message$messages$37 = message.messages[0]) === null || _message$messages$37 === void 0 ? void 0 : _message$messages$37.timestamp) * 1000)).format('lll')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fowardCont\",\n          children: [/*#__PURE__*/_jsxDEV(ReplyIcon, {\n            className: \"forward\",\n            onClick: () => {\n              var _message$messages$38, _message$messages$39, _message$messages$40;\n\n              setForward({\n                type: (message === null || message === void 0 ? void 0 : message.type) || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$38 = message.messages[0]) === null || _message$messages$38 === void 0 ? void 0 : _message$messages$38.type),\n                data: (message === null || message === void 0 ? void 0 : message.data) || message.text || (message === null || message === void 0 ? void 0 : message.messages) && (message === null || message === void 0 ? void 0 : (_message$messages$39 = message.messages[0]) === null || _message$messages$39 === void 0 ? void 0 : _message$messages$39[message === null || message === void 0 ? void 0 : (_message$messages$40 = message.messages[0]) === null || _message$messages$40 === void 0 ? void 0 : _message$messages$40.type])\n              });\n              setVisible(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReplyAllIcon, {\n            className: \"forward\",\n            onClick: () => setShowSelector(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Message, \"vZC5X2YG74IZjQhp0Dts9UqcoFM=\");\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["useEffect","useState","format","moment","axios","ReplyIcon","DoneAllIcon","DoneIcon","ScheduleIcon","getFileUrl","headerKey","ReactAudioPlayer","Checkbox","ReplyAllIcon","Message","apiUrl","message","msgArr","own","ownAlt","setForward","mulForward","setMulForward","setVisible","showSelector","setShowSelector","status","fileData","setFileData","image","setImage","context","setContext","fileType","setFileType","check","setCheck","console","log","getImg","type","messages","fetch","data","id","headers","then","res","blob","URL","createObjectURL","err","getContext","get","localStorage","getItem","eventType","templateText","text","body","color","clientNotes","priority","fontSize","fontWeight","noteText","placeSelf","marginRight","find","element","index","findIndex","x","splice","textAlign","padding","width","caption","marginBottom","document","filename","button","replyButton","whiteSpace","display","flexDirection","e","msgId","msgStatus","createdAt","Date","timestamp"],"sources":["C:/Users/AEPL/Desktop/Git Clones/Dummy_project/Backend/dummy1/src/components/message/Message.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport './message.css';\r\nimport { format } from 'timeago.js';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport { getFileUrl } from '../../serviceUrls/Message-Services';\r\nimport { headerKey } from '../../serviceUrls/ApiHeaderKey';\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport ReplyAllIcon from '@mui/icons-material/ReplyAll';\r\n\r\nconst Message = ({\r\n  apiUrl,\r\n  message,\r\n  msgArr,\r\n  own,\r\n  ownAlt,\r\n  setForward,\r\n  mulForward,\r\n  setMulForward,\r\n  setVisible,\r\n  showSelector,\r\n  setShowSelector,\r\n  status\r\n}) => {\r\n  const [fileData, setFileData] = useState();\r\n  const [image, setImage] = useState();\r\n  const [context, setContext] = useState();\r\n  const [fileType, setFileType] = useState();\r\n  const [check, setCheck] = useState();\r\n\r\n  console.log('stat', status)\r\n\r\n  console.log(message);\r\n\r\n  useEffect(() => {\r\n    const getImg = async () => {\r\n      try {\r\n        if (\r\n          message.type == 'image' ||\r\n          message.type == 'video' ||\r\n          message.type == 'document' ||\r\n          message.type == 'voice' ||\r\n          message.type == 'audio' ||\r\n          (message?.messages && message?.messages[0]?.type == 'image') ||\r\n          (message?.messages && message?.messages[0]?.type == 'video') ||\r\n          (message?.messages && message?.messages[0]?.type == 'voice') ||\r\n          (message?.messages && message?.messages[0]?.type == 'audio') ||\r\n          (message?.messages && message?.messages[0]?.type == 'document')\r\n        ) {\r\n          await fetch(\r\n            `https://waba.360dialog.io/v1/media/${\r\n              message?.data?.id ||\r\n              (message?.messages &&\r\n                message?.messages[0]?.[message?.messages[0]?.type]?.id)\r\n            }`,\r\n            {\r\n              headers: { ...headerKey },\r\n            }\r\n          )\r\n            .then((res) => res.blob())\r\n            .then((blob) => {\r\n              setImage(() => URL.createObjectURL(blob));\r\n            });\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getImg();\r\n\r\n    const getContext = async () => {\r\n      if (\r\n        (message?.context && message?.context?.id) ||\r\n        (message?.messages && message?.messages[0]?.context)\r\n      ) {\r\n        try {\r\n          const res = await axios.get(\r\n            `${apiUrl || localStorage.getItem('api')}/api/messages/findMsg/${\r\n              message?.context?.id ||\r\n              (message?.messages && message?.messages[0]?.context?.id)\r\n            }`\r\n          );\r\n          if (res.data[0].eventType === 'template') {\r\n            setContext(res.data[0].templateText);\r\n            console.log(res.data[0]);\r\n          } else if (res.data[0].type === 'text') {\r\n            setContext(res.data[0].text.body);\r\n          } else if (\r\n            res.data[0].type === 'image' ||\r\n            res.data[0].type === 'video' ||\r\n            res.data[0].type === 'document'\r\n          ) {\r\n            setFileType(res.data[0].type);\r\n            await fetch(\r\n              `https://waba.360dialog.io/v1/media/${res.data[0].data?.id}`,\r\n              {\r\n                headers: { ...headerKey },\r\n              }\r\n            )\r\n              .then((res) => res.blob())\r\n              .then((blob) => {\r\n                setContext(() => URL.createObjectURL(blob));\r\n              });\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    };\r\n    getContext();\r\n    \r\n  }, [message]);\r\n\r\n  \r\n  console.log(image);\r\n\r\n  // const handleCheck = (val) => {\r\n  //   if(mulForward.find(element => element == val)) {\r\n  //     let index = mulForward.indexOf(val);\r\n  //     mulForward.splice(index, 1);\r\n  //   }\r\n  //   else if() {\r\n  //     message.type === 'image' ||\r\n  //             message.type === 'video' ||\r\n  //             message.type === 'document'\r\n  //               ? setMulForward([...mulForward, { type: message.type, data: message.data }]) : setMulForward([...mulForward, { type: message.type, data: message.text }])\r\n  //   }\r\n  // }\r\n\r\n  console.log(mulForward);\r\n\r\n  return (\r\n    <>\r\n      {message.eventType === 'template' ? (\r\n        <div className='temp_message'>\r\n          <p className='temp_messageText'>{message.templateText}</p>\r\n        </div>\r\n      ) : message.eventType === 'note' ? (\r\n        <div className='note_message'>\r\n          <p className='note_messageText'>\r\n            <span style={{color: message?.clientNotes?.priority === 'high' ? 'red' : message?.clientNotes?.priority === 'medium' ? 'royalblue' : '#9b9b9b', fontSize: '12px', fontWeight: '700'}}>NOTE: </span>\r\n            {message.clientNotes.noteText}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className={own || ownAlt ? 'message own' : 'message'}>\r\n          <div className={own || ownAlt ? 'messageTop _own_' : 'messageTop'}>\r\n            {showSelector && (\r\n              <Checkbox\r\n                size='small'\r\n                style={{ placeSelf: 'center', marginRight: '15px' }}\r\n                // id={i._id}\r\n                // name={i._id}\r\n                // value={i.wa_id}\r\n                onChange={() => {\r\n                  if (\r\n                    mulForward?.find(\r\n                      (element) =>\r\n                        (element?.data?.body &&\r\n                          element?.data?.body == message?.text?.body) ||\r\n                        (element?.data?.body &&\r\n                          message?.messages &&\r\n                          element?.data?.body ==\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .body) ||\r\n                        (element?.data?.id &&\r\n                          element?.data?.id == message?.data?.id) ||\r\n                        (element?.data?.id &&\r\n                          message?.messages &&\r\n                          element?.data?.id ==\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .id)\r\n                    )\r\n                  ) {\r\n                    let index = mulForward?.findIndex(\r\n                      (x) =>\r\n                        (x?.data?.body &&\r\n                          x?.data?.body === message?.text?.body) ||\r\n                        (x?.data?.id && x?.data?.id === message?.data?.id) ||\r\n                        (x?.data?.body &&\r\n                          message?.messages &&\r\n                          x?.data?.body ===\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .body) ||\r\n                        (x.data.id &&\r\n                          message?.messages &&\r\n                          x.data.id ===\r\n                            message?.messages[0]?.[message?.messages[0]?.type]\r\n                              .id)\r\n                    );\r\n                    mulForward.splice(index, 1);\r\n                  } else {\r\n                    setMulForward([\r\n                      ...mulForward,\r\n                      {\r\n                        type:\r\n                          message?.type ||\r\n                          (message?.messages && message?.messages[0]?.type),\r\n                        data:\r\n                          message?.data ||\r\n                          message.text ||\r\n                          (message?.messages &&\r\n                            message?.messages[0]?.[message?.messages[0]?.type]),\r\n                      },\r\n                    ]);\r\n                    // : message?.type === 'text' ||\r\n                    // message?.messages[0]?.type === 'text' ? setMulForward([\r\n                    //     ...mulForward,\r\n                    //     {\r\n                    //       type:\r\n                    //         message.type ||\r\n                    //         (message?.messages && message?.messages[0]?.type),\r\n                    //       data:\r\n                    //         message.text ||\r\n                    //         (message?.messages &&\r\n                    //           message?.messages[0]?.text),\r\n                    //     },\r\n                    //   ]) : setMulForward([\r\n                    //     ...mulForward,\r\n                    //     {\r\n                    //       type:\r\n                    //         message.type ||\r\n                    //         (message?.messages && message?.messages[0]?.type),\r\n                    //       data:\r\n                    //         message.text ||\r\n                    //         (message?.messages &&\r\n                    //           message?.messages[0]?.text),\r\n                    //     },\r\n                    //   ])\r\n                  }\r\n                }}\r\n              />\r\n            )}\r\n            {message.type === 'image' ||\r\n            (message?.messages && message?.messages[0]?.type == 'image') ? (\r\n              <div className={own || ownAlt ? 'messageImage own_' : 'messageImage'}>\r\n              <img\r\n                src={image}\r\n                className={own || ownAlt ? 'imageBox ownimg_' : 'imageBox'}\r\n                // className={own || ownAlt ? 'messageImage own_' : 'messageImage'}\r\n              />\r\n              <div style={{textAlign: 'start', padding: '0px 7px 0px 7px', fontSize: '13px', width: '-webkit-fill-available'}}>\r\n                {message?.data?.caption || message?.messages && message?.messages[0]?.[message?.messages[0]?.type]?.caption}\r\n              </div>\r\n              </div>\r\n            ) : message.type === 'video' ||\r\n              (message?.messages && message?.messages[0]?.type == 'video') ? (\r\n              <div className={\r\n                own || ownAlt ? 'messageVideo ownVid' : 'messageVideo'\r\n              }>\r\n              <video\r\n                controls\r\n                src={image}\r\n                className={\r\n                  own || ownAlt ? 'videoBox ownVid_' : 'videoBox'\r\n                }\r\n              />\r\n              <div style={{textAlign: 'start', padding: '0px 7px 0px 7px', fontSize: '13px', width: '-webkit-fill-available'}}>\r\n                {message?.data?.caption || message?.messages && message?.messages[0]?.[message?.messages[0]?.type]?.caption}\r\n              </div>\r\n              </div>\r\n            ) : message.type === 'voice' || message.type === 'audio' ||\r\n              (message?.messages && message?.messages[0]?.type == 'voice') || (message?.messages && message?.messages[0]?.type == 'audio') ? (\r\n              <ReactAudioPlayer\r\n                src={image}\r\n                style={{ marginBottom: '15px' }}\r\n                controls\r\n              />\r\n            ) : message.type === 'document' ||\r\n              (message?.messages &&\r\n                message?.messages[0]?.type == 'document') ? (\r\n              <div\r\n                className={own || ownAlt ? 'messageDocs own_' : 'messageDocs'}\r\n              >\r\n                {/* <iframe src={image} height=\"200\" width=\"300\"></iframe> */}\r\n                {/* {JSON.stringify(image)} */}\r\n                {/* <img src={image} /> */}\r\n                <a href={image} target='_blank'>\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.document?.filename || message?.messages[0]?.document?.caption\r\n                    : message.data.filename\r\n                    ? message.data.filename\r\n                    : !message.data.filename\r\n                    ? message.data.caption\r\n                    : null}\r\n                </a>\r\n                {/* {message?.messages ? message?.messages[0]?.document?.filename : message.data.filename ? message.data.filename : null} */}\r\n              </div>\r\n            ) : message.type === 'button' ||\r\n              (message?.messages && message?.messages[0]?.type == 'button') ? (\r\n              <div>\r\n                <p className='messageTextContext'>{context}</p>\r\n                <p className='messageTextReplyBtn'>\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.button?.text\r\n                    : message?.replyButton\r\n                    ? message?.replyButton\r\n                    : null}\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div style={{ whiteSpace: 'pre-wrap' }}>\r\n                {message?.context ||\r\n                (message?.messages && message?.messages[0]?.context) ? (\r\n                  <div>\r\n                    {fileType === 'image' ||\r\n                    fileType === 'video' ||\r\n                    fileType === 'document' ? (\r\n                      // <iframe\r\n                      //   src={context}\r\n                      //   width='100'\r\n                      //   height='100'\r\n                      //   style={{ border: '2px solid #fff' }}\r\n                      // ></iframe>\r\n                      <div className='messageFileContext'>\r\n                        <a href={context} target='_blank'>\r\n                          file link\r\n                        </a>\r\n                      </div>\r\n                    ) : (\r\n                      <p className='messageTextContext'>{context}</p>\r\n                    )}\r\n                  </div>\r\n                ) : null}\r\n                <p\r\n                  className={\r\n                    message.context ||\r\n                    (message?.messages && message?.messages[0]?.context)\r\n                      ? 'messageTextReply'\r\n                      : 'messageText'\r\n                  }\r\n                >\r\n                  {message?.messages\r\n                    ? message?.messages[0]?.text?.body\r\n                    : message?.text?.body\r\n                    ? message?.text?.body\r\n                    : null}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n            {own || ownAlt ? (\r\n              <>\r\n                {message.status === 'read' || status?.find(e => e?.msgId == message?.id)?.msgStatus  == 'read' ? (\r\n                  <DoneAllIcon className='seen' />\r\n                ) : message.status === 'delivered' || status?.find(e => e?.msgId == message?.id)?.msgStatus == 'delivered' ? (\r\n                  <DoneAllIcon className='delivered' />\r\n                ) : message.status === 'sent' || status?.find(e => e?.msgId == message?.id)?.msgStatus == 'sent' ? (\r\n                  <DoneIcon className='sent' />\r\n                ) : (\r\n                  <ScheduleIcon className='notsent' />\r\n                )}\r\n              </>\r\n            ) : null}\r\n            <div className='messageBottom'>\r\n              {/* {format(\r\n                message?.createdAt ||\r\n                  (message?.messages &&\r\n                    new Date(message?.messages[0]?.timestamp * 1000))\r\n              )} */}\r\n              {moment(\r\n                message?.createdAt ||\r\n                  (message?.messages &&\r\n                    new Date(message?.messages[0]?.timestamp * 1000))\r\n              ).format('lll')}\r\n            </div>\r\n            <div className='fowardCont'>\r\n              <ReplyIcon\r\n                className='forward'\r\n                onClick={() => {\r\n                  setForward({\r\n                    type:\r\n                      message?.type ||\r\n                      (message?.messages && message?.messages[0]?.type),\r\n                    data:\r\n                      message?.data ||\r\n                      message.text ||\r\n                      (message?.messages &&\r\n                        message?.messages[0]?.[message?.messages[0]?.type]),\r\n                  });\r\n                  setVisible(true);\r\n                }}\r\n              />\r\n              <ReplyAllIcon\r\n                className='forward'\r\n                onClick={() => setShowSelector(true)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Message;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}